{
  "basePath" : "/_matrix",
  "paths" : {
    "/client/r0/user/{userId}/account_data/{type}" : {
      "put" : {
        "summary" : "Set some account_data for the user.",
        "description" : "Set some account_data for the client. This config is only visible to the user\nthat set the account_data. The config will be synced to clients in the\ntop-level ``account_data``.",
        "operationId" : "setAccountData",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "required" : true,
          "description" : "The id of the user to set account_data for. The access token must be\nauthorized to make requests for this user id.",
          "x-example" : "@alice:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "type",
          "required" : true,
          "description" : "The event type of the account_data to set. Custom types should be\nnamespaced to avoid clashes.",
          "x-example" : "org.example.custom.config"
        }, {
          "in" : "body",
          "name" : "content",
          "required" : true,
          "description" : "The content of the account_data",
          "schema" : {
            "type" : "object",
            "example" : "{\"custom_account_data_key\": \"custom_config_value\"}",
            "additionalProperties" : {
              "type" : "string"
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The account_data was successfully added."
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/user/{userId}/rooms/{roomId}/account_data/{type}" : {
      "put" : {
        "summary" : "Set some account_data for the user.",
        "description" : "Set some account_data for the client on a given room. This config is only\nvisible to the user that set the account_data. The config will be synced to\nclients in the per-room ``account_data``.",
        "operationId" : "setAccountDataForRoom",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "required" : true,
          "description" : "The id of the user to set account_data for. The access token must be\nauthorized to make requests for this user id.",
          "x-example" : "@alice:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "required" : true,
          "description" : "The id of the room to set account_data on.",
          "x-example" : "!726s6s6q:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "type",
          "required" : true,
          "description" : "The event type of the account_data to set. Custom types should be\nnamespaced to avoid clashes.",
          "x-example" : "org.example.custom.room.config"
        }, {
          "in" : "body",
          "name" : "content",
          "required" : true,
          "description" : "The content of the account_data",
          "schema" : {
            "type" : "object",
            "example" : "{\"custom_account_data_key\": \"custom_account_data_value\"}",
            "additionalProperties" : {
              "type" : "string"
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The account_data was successfully added."
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/account/3pid" : {
      "get" : {
        "summary" : "Gets a list of a user's third party identifiers.",
        "description" : "Gets a list of the third party identifiers that the homeserver has\nassociated with the user's account.\n\nThis is *not* the same as the list of third party identifiers bound to\nthe user's Matrix ID in Identity Servers.\n\nIdentifiers in this list may be used by the homeserver as, for example,\nidentifiers that it will accept to reset the user's account password.",
        "operationId" : "getUserIdentifiers",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "responses" : {
          "200" : {
            "description" : "The lookup was successful.",
            "examples" : {
              "application/json" : "{\n  \"threepids\": [\n    {\n      \"medium\": \"email\",\n      \"address\": \"monkey@banana.island\"\n    }\n  ]\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "UserIdentifiersResponse",
              "properties" : {
                "threepids" : {
                  "type" : "array",
                  "items" : {
                    "type" : "object",
                    "title" : "Third party identifier",
                    "properties" : {
                      "medium" : {
                        "type" : "string",
                        "description" : "The medium of the third party identifier.",
                        "enum" : [ "email" ]
                      },
                      "address" : {
                        "type" : "string",
                        "description" : "The third party identifier address."
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "tags" : [ "User data" ]
      },
      "post" : {
        "summary" : "Adds contact information to the user's account.",
        "description" : "Adds contact information to the user's account.",
        "operationId" : "addCredentials",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "schema" : {
            "type" : "object",
            "title" : "AddCredentialsRequest",
            "properties" : {
              "three_pid_creds" : {
                "title" : "ThreePidCredentials",
                "type" : "object",
                "description" : "The third party credentials to associate with the account.",
                "properties" : {
                  "client_secret" : {
                    "type" : "string",
                    "description" : "The client secret used in the session with the Identity Server."
                  },
                  "id_server" : {
                    "type" : "string",
                    "description" : "The Identity Server to use."
                  },
                  "sid" : {
                    "type" : "string",
                    "description" : "The session identifier given by the Identity Server."
                  }
                },
                "required" : [ "client_secret", "id_server", "sid" ]
              },
              "bind" : {
                "type" : "boolean",
                "description" : "Whether the homeserver should also bind this third party\nidentifier to the account's Matrix ID with the passed identity\nserver. Default: ``false``.",
                "x-example" : true
              }
            },
            "required" : [ "three_pid_creds" ],
            "example" : "{\n  \"three_pid_creds\": {\n    \"id_server\": \"matrix.org\",\n    \"sid\": \"abc123987\",\n    \"client_secret\": \"d0n'tT3ll\"\n  },\n  \"bind\": false\n}"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The addition was successful.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "403" : {
            "description" : "The credentials could not be verified with the identity server.",
            "examples" : {
              "application/json" : "{\n  \"errcode\": \"M_THREEPID_AUTH_FAILED\",\n  \"error\": \"The third party credentials could not be verified by the identity server.\"\n}"
            }
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/account/3pid/email/requestToken" : {
      "post" : {
        "summary" : "Requests a validation token be sent to the given email address for the purpose of adding an email address to an account",
        "description" : "Proxies the identity server API ``validate/email/requestToken``, but\nfirst checks that the given email address is **not** already associated\nwith an account on this Home Server. This API should be used to request\nvalidation tokens when adding an email address to an account. This API's\nparameters and response is identical to that of the HS API\n|/register/email/requestToken|_ endpoint.",
        "operationId" : "requestEmailValidationAfterAdd",
        "responses" : {
          "200" : {
            "description" : "An email was sent to the given address"
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/admin/whois/{userId}" : {
      "get" : {
        "summary" : "Gets information about a particular user.",
        "operationId" : "whoIs",
        "description" : "Gets information about a particular user.\n\nThis API may be restricted to only be called by the user being looked\nup, or by a server admin. Server-local administrator privileges are not\nspecified in this document.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "description" : "The user to look up.",
          "required" : true,
          "x-example" : "@peter:rabbit.rocks"
        } ],
        "responses" : {
          "200" : {
            "description" : "The lookup was successful.",
            "examples" : {
              "application/json" : "{\n  \"user_id\": \"@peter:rabbit.rocks\",\n  \"devices\": {\n    \"teapot\": {\n      \"sessions\": [\n        {\n          \"connections\": [\n            {\n              \"ip\": \"127.0.0.1\",\n              \"last_seen\": 1411996332123,\n              \"user_agent\": \"curl/7.31.0-DEV\"\n            },\n            {\n              \"ip\": \"10.0.0.2\",\n              \"last_seen\": 1411996332123,\n              \"user_agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/37.0.2062.120 Safari/537.36\"\n            }\n          ]\n        }\n      ]\n    }\n  }\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "WhoIsResponse",
              "properties" : {
                "user_id" : {
                  "type" : "string",
                  "description" : "The Matrix user ID of the user."
                },
                "devices" : {
                  "type" : "object",
                  "description" : "Each key is an identitfier for one of the user's devices.",
                  "additionalProperties" : {
                    "type" : "object",
                    "title" : "DeviceInfo",
                    "properties" : {
                      "sessions" : {
                        "type" : "array",
                        "description" : "A user's sessions (i.e. what they did with an access token from one login).",
                        "items" : {
                          "type" : "object",
                          "title" : "SessionInfo",
                          "properties" : {
                            "connections" : {
                              "type" : "array",
                              "description" : "Information particular connections in the session.",
                              "items" : {
                                "type" : "object",
                                "title" : "ConnectionInfo",
                                "properties" : {
                                  "ip" : {
                                    "type" : "string",
                                    "description" : "Most recently seen IP address of the session."
                                  },
                                  "last_seen" : {
                                    "type" : "number",
                                    "description" : "Unix timestamp that the session was last active."
                                  },
                                  "user_agent" : {
                                    "type" : "string",
                                    "description" : "User agent string last seen in the session."
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "tags" : [ "Server administration" ]
      }
    },
    "/client/r0/rooms/{roomId}/ban" : {
      "post" : {
        "summary" : "Ban a user in the room.",
        "description" : "Ban a user in the room. If the user is currently in the room, also kick them.\n\nWhen a user is banned from a room, they may not join it or be invited to it until they are unbanned.\n\nThe caller must have the required power level in order to perform this operation.",
        "operationId" : "roomBanUser",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room identifier (not alias) from which the user should be banned.",
          "required" : true,
          "x-example" : "!e42d8c:matrix.org"
        }, {
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "type" : "object",
            "title" : "RoomBanRequest",
            "example" : "{\n  \"reason\": \"Telling unfunny jokes\",\n  \"user_id\": \"@cheeky_monkey:matrix.org\"\n}",
            "properties" : {
              "user_id" : {
                "type" : "string",
                "description" : "The fully qualified user ID of the user being banned."
              },
              "reason" : {
                "type" : "string",
                "description" : "The reason the user has been banned."
              }
            },
            "required" : [ "user_id" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The user has been kicked and banned from the room.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "403" : {
            "description" : "You do not have permission to ban the user from the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejections are:\n\n- The banner is not currently in the room.\n- The banner's power level is insufficient to ban users from the room.",
            "examples" : {
              "application/json" : "{\n  \"errcode\": \"M_FORBIDDEN\",\n  \"error\": \"You do not have a high enough power level to ban from this room.\"\n}"
            }
          }
        },
        "tags" : [ "Room membership" ]
      }
    },
    "/client/r0/rooms/{roomId}/unban" : {
      "post" : {
        "summary" : "Unban a user from the room.",
        "description" : "Unban a user from the room. This allows them to be invited to the room,\nand join if they would otherwise be allowed to join according to its join rules.\n\nThe caller must have the required power level in order to perform this operation.",
        "operationId" : "roomUnbanUser",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room identifier (not alias) from which the user should be unbanned.",
          "required" : true,
          "x-example" : "!e42d8c:matrix.org"
        }, {
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "type" : "object",
            "title" : "RoomUnbanRequest",
            "example" : "{\n  \"user_id\": \"@cheeky_monkey:matrix.org\"\n}",
            "properties" : {
              "user_id" : {
                "type" : "string",
                "description" : "The fully qualified user ID of the user being unbanned."
              }
            },
            "required" : [ "user_id" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The user has been unbanned from the room.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "403" : {
            "description" : "You do not have permission to unban the user from the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejections are:\n\n- The unbanner's power level is insufficient to unban users from the room.",
            "examples" : {
              "application/json" : "{\n  \"errcode\": \"M_FORBIDDEN\",\n  \"error\": \"You do not have a high enough power level to unban from this room.\"\n}"
            }
          }
        },
        "tags" : [ "Room membership" ]
      }
    },
    "/client/r0/login/cas/redirect" : {
      "get" : {
        "summary" : "Redirect the user's browser to the CAS interface.",
        "description" : "A web-based Matrix client should instruct the user's browser to\nnavigate to this endpoint in order to log in via CAS.\n\nThe server MUST respond with an HTTP redirect to the CAS interface. The\nURI MUST include a ``service`` parameter giving the path of the\n|/login/cas/ticket|_ endpoint (including the ``redirectUrl`` query\nparameter).\n\nFor example, if the endpoint is called with\n``redirectUrl=https://client.example.com/?q=p``, it might redirect to\n``https://cas.example.com/?service=https%3A%2F%2Fserver.example.com%2F_matrix%2Fclient%2F%CLIENT_MAJOR_VERSION%%2Flogin%2Fcas%2Fticket%3FredirectUrl%3Dhttps%253A%252F%252Fclient.example.com%252F%253Fq%253Dp``.",
        "operationId" : "casRedirect",
        "parameters" : [ {
          "in" : "query",
          "type" : "string",
          "name" : "redirectUrl",
          "description" : "URI to which the user will be redirected after the homeserver has\nauthenticated the user with CAS.",
          "required" : true
        } ],
        "responses" : {
          "302" : {
            "description" : "A redirect to the CAS interface.",
            "headers" : {
              "Location" : {
                "type" : "string"
              }
            }
          }
        },
        "tags" : [ "CAS authentication" ]
      }
    },
    "/client/r0/login/cas/ticket" : {
      "get" : {
        "summary" : "Receive and validate a CAS login ticket.",
        "description" : "Once the CAS server has authenticated the user, it will redirect the\nbrowser to this endpoint (assuming |/login/cas/redirect|_ gave it the\ncorrect ``service`` parameter).\n\nThe server MUST call ``/proxyValidate`` on the CAS server, to validate\nthe ticket supplied by the browser.\n\nIf validation is successful, the server must generate a Matrix login\ntoken. It must then respond with an HTTP redirect to the URI given in\nthe ``redirectUrl`` parameter, adding a ``loginToken`` query parameter\ngiving the generated token.\n\nIf validation is unsuccessful, the server should respond with a ``401\nUnauthorized`` error, the body of which will be displayed to the user.",
        "operationId" : "casTicket",
        "parameters" : [ {
          "in" : "query",
          "type" : "string",
          "name" : "redirectUrl",
          "description" : "The ``redirectUrl`` originally provided by the client to\n|/login/cas/redirect|_.",
          "required" : true
        }, {
          "in" : "query",
          "type" : "string",
          "name" : "ticket",
          "description" : "CAS authentication ticket.",
          "required" : true
        } ],
        "responses" : {
          "302" : {
            "description" : "A redirect to the Matrix client.",
            "headers" : {
              "Location" : {
                "type" : "string",
                "x-example" : "https://client.example.com/?q=p&loginToken=secrettoken"
              }
            }
          },
          "401" : {
            "description" : "The server was unable to validate the CAS ticket."
          }
        },
        "tags" : [ "CAS authentication" ]
      }
    },
    "/media/r0/upload" : {
      "post" : {
        "summary" : "Upload some content to the content repository.",
        "operationId" : "uploadMedia",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "header",
          "name" : "Content-Type",
          "type" : "string",
          "description" : "The content type of the file being uploaded",
          "x-example" : "Content-Type: audio/mpeg"
        }, {
          "in" : "query",
          "name" : "filename",
          "type" : "string",
          "description" : "The name of the file being uploaded",
          "x-example" : "War and Peace.pdf"
        }, {
          "in" : "body",
          "name" : "content",
          "description" : "The content to be uploaded.",
          "required" : true,
          "schema" : {
            "type" : "string",
            "example" : "<bytes>",
            "format" : "byte"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The MXC URI for the uploaded content.",
            "schema" : {
              "type" : "object",
              "title" : "UploadResponse",
              "required" : [ "content_uri" ],
              "properties" : {
                "content_uri" : {
                  "type" : "string",
                  "description" : "The MXC URI to the uploaded content."
                }
              }
            },
            "examples" : {
              "application/json" : "{\n  \"content_uri\": \"mxc://example.com/AQwafuaFswefuhsfAFAgsw\"\n}"
            }
          }
        },
        "tags" : [ "Media" ]
      }
    },
    "/media/r0/download/{serverName}/{mediaId}" : {
      "get" : {
        "summary" : "Download content from the content repository.",
        "operationId" : "downloadMedia",
        "produces" : [ "*/*" ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "serverName",
          "x-example" : "matrix.org",
          "required" : true,
          "description" : "The server name from the ``mxc://`` URI (the authoritory component)\n"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "mediaId",
          "x-example" : "ascERGshawAWawugaAcauga",
          "required" : true,
          "description" : "The media ID from the ``mxc://`` URI (the path component)\n"
        } ],
        "responses" : {
          "200" : {
            "description" : "The content that was previously uploaded.",
            "headers" : {
              "Content-Type" : {
                "description" : "The content type of the file that was previously uploaded.",
                "type" : "string"
              },
              "Content-Disposition" : {
                "description" : "The name of the file that was previously uploaded, if set.",
                "type" : "string"
              }
            },
            "schema" : {
              "type" : "file"
            }
          }
        },
        "tags" : [ "Media" ]
      }
    },
    "/media/r0/download/{serverName}/{mediaId}/{fileName}" : {
      "get" : {
        "summary" : "Download content from the content repository as a given filename.",
        "operationId" : "downloadMediaFile",
        "produces" : [ "*/*" ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "serverName",
          "x-example" : "matrix.org",
          "required" : true,
          "description" : "The server name from the ``mxc://`` URI (the authoritory component)\n"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "mediaId",
          "x-example" : "ascERGshawAWawugaAcauga",
          "required" : true,
          "description" : "The media ID from the ``mxc://`` URI (the path component)\n"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "fileName",
          "x-example" : "filename.jpg",
          "required" : true,
          "description" : "The filename to give in the Content-Disposition\n"
        } ],
        "responses" : {
          "200" : {
            "description" : "The content that was previously uploaded.",
            "headers" : {
              "Content-Type" : {
                "description" : "The content type of the file that was previously uploaded.",
                "type" : "string"
              },
              "Content-Disposition" : {
                "description" : "The name of file given in the request",
                "type" : "string"
              }
            },
            "schema" : {
              "type" : "file"
            }
          }
        },
        "tags" : [ "Media" ]
      }
    },
    "/media/r0/thumbnail/{serverName}/{mediaId}" : {
      "get" : {
        "summary" : "Download a thumbnail of the content from the content repository.",
        "operationId" : "downloadMediaThumbnail",
        "produces" : [ "image/jpeg", "image/png" ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "serverName",
          "required" : true,
          "x-example" : "matrix.org",
          "description" : "The server name from the ``mxc://`` URI (the authoritory component)\n"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "mediaId",
          "x-example" : "ascERGshawAWawugaAcauga",
          "required" : true,
          "description" : "The media ID from the ``mxc://`` URI (the path component)\n"
        }, {
          "in" : "query",
          "type" : "integer",
          "x-example" : 64,
          "name" : "width",
          "description" : "The *desired* width of the thumbnail. The actual thumbnail may not\nmatch the size specified."
        }, {
          "in" : "query",
          "type" : "integer",
          "x-example" : 64,
          "name" : "height",
          "description" : "The *desired* height of the thumbnail. The actual thumbnail may not\nmatch the size specified."
        }, {
          "in" : "query",
          "type" : "string",
          "enum" : [ "crop", "scale" ],
          "name" : "method",
          "x-example" : "scale",
          "description" : "The desired resizing method."
        } ],
        "responses" : {
          "200" : {
            "description" : "A thumbnail of the requested content.",
            "headers" : {
              "Content-Type" : {
                "description" : "The content type of the thumbnail.",
                "type" : "string",
                "enum" : [ "image/jpeg", "image/png" ]
              }
            },
            "schema" : {
              "type" : "file"
            }
          }
        },
        "tags" : [ "Media" ]
      }
    },
    "/client/r0/createRoom" : {
      "post" : {
        "summary" : "Create a new room",
        "operationId" : "createRoom",
        "description" : "Create a new room with various configuration options.\n\nThe server MUST apply the normal state resolution rules when creating\nthe new room, including checking power levels for each event. It MUST\napply the events implied by the request in the following order:\n\n1. Events set by ``presets``.\n\n2. Events listed in ``initial_state``, in the order that they are\n   listed.\n\n3. Events implied by ``name`` and ``topic``.\n\n4. Invite events implied by ``invite`` and ``invite_3pid``.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "description" : "The desired room configuration.",
          "schema" : {
            "type" : "object",
            "title" : "CreateRoomRequest",
            "example" : "{\n  \"preset\": \"public_chat\",\n  \"room_alias_name\": \"thepub\",\n  \"name\": \"The Grand Duke Pub\",\n  \"topic\": \"All about happy hour\",\n  \"creation_content\": {\n      \"m.federate\": false\n  }\n}",
            "properties" : {
              "visibility" : {
                "type" : "string",
                "enum" : [ "public", "private" ],
                "description" : "A ``public`` visibility indicates that the room will be shown\nin the published room list. A ``private`` visibility will hide\nthe room from the published room list. Rooms default to\n``private`` visibility if this key is not included. NB: This\nshould not be confused with ``join_rules`` which also uses the\nword ``public``."
              },
              "room_alias_name" : {
                "type" : "string",
                "description" : "The desired room alias **local part**. If this is included, a\nroom alias will be created and mapped to the newly created\nroom. The alias will belong on the *same* homeserver which\ncreated the room. For example, if this was set to \"foo\" and\nsent to the homeserver \"example.com\" the complete room alias\nwould be ``#foo:example.com``."
              },
              "name" : {
                "type" : "string",
                "description" : "If this is included, an ``m.room.name`` event will be sent\ninto the room to indicate the name of the room. See Room\nEvents for more information on ``m.room.name``."
              },
              "topic" : {
                "type" : "string",
                "description" : "If this is included, an ``m.room.topic`` event will be sent\ninto the room to indicate the topic for the room. See Room\nEvents for more information on ``m.room.topic``."
              },
              "invite" : {
                "type" : "array",
                "description" : "A list of user IDs to invite to the room. This will tell the\nserver to invite everyone in the list to the newly created room.",
                "items" : {
                  "type" : "string"
                }
              },
              "invite_3pid" : {
                "type" : "array",
                "description" : "A list of objects representing third party IDs to invite into\nthe room.",
                "items" : {
                  "type" : "object",
                  "title" : "Invite3pid",
                  "properties" : {
                    "id_server" : {
                      "type" : "string",
                      "description" : "The hostname+port of the identity server which should be used for third party identifier lookups."
                    },
                    "medium" : {
                      "type" : "string",
                      "description" : "The kind of address being passed in the address field, for example ``email``."
                    },
                    "address" : {
                      "type" : "string",
                      "description" : "The invitee's third party identifier."
                    }
                  },
                  "required" : [ "id_server", "medium", "address" ]
                }
              },
              "creation_content" : {
                "title" : "CreationContent",
                "type" : "object",
                "description" : "Extra keys to be added to the content of the ``m.room.create``.\nThe server will clobber the following keys: ``creator``. Future\nversions of the specification may allow the server to clobber\nother keys."
              },
              "initial_state" : {
                "type" : "array",
                "description" : "A list of state events to set in the new room. This allows\nthe user to override the default state events set in the new\nroom. The expected format of the state events are an object\nwith type, state_key and content keys set.\n\nTakes precedence over events set by ``presets``, but gets\noverriden by ``name`` and ``topic`` keys.",
                "items" : {
                  "type" : "object",
                  "title" : "InitialStateEvent",
                  "properties" : {
                    "type" : {
                      "type" : "string"
                    },
                    "state_key" : {
                      "type" : "string"
                    },
                    "content" : {
                      "type" : "string"
                    }
                  }
                }
              },
              "preset" : {
                "type" : "string",
                "enum" : [ "private_chat", "public_chat", "trusted_private_chat" ],
                "description" : "Convenience parameter for setting various default state events\nbased on a preset. Must be either:\n\n``private_chat`` =>\n  ``join_rules`` is set to ``invite``.\n  ``history_visibility`` is set to ``shared``.\n\n``trusted_private_chat`` =>\n    ``join_rules`` is set to ``invite``.\n    ``history_visibility`` is set to ``shared``.\n    All invitees are given the same power level as the room creator.\n\n``public_chat``: =>\n    ``join_rules`` is set to ``public``.\n    ``history_visibility`` is set to ``shared``."
              },
              "is_direct" : {
                "type" : "boolean",
                "description" : "This flag makes the server set the ``is_direct`` flag on the\n``m.room.member`` events sent to the users in ``invite`` and\n``invite_3pid``. See `Direct Messaging`_ for more information."
              }
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Information about the newly created room.",
            "schema" : {
              "type" : "object",
              "title" : "CreateRoomResponse",
              "description" : "Information about the newly created room.",
              "properties" : {
                "room_id" : {
                  "type" : "string",
                  "description" : "The created room's ID."
                }
              }
            },
            "examples" : {
              "application/json" : "{\n  \"room_id\": \"!sefiuhWgwghwWgh:example.com\"\n}"
            }
          },
          "400" : {
            "description" : "\nThe request is invalid. A meaningful ``errcode`` and description\nerror text will be returned. Example reasons for rejection include:\n\n- The request body is malformed (``errcode`` set to ``M_BAD_JSON``\n  or ``M_NOT_JSON``).\n\n- The room alias specified is already taken (``errcode`` set to\n  ``M_ROOM_IN_USE``).\n\n- The initial state implied by the parameters to the request is\n  invalid: for example, the user's ``power_level`` is set below\n  that necessary to set the room name (``errcode`` set to\n  ``M_INVALID_ROOM_STATE``)."
          }
        },
        "tags" : [ "Room creation" ]
      }
    },
    "/client/r0/devices" : {
      "get" : {
        "summary" : "List registered devices for the current user",
        "operationId" : "getDevices",
        "description" : "Gets information about all devices for the current user.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "responses" : {
          "200" : {
            "description" : "Device information",
            "schema" : {
              "type" : "object",
              "title" : "DevicesResponse",
              "properties" : {
                "devices" : {
                  "type" : "array",
                  "description" : "A list of all registered devices for this user.",
                  "items" : {
                    "type" : "object",
                    "allOf" : [ {
                      "$ref" : "#/definitions/ClientDevice"
                    } ]
                  }
                }
              }
            },
            "examples" : {
              "application/json" : "{\n  \"devices\": [\n    {\n      \"device_id\": \"QBUAZIFURK\",\n      \"display_name\": \"android\",\n      \"last_seen_ip\": \"1.2.3.4\",\n      \"last_seen_ts\": 1474491775024\n    }\n  ]\n}"
            }
          }
        },
        "tags" : [ "Device management" ]
      }
    },
    "/client/r0/devices/{deviceId}" : {
      "get" : {
        "summary" : "Get a single device",
        "operationId" : "getDevice",
        "description" : "Gets information on a single device, by device id.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "deviceId",
          "description" : "The device to retrieve.",
          "required" : true,
          "x-example" : "QBUAZIFURK"
        } ],
        "responses" : {
          "200" : {
            "description" : "Device information",
            "schema" : {
              "type" : "object",
              "$ref" : "#/definitions/ClientDevice"
            },
            "examples" : {
              "application/json" : "{\n  \"device_id\": \"QBUAZIFURK\",\n  \"display_name\": \"android\",\n  \"last_seen_ip\": \"1.2.3.4\",\n  \"last_seen_ts\": 1474491775024\n}"
            }
          },
          "404" : {
            "description" : "The current user has no device with the given ID."
          }
        },
        "tags" : [ "Device management" ]
      },
      "put" : {
        "summary" : "Update a device",
        "operationId" : "updateDevice",
        "description" : "Updates the metadata on the given device.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "deviceId",
          "description" : "The device to update.",
          "required" : true,
          "x-example" : "QBUAZIFURK"
        }, {
          "in" : "body",
          "name" : "body",
          "required" : true,
          "description" : "New information for the device.",
          "schema" : {
            "type" : "object",
            "title" : "DeviceUpdateRequest",
            "properties" : {
              "display_name" : {
                "type" : "string",
                "description" : "The new display name for this device. If not given, the\ndisplay name is unchanged.",
                "example" : "My other phone"
              }
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The device was successfully updated.",
            "examples" : {
              "application/json" : "{}"
            },
            "schema" : {
              "type" : "object"
            }
          },
          "404" : {
            "description" : "The current user has no device with the given ID."
          }
        },
        "tags" : [ "Device management" ]
      },
      "delete" : {
        "summary" : "Delete a device",
        "operationId" : "deleteDevice",
        "description" : "This API endpoint uses the `User-Interactive Authentication API`_.\n\nDeletes the given device, and invalidates any access token assoicated with it.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "deviceId",
          "description" : "The device to delete.",
          "required" : true,
          "x-example" : "QBUAZIFURK"
        }, {
          "in" : "body",
          "name" : "body",
          "schema" : {
            "type" : "object",
            "title" : "DeviceDeleteRequest",
            "properties" : {
              "auth" : {
                "description" : "Additional authentication information for the\nuser-interactive authentication API.",
                "$ref" : "#/definitions/AuthData"
              }
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The device was successfully removed, or had been removed\npreviously.",
            "schema" : {
              "type" : "object"
            },
            "examples" : {
              "application/json" : "{}"
            }
          },
          "401" : {
            "description" : "The homeserver requires additional authentication information.",
            "schema" : {
              "$ref" : "#/definitions/AuthResponse"
            }
          }
        },
        "tags" : [ "Device management" ]
      }
    },
    "/client/r0/directory/room/{roomAlias}" : {
      "put" : {
        "summary" : "Create a new mapping from room alias to room ID.",
        "operationId" : "createRoomAlias",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomAlias",
          "description" : "The room alias to set.",
          "required" : true,
          "x-example" : "#monkeys:matrix.org"
        }, {
          "in" : "body",
          "name" : "roomInfo",
          "description" : "Information about this room alias.",
          "required" : true,
          "schema" : {
            "type" : "object",
            "properties" : {
              "room_id" : {
                "type" : "string",
                "description" : "The room ID to set."
              }
            },
            "example" : "{\n  \"room_id\": \"!abnjk1jdasj98:capuchins.com\"\n}"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The mapping was created.",
            "examples" : {
              "application/json" : "{}"
            },
            "schema" : {
              "type" : "object"
            }
          },
          "409" : {
            "description" : "A room alias with that name already exists.",
            "examples" : {
              "application/json" : "{\n  \"errcode\": \"M_UNKNOWN\",\n  \"error\": \"Room alias #monkeys:matrix.org already exists.\"\n}"
            }
          }
        },
        "tags" : [ "Room directory" ]
      },
      "get" : {
        "summary" : "Get the room ID corresponding to this room alias.",
        "operationId" : "getRoomId",
        "description" : "Requests that the server resolve a room alias to a room ID.\n\nThe server will use the federation API to resolve the alias if the\ndomain part of the alias does not correspond to the server's own\ndomain.",
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomAlias",
          "description" : "The room alias.",
          "required" : true,
          "x-example" : "#monkeys:matrix.org"
        } ],
        "responses" : {
          "200" : {
            "description" : "The room ID and other information for this alias.",
            "schema" : {
              "type" : "object",
              "title" : "RoomIdResponse",
              "properties" : {
                "room_id" : {
                  "type" : "string",
                  "description" : "The room ID for this room alias."
                },
                "servers" : {
                  "type" : "array",
                  "description" : "A list of servers that are aware of this room ID.",
                  "items" : {
                    "type" : "string",
                    "description" : "A server which is aware of this room ID."
                  }
                }
              }
            },
            "examples" : {
              "application/json" : "{\n  \"room_id\": \"!abnjk1jdasj98:capuchins.com\",\n  \"servers\": [\n    \"capuchins.com\",\n    \"matrix.org\",\n    \"another.com\"\n  ]\n}"
            }
          },
          "404" : {
            "description" : "There is no mapped room ID for this room alias.",
            "examples" : {
              "application/json" : "{\n  \"errcode\": \"M_NOT_FOUND\",\n  \"error\": \"Room ID !abnjk1jdasj98:capuchins.com not found.\"\n}"
            }
          }
        },
        "tags" : [ "Room directory" ]
      },
      "delete" : {
        "summary" : "Remove a mapping of room alias to room ID.",
        "operationId" : "deleteRoomAlias",
        "description" : "Remove a mapping of room alias to room ID.\n\nServers may choose to implement additional access control checks here, for instance that room aliases can only be deleted by their creator or a server administrator.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomAlias",
          "description" : "The room alias to remove.",
          "required" : true,
          "x-example" : "#monkeys:matrix.org"
        } ],
        "responses" : {
          "200" : {
            "description" : "The mapping was deleted.",
            "examples" : {
              "application/json" : "{}"
            },
            "schema" : {
              "type" : "object"
            }
          }
        },
        "tags" : [ "Room directory" ]
      }
    },
    "/client/r0/rooms/{roomId}/context/{eventId}" : {
      "get" : {
        "summary" : "Get events and state around the specified event.",
        "operationId" : "getEventWithContext",
        "description" : "This API returns a number of events that happened just before and\nafter the specified event. This allows clients to get the context\nsurrounding an event.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room to get events from.",
          "required" : true,
          "x-example" : "!636q39766251:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "eventId",
          "description" : "The event to get context around.",
          "required" : true,
          "x-example" : "$f3h4d129462ha:example.com"
        }, {
          "in" : "query",
          "type" : "integer",
          "name" : "limit",
          "description" : "The maximum number of events to return. Default: 10.",
          "x-example" : 3
        } ],
        "responses" : {
          "200" : {
            "description" : "The events and state surrounding the requested event.",
            "schema" : {
              "type" : "object",
              "title" : "EventWithContextResponse",
              "description" : "The events and state surrounding the requested event.",
              "properties" : {
                "start" : {
                  "type" : "string",
                  "description" : "A token that can be used to paginate backwards with."
                },
                "end" : {
                  "type" : "string",
                  "description" : "A token that can be used to paginate forwards with."
                },
                "events_before" : {
                  "type" : "array",
                  "description" : "A list of room events that happened just before the\nrequested event, in reverse-chronological order.",
                  "items" : {
                    "$ref" : "#/definitions/RoomEvent"
                  }
                },
                "event" : {
                  "description" : "Details of the requested event.",
                  "$ref" : "#/definitions/RoomEvent"
                },
                "events_after" : {
                  "type" : "array",
                  "description" : "A list of room events that happened just after the\nrequested event, in chronological order.",
                  "items" : {
                    "$ref" : "#/definitions/RoomEvent"
                  }
                },
                "state" : {
                  "type" : "array",
                  "description" : "The state of the room at the last event returned.",
                  "items" : {
                    "$ref" : "#/definitions/StateEvent"
                  }
                }
              }
            },
            "examples" : {
              "application/json" : "{\n  \"end\": \"t29-57_2_0_2\",\n  \"events_after\": [\n    {\n      \"age\": 91911336,\n      \"content\": {\n        \"body\": \"7\",\n        \"msgtype\": \"m.text\"\n      },\n      \"event_id\": \"$14460306086CiUaL:localhost:8480\",\n      \"origin_server_ts\": 1446030608551,\n      \"room_id\": \"!sCDvXTtzjpiPxaqkkt:localhost:8480\",\n      \"type\": \"m.room.message\",\n      \"sender\": \"@test:localhost:8480\"\n    }\n  ],\n  \"events_before\": [\n    {\n      \"age\": 91911903,\n      \"content\": {\n        \"body\": \"5\",\n        \"msgtype\": \"m.text\"\n      },\n      \"event_id\": \"$14460306074UYTlh:localhost:8480\",\n      \"origin_server_ts\": 1446030607984,\n      \"room_id\": \"!sCDvXTtzjpiPxaqkkt:localhost:8480\",\n      \"type\": \"m.room.message\",\n      \"sender\": \"@test:localhost:8480\"\n    }\n  ],\n  \"start\": \"t27-54_2_0_2\",\n  \"state\": [\n    {\n      \"age\": 3123715284,\n      \"content\": {\n        \"creator\": \"@test:localhost:8480\"\n      },\n      \"event_id\": \"$14429988040dgQAE:localhost:8480\",\n      \"origin_server_ts\": 1442998804603,\n      \"room_id\": \"!sCDvXTtzjpiPxaqkkt:localhost:8480\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.create\",\n      \"sender\": \"@test:localhost:8480\"\n    },\n    {\n      \"age\": 2067105053,\n      \"content\": {\n        \"avatar_url\": \"mxc://localhost:8480/tVWZTAIIfqtXMZZtmGCkVjTD#auto\",\n        \"displayname\": \"Bob2\",\n        \"membership\": \"join\"\n      },\n      \"event_id\": \"$14440554144URDbf:localhost:8480\",\n      \"origin_server_ts\": 1444055414834,\n      \"replaces_state\": \"$14440552472PgiGk:localhost:8480\",\n      \"room_id\": \"!sCDvXTtzjpiPxaqkkt:localhost:8480\",\n      \"state_key\": \"@test:localhost:8480\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@test:localhost:8480\"\n    }\n  ]\n}"
            }
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/user/{userId}/filter" : {
      "post" : {
        "summary" : "Upload a new filter.",
        "operationId" : "createFilter",
        "description" : "Uploads a new filter definition to the homeserver.\nReturns a filter ID that may be used in future requests to\nrestrict which events are returned to the client.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "required" : true,
          "description" : "The id of the user uploading the filter. The access token must be authorized to make requests for this user id.",
          "x-example" : "@alice:example.com"
        }, {
          "in" : "body",
          "name" : "filter",
          "required" : true,
          "description" : "The filter to upload.",
          "schema" : {
            "type" : "object",
            "$ref" : "#/definitions/SyncFilter",
            "example" : "{\n  \"room\": {\n    \"state\": {\n      \"types\": [\"m.room.*\"],\n      \"not_rooms\": [\"!726s6s6q:example.com\"]\n    },\n    \"timeline\": {\n      \"limit\": 10,\n      \"types\": [\"m.room.message\"],\n      \"not_rooms\": [\"!726s6s6q:example.com\"],\n      \"not_senders\": [\"@spam:example.com\"]\n    },\n    \"ephemeral\": {\n      \"types\": [\"m.receipt\", \"m.typing\"],\n      \"not_rooms\": [\"!726s6s6q:example.com\"],\n      \"not_senders\": [\"@spam:example.com\"]\n    }\n  },\n  \"presence\": {\n    \"types\": [\"m.presence\"],\n    \"not_senders\": [\"@alice:example.com\"]\n  },\n  \"event_format\": \"client\",\n  \"event_fields\": [\"type\", \"content\", \"sender\"]\n}"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The filter was created.",
            "examples" : {
              "application/json" : "{\n  \"filter_id\": \"66696p746572\"\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "CreateFilterResponse",
              "properties" : {
                "filter_id" : {
                  "type" : "string",
                  "description" : "The ID of the filter that was created."
                }
              }
            }
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/user/{userId}/filter/{filterId}" : {
      "get" : {
        "summary" : "Download a filter",
        "operationId" : "getFilter",
        "parameters" : [ {
          "in" : "path",
          "name" : "userId",
          "type" : "string",
          "description" : "The user ID to download a filter for.",
          "x-example" : "@alice:example.com",
          "required" : true
        }, {
          "in" : "path",
          "name" : "filterId",
          "type" : "string",
          "description" : "The filter ID to download.",
          "x-example" : "66696p746572",
          "required" : true
        } ],
        "responses" : {
          "200" : {
            "description" : "\"The filter defintion\"",
            "examples" : {
              "application/json" : "{\n  \"room\": {\n    \"state\": {\n      \"types\": [\"m.room.*\"],\n      \"not_rooms\": [\"!726s6s6q:example.com\"]\n    },\n    \"timeline\": {\n      \"limit\": 10,\n      \"types\": [\"m.room.message\"],\n      \"not_rooms\": [\"!726s6s6q:example.com\"],\n      \"not_senders\": [\"@spam:example.com\"]\n    },\n    \"ephemeral\": {\n      \"types\": [\"m.receipt\", \"m.typing\"],\n      \"not_rooms\": [\"!726s6s6q:example.com\"],\n      \"not_senders\": [\"@spam:example.com\"]\n    }\n  },\n  \"presence\": {\n    \"types\": [\"m.presence\"],\n    \"not_senders\": [\"@alice:example.com\"]\n  },\n  \"event_format\": \"client\",\n  \"event_fields\": [\"type\", \"content\", \"sender\"]\n}"
            },
            "schema" : {
              "type" : "object",
              "$ref" : "#/definitions/SyncFilter"
            }
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/rooms/{roomId}/invite " : {
      "post" : {
        "summary" : "Invite a user to participate in a particular room.",
        "description" : ".. _invite-by-user-id-endpoint:\n\n*Note that there are two forms of this API, which are documented separately.\nThis version of the API requires that the inviter knows the Matrix\nidentifier of the invitee. The other is documented in the*\n`third party invites section`_.\n\nThis API invites a user to participate in a particular room.\nThey do not start participating in the room until they actually join the\nroom.\n\nOnly users currently in a particular room can invite other users to\njoin that room.\n\nIf the user was invited to the room, the homeserver will append a\n``m.room.member`` event to the room.\n\n.. _third party invites section: `invite-by-third-party-id-endpoint`_",
        "operationId" : "roomInviteUser",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room identifier (not alias) to which to invite the user.",
          "required" : true,
          "x-example" : "!d41d8cd:matrix.org"
        }, {
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "type" : "object",
            "title" : "RoomInviteUserRequest",
            "example" : "{\n  \"user_id\": \"@cheeky_monkey:matrix.org\"\n}",
            "properties" : {
              "user_id" : {
                "type" : "string",
                "description" : "The fully qualified user ID of the invitee."
              }
            },
            "required" : [ "user_id" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The user has been invited to join the room.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "403" : {
            "description" : "You do not have permission to invite the user to the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejections are:\n\n- The invitee has been banned from the room.\n- The invitee is already a member of the room.\n- The inviter is not currently in the room.\n- The inviter's power level is insufficient to invite users to the room.",
            "examples" : {
              "application/json" : "{\"errcode\": \"M_FORBIDDEN\", \"error\": \"@cheeky_monkey:matrix.org is banned from the room\"}"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Room membership" ]
      }
    },
    "/client/r0/rooms/{roomId}/join" : {
      "post" : {
        "summary" : "Start the requesting user participating in a particular room.",
        "description" : "*Note that this API requires a room ID, not alias.* ``/join/{roomIdOrAlias}`` *exists if you have a room alias.*\n\nThis API starts a user participating in a particular room, if that user\nis allowed to participate in that room. After this call, the client is\nallowed to see all current state events in the room, and all subsequent\nevents associated with the room until the user leaves the room.\n\nAfter a user has joined a room, the room will appear as an entry in the\nresponse of the |/initialSync|_ and |/sync|_ APIs.\n\nIf a ``third_party_signed`` was supplied, the homeserver must verify\nthat it matches a pending ``m.room.third_party_invite`` event in the\nroom, and perform key validity checking if required by the event.",
        "operationId" : "roomJoin",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room identifier (not alias) to join.",
          "required" : true,
          "x-example" : "!d41d8cd:matrix.org"
        }, {
          "in" : "body",
          "name" : "ThirdParty",
          "schema" : {
            "type" : "object",
            "title" : "RoomJoinRequest",
            "properties" : {
              "third_party_signed" : {
                "$ref" : "#/definitions/ThirdParty"
              }
            },
            "example" : "{\n  \"third_party_signed\": {\n    \"sender\": \"@cat:the.hat\",\n    \"mxid\": \"@green:eggs.ham\",\n    \"token\": \"random8nonce\",\n    \"signatures\": {\n      \"horton.hears\": {\n        \"ed25519:0\": \"some9signature\"\n      }\n    }\n  }\n}"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The room has been joined.\n\nThe joined room ID must be returned in the ``room_id`` field.",
            "examples" : {
              "application/json" : "{\"room_id\": \"!d41d8cd:matrix.org\"}"
            },
            "schema" : {
              "$ref" : "#/definitions/RoomIdResponse"
            }
          },
          "403" : {
            "description" : "You do not have permission to join the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejection are:\n\n- The room is invite-only and the user was not invited.\n- The user has been banned from the room.",
            "examples" : {
              "application/json" : "{\"errcode\": \"M_FORBIDDEN\", \"error\": \"You are not invited to this room.\"}"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Room membership" ]
      }
    },
    "/client/r0/join/{roomIdOrAlias}" : {
      "post" : {
        "summary" : "Start the requesting user participating in a particular room.",
        "description" : "*Note that this API takes either a room ID or alias, unlike* ``/room/{roomId}/join``.\n\nThis API starts a user participating in a particular room, if that user\nis allowed to participate in that room. After this call, the client is\nallowed to see all current state events in the room, and all subsequent\nevents associated with the room until the user leaves the room.\n\nAfter a user has joined a room, the room will appear as an entry in the\nresponse of the |/initialSync|_ and |/sync|_ APIs.\n\nIf a ``third_party_signed`` was supplied, the homeserver must verify\nthat it matches a pending ``m.room.third_party_invite`` event in the\nroom, and perform key validity checking if required by the event.",
        "operationId" : "roomJoinByAlias",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomIdOrAlias",
          "description" : "The room identifier or alias to join.",
          "required" : true,
          "x-example" : "#monkeys:matrix.org"
        }, {
          "in" : "body",
          "name" : "ThirdPartySigned",
          "schema" : {
            "type" : "object",
            "title" : "RoomJoinWithAliasRequest",
            "properties" : {
              "third_party_signed" : {
                "type" : "object",
                "description" : "A signature of an ``m.third_party_invite`` token to prove that this user owns a third party identity which has been invited to the room.",
                "title" : "ThirdPartySignedSigned",
                "properties" : {
                  "signed" : {
                    "$ref" : "#/definitions/ThirdParty"
                  }
                },
                "required" : [ "signed" ]
              }
            },
            "example" : "{\n  \"third_party_signed\": {\n    \"signed\": {\n      \"sender\": \"@cat:the.hat\",\n      \"mxid\": \"@green:eggs.ham\",\n      \"token\": \"random8nonce\",\n      \"signatures\": {\n        \"horton.hears\": {\n          \"ed25519:0\": \"some9signature\"\n        }\n      }\n    }\n  }\n}"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The room has been joined.\n\nThe joined room ID must be returned in the ``room_id`` field.",
            "examples" : {
              "application/json" : "{\"room_id\": \"!d41d8cd:matrix.org\"}"
            },
            "schema" : {
              "$ref" : "#/definitions/RoomIdResponse"
            }
          },
          "403" : {
            "description" : "You do not have permission to join the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejection are:\n\n- The room is invite-only and the user was not invited.\n- The user has been banned from the room.",
            "examples" : {
              "application/json" : "{\"errcode\": \"M_FORBIDDEN\", \"error\": \"You are not invited to this room.\"}"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Room membership" ]
      }
    },
    "/client/r0/keys/upload" : {
      "post" : {
        "summary" : "Upload end-to-end encryption keys.",
        "description" : "Publishes end-to-end encryption keys for the device.",
        "operationId" : "uploadKeys",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "body",
          "name" : "keys",
          "description" : "The keys to be published",
          "schema" : {
            "type" : "object",
            "title" : "UploadKeysRequest",
            "properties" : {
              "device_keys" : {
                "description" : "Identity keys for the device. May be absent if no new\nidentity keys are required.",
                "$ref" : "#/definitions/DeviceKeys"
              },
              "one_time_keys" : {
                "type" : "object",
                "description" : "One-time public keys for \"pre-key\" messages.  The names of\nthe properties should be in the format\n``<algorithm>:<key_id>``. The format of the key is determined\nby the key algorithm.\n\nMay be absent if no new one-time keys are required.",
                "additionalProperties" : {
                  "type" : "object"
                },
                "example" : {
                  "curve25519:AAAAAQ" : "/qyvZvwjiTxGdGU0RCguDCLeR+nmsb3FfNG3/Ve4vU8",
                  "signed_curve25519:AAAAHg" : {
                    "key" : "zKbLg+NrIjpnagy+pIY6uPL4ZwEG2v+8F9lmgsnlZzs",
                    "signatures" : {
                      "@alice:example.com" : {
                        "ed25519:JLAFKJWSCS" : "FLWxXqGbwrb8SM3Y795eB6OA8bwBcoMZFXBqnTn58AYWZSqiD45tlBVcDa2L7RwdKXebW/VzDlnfVJ+9jok1Bw"
                      }
                    }
                  },
                  "signed_curve25519:AAAAHQ" : {
                    "key" : "j3fR3HemM16M7CWhoI4Sk5ZsdmdfQHsKL1xuSft6MSw",
                    "signatures" : {
                      "@alice:example.com" : {
                        "ed25519:JLAFKJWSCS" : "IQeCEPb9HFk217cU9kw9EOiusC6kMIkoIRnbnfOh5Oc63S1ghgyjShBGpu34blQomoalCyXWyhaaT3MrLZYQAA"
                      }
                    }
                  }
                }
              }
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The provided keys were sucessfully uploaded.",
            "schema" : {
              "type" : "object",
              "title" : "UploadKeysResponse",
              "properties" : {
                "one_time_key_counts" : {
                  "type" : "object",
                  "additionalProperties" : {
                    "type" : "integer"
                  },
                  "description" : "For each key algorithm, the number of unclaimed one-time keys\nof that type currently held on the server for this device.",
                  "example" : {
                    "curve25519" : 10,
                    "signed_curve25519" : 20
                  }
                }
              },
              "required" : [ "one_time_key_counts" ]
            }
          }
        },
        "tags" : [ "End-to-end encryption" ]
      }
    },
    "/client/r0/keys/query" : {
      "post" : {
        "summary" : "Download device identity keys.",
        "description" : "Returns the current devices and identity keys for the given users.",
        "operationId" : "downloadKeys",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "body",
          "name" : "query",
          "description" : "Query defining the keys to be downloaded",
          "schema" : {
            "type" : "object",
            "title" : "DownloadKeysRequest",
            "properties" : {
              "timeout" : {
                "type" : "integer",
                "description" : "The time (in milliseconds) to wait when downloading keys from\nremote servers. 10 seconds is the recommended default.",
                "example" : 10000
              },
              "device_keys" : {
                "type" : "object",
                "description" : "The keys to be downloaded. A map from user ID, to a list of\ndevice IDs, or to an empty list to indicate all devices for the\ncorresponding user.",
                "additionalProperties" : {
                  "type" : "array",
                  "items" : {
                    "type" : "string",
                    "description" : "device ID"
                  }
                },
                "example" : {
                  "@alice:example.com" : [ ]
                }
              }
            },
            "required" : [ "device_keys" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The device information",
            "schema" : {
              "type" : "object",
              "title" : "DownloadKeysResponse",
              "properties" : {
                "failures" : {
                  "type" : "object",
                  "description" : "If any remote homeservers could not be reached, they are\nrecorded here. The names of the properties are the names of\nthe unreachable servers.\n\nIf the homeserver could be reached, but the user or device\nwas unknown, no failure is recorded. Instead, the corresponding\nuser or device is missing from the ``device_keys`` result.",
                  "additionalProperties" : {
                    "type" : "object"
                  },
                  "example" : { }
                },
                "device_keys" : {
                  "type" : "object",
                  "description" : "Information on the queried devices. A map from user ID, to a\nmap from device ID to device information.  For each device,\nthe information returned will be the same as uploaded via\n``/keys/upload``, with the addition of an ``unsigned``\nproperty.",
                  "additionalProperties" : {
                    "type" : "object",
                    "additionalProperties" : {
                      "allOf" : [ {
                        "$ref" : "#/definitions/DeviceKeys"
                      } ],
                      "properties" : {
                        "unsigned" : {
                          "title" : "UnsignedDeviceInfo",
                          "type" : "object",
                          "description" : "Additional data added to the device key information\nby intermediate servers, and not covered by the\nsignatures.",
                          "properties" : {
                            "device_display_name" : {
                              "type" : "string",
                              "description" : "The display name which the user set on the device."
                            }
                          }
                        }
                      }
                    }
                  },
                  "example" : {
                    "@alice:example.com" : {
                      "JLAFKJWSCS" : {
                        "user_id" : "@alice:example.com",
                        "device_id" : "JLAFKJWSCS",
                        "algorithms" : [ "m.olm.curve25519-aes-sha256", "m.megolm.v1.aes-sha" ],
                        "keys" : {
                          "curve25519:JLAFKJWSCS" : "3C5BFWi2Y8MaVvjM8M22DBmh24PmgR0nPvJOIArzgyI",
                          "ed25519:JLAFKJWSCS" : "lEuiRJBit0IG6nUf5pUzWTUEsRVVe/HJkoKuEww9ULI"
                        },
                        "signatures" : {
                          "@alice:example.com" : {
                            "ed25519:JLAFKJWSCS" : "dSO80A01XiigH3uBiDVx/EjzaoycHcjq9lfQX0uWsqxl2giMIiSPR8a4d291W1ihKJL/a+myXS367WT6NAIcBA"
                          }
                        },
                        "unsigned" : {
                          "device_display_name" : "Alice's mobile phone"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "tags" : [ "End-to-end encryption" ]
      }
    },
    "/client/r0/keys/claim" : {
      "post" : {
        "summary" : "Claim one-time encryption keys.",
        "description" : "Claims one-time keys for use in pre-key messages.",
        "operationId" : "claimKeys",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "body",
          "name" : "query",
          "description" : "Query defining the keys to be claimed",
          "schema" : {
            "type" : "object",
            "title" : "ClaimKeysRequest",
            "properties" : {
              "timeout" : {
                "type" : "integer",
                "description" : "The time (in milliseconds) to wait when downloading keys from\nremote servers. 10 seconds is the recommended default.",
                "example" : 10000
              },
              "one_time_keys" : {
                "type" : "object",
                "description" : "The keys to be claimed. A map from user ID, to a map from\ndevice ID to algorithm name.",
                "additionalProperties" : {
                  "type" : "object",
                  "additionalProperties" : {
                    "type" : "string",
                    "description" : "algorithm",
                    "example" : "signed_curve25519"
                  }
                },
                "example" : {
                  "@alice:example.com" : {
                    "JLAFKJWSCS" : "curve25519"
                  }
                }
              }
            },
            "required" : [ "one_time_keys" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The claimed keys",
            "schema" : {
              "type" : "object",
              "title" : "ClaimKeysResponse",
              "properties" : {
                "failures" : {
                  "type" : "object",
                  "description" : "If any remote homeservers could not be reached, they are\nrecorded here. The names of the properties are the names of\nthe unreachable servers.\n\nIf the homeserver could be reached, but the user or device\nwas unknown, no failure is recorded. Instead, the corresponding\nuser or device is missing from the ``one_time_keys`` result.",
                  "additionalProperties" : {
                    "type" : "object"
                  },
                  "example" : { }
                },
                "one_time_keys" : {
                  "type" : "object",
                  "description" : "One-time keys for the queried devices. A map from user ID, to a\nmap from ``<algorithm>:<key_id>`` to the key object.",
                  "additionalProperties" : {
                    "type" : "object",
                    "additionalProperties" : {
                      "type" : "object"
                    }
                  },
                  "example" : {
                    "@alice:example.com" : {
                      "JLAFKJWSCS" : {
                        "signed_curve25519:AAAAHg" : {
                          "key" : "zKbLg+NrIjpnagy+pIY6uPL4ZwEG2v+8F9lmgsnlZzs",
                          "signatures" : {
                            "@alice:example.com" : {
                              "ed25519:JLAFKJWSCS" : "FLWxXqGbwrb8SM3Y795eB6OA8bwBcoMZFXBqnTn58AYWZSqiD45tlBVcDa2L7RwdKXebW/VzDlnfVJ+9jok1Bw"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "tags" : [ "End-to-end encryption" ]
      }
    },
    "/client/r0/keys/changes" : {
      "get" : {
        "summary" : "Query users with recent device key updates.",
        "description" : "Gets a list of users who have updated their device identity keys since a\nprevious sync token.\n\nThe server should include in the results any users who:\n\n* currently share a room with the calling user (ie, both users have\n  membership state ``join``); *and*\n* added new device identity keys or removed an existing device with\n  identity keys, between ``from`` and ``to``.",
        "operationId" : "getChangedKeys",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "query",
          "name" : "from",
          "type" : "string",
          "description" : "The desired start point of the list. Should be the ``next_batch`` field\nfrom a response to an earlier call to |/sync|. Users who have not\nuploaded new device identity keys since this point, nor deleted\nexisting devices with identity keys since then, will be excluded\nfrom the results.",
          "required" : true,
          "x-example" : "s72594_4483_1934"
        }, {
          "in" : "query",
          "name" : "to",
          "type" : "string",
          "description" : "The desired end point of the list. Should be the ``next_batch``\nfield from a recent call to |/sync| - typically the most recent\nsuch call. This may be used by the server as a hint to check its\ncaches are up to date.",
          "required" : true,
          "x-example" : "s75689_5632_2435"
        } ],
        "responses" : {
          "200" : {
            "description" : "The list of users who updated their devices.",
            "schema" : {
              "type" : "object",
              "title" : "GetChangedKeysResponse",
              "properties" : {
                "changes" : {
                  "type" : "array",
                  "items" : {
                    "type" : "string"
                  },
                  "description" : "The Matrix User IDs of all users who updated their device\nidentity keys.",
                  "example" : [ "@alice:example.com", "@bob:example.org" ]
                }
              }
            }
          }
        },
        "tags" : [ "End-to-end encryption" ]
      }
    },
    "/client/r0/rooms/{roomId}/kick" : {
      "post" : {
        "summary" : "Kick a user from the room.",
        "description" : "Kick a user from the room.\n\nThe caller must have the required power level in order to perform this operation.",
        "operationId" : "roomKickUser",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room identifier (not alias) from which the user should be kicked.",
          "required" : true,
          "x-example" : "!e42d8c:matrix.org"
        }, {
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "type" : "object",
            "title" : "KickUserRequest",
            "example" : "{\n  \"reason\": \"Telling unfunny jokes\",\n  \"user_id\": \"@cheeky_monkey:matrix.org\"\n}",
            "properties" : {
              "user_id" : {
                "type" : "string",
                "description" : "The fully qualified user ID of the user being kicked."
              },
              "reason" : {
                "type" : "string",
                "description" : "The reason the user has been kicked."
              }
            },
            "required" : [ "user_id" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The user has been kicked from the room.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "403" : {
            "description" : "You do not have permission to kick the user from the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejections are:\n\n- The kicker is not currently in the room.\n- The kickee is not currently in the room.\n- The kicker's power level is insufficient to kick users from the room.",
            "examples" : {
              "application/json" : "{\n  \"errcode\": \"M_FORBIDDEN\",\n  \"error\": \"You do not have a high enough power level to kick from this room.\"\n}"
            }
          }
        },
        "tags" : [ "Room membership" ]
      }
    },
    "/client/r0/rooms/{roomId}/leave" : {
      "post" : {
        "summary" : "Stop the requesting user participating in a particular room.",
        "description" : "This API stops a user participating in a particular room.\n\nIf the user was already in the room, they will no longer be able to see\nnew events in the room. If the room requires an invite to join, they\nwill need to be re-invited before they can re-join.\n\nIf the user was invited to the room, but had not joined, this call\nserves to reject the invite.\n\nThe user will still be allowed to retrieve history from the room which\nthey were previously allowed to see.",
        "operationId" : "roomLeave",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room identifier to leave.",
          "required" : true,
          "x-example" : "!nkl290a:matrix.org"
        } ],
        "responses" : {
          "200" : {
            "description" : "The room has been left.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Room membership" ]
      }
    },
    "/client/r0/rooms/{roomId}/forget" : {
      "post" : {
        "summary" : "Stop the requesting user remembering about a particular room.",
        "description" : "This API stops a user remembering about a particular room.\n\nIn general, history is a first class citizen in Matrix. After this API\nis called, however, a user will no longer be able to retrieve history\nfor this room. If all users on a homeserver forget a room, the room is\neligible for deletion from that homeserver.\n\nIf the user is currently joined to the room, they will implicitly leave\nthe room as part of this API call.",
        "operationId" : "roomForget",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room identifier to forget.",
          "required" : true,
          "x-example" : "!au1ba7o:matrix.org"
        } ],
        "responses" : {
          "200" : {
            "description" : "The room has been forgotten.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Room membership" ]
      }
    },
    "/client/r0/publicRooms" : {
      "get" : {
        "summary" : "Lists the public rooms on the server.",
        "operationId" : "listPublicRooms",
        "description" : "Lists the public rooms on the server.\n\nThis API returns paginated responses. The rooms are ordered by the number\nof joined members, with the largest rooms first.",
        "parameters" : [ {
          "in" : "query",
          "name" : "limit",
          "type" : "integer",
          "description" : "Limit the number of results returned."
        }, {
          "in" : "query",
          "name" : "since",
          "type" : "string",
          "description" : "A pagination token from a previous request, allowing clients to\nget the next (or previous) batch of rooms.\nThe direction of pagination is specified solely by which token\nis supplied, rather than via an explicit flag."
        }, {
          "in" : "query",
          "name" : "server",
          "type" : "string",
          "description" : "The server to fetch the public room lists from. Defaults to the\nlocal server."
        } ],
        "responses" : {
          "200" : {
            "description" : "A list of the rooms on the server.",
            "schema" : {
              "$ref" : "#/definitions/PublicRoomsResult"
            },
            "examples" : {
              "application/json" : "{\n  \"chunk\": [\n    {\n      \"aliases\": [\"#murrays:cheese.bar\"],\n      \"avatar_url\": \"mxc://bleeker.street/CHEDDARandBRIE\",\n      \"guest_can_join\": false,\n      \"name\": \"CHEESE\",\n      \"num_joined_members\": 37,\n      \"room_id\": \"!ol19s:bleecker.street\",\n      \"topic\": \"Tasty tasty cheese\",\n      \"world_readable\": true\n    }\n  ],\n  \"next_batch\": \"p190q\",\n  \"prev_batch\": \"p1902\",\n  \"total_room_count_estimate\": 115\n}"
            }
          }
        },
        "tags" : [ "Room discovery" ]
      },
      "post" : {
        "summary" : "Lists the public rooms on the server with optional filter.",
        "operationId" : "filterPublicRooms",
        "description" : "Lists the public rooms on the server, with optional filter.\n\nThis API returns paginated responses. The rooms are ordered by the number\nof joined members, with the largest rooms first.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "query",
          "name" : "server",
          "type" : "string",
          "description" : "The server to fetch the public room lists from. Defaults to the\nlocal server."
        }, {
          "in" : "body",
          "name" : "body",
          "required" : true,
          "description" : "Options for which rooms to return.",
          "schema" : {
            "type" : "object",
            "title" : "RoomFilter",
            "properties" : {
              "limit" : {
                "type" : "integer",
                "description" : "Limit the number of results returned."
              },
              "since" : {
                "type" : "string",
                "description" : "A pagination token from a previous request, allowing clients\nto get the next (or previous) batch of rooms.  The direction\nof pagination is specified solely by which token is supplied,\nrather than via an explicit flag."
              },
              "filter" : {
                "type" : "object",
                "title" : "Filter",
                "description" : "Filter to apply to the results.",
                "properties" : {
                  "generic_search_term" : {
                    "type" : "string",
                    "description" : "A string to search for in the room metadata, e.g. name,\ntopic, canonical alias etc. (Optional)."
                  }
                }
              }
            },
            "example" : "{\"limit\": 10, \"filter\": {\"generic_search_term\": \"foo\"}}"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "A list of the rooms on the server.",
            "schema" : {
              "$ref" : "#/definitions/PublicRoomsResult"
            },
            "examples" : {
              "application/json" : "{\n  \"chunk\": [\n    {\n      \"aliases\": [\"#murrays:cheese.bar\"],\n      \"avatar_url\": \"mxc://bleeker.street/CHEDDARandBRIE\",\n      \"guest_can_join\": false,\n      \"name\": \"CHEESE\",\n      \"num_joined_members\": 37,\n      \"room_id\": \"!ol19s:bleecker.street\",\n      \"topic\": \"Tasty tasty cheese\",\n      \"world_readable\": true\n    }\n  ],\n  \"next_batch\": \"p190q\",\n  \"prev_batch\": \"p1902\",\n  \"total_room_count_estimate\": 115\n}"
            }
          }
        },
        "tags" : [ "Room discovery" ]
      }
    },
    "/client/r0/login" : {
      "post" : {
        "summary" : "Authenticates the user.",
        "operationId" : "login",
        "description" : "Authenticates the user, and issues an access token they can\nuse to authorize themself in subsequent requests.\n\nIf the client does not supply a ``device_id``, the server must\nauto-generate one.\n\nThe returned access token must be associated with the ``device_id``\nsupplied by the client or generated by the server. The server may\ninvalidate any access token previously associated with that device. See\n`Relationship between access tokens and devices`_.",
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "schema" : {
            "title" : "LoginRequest",
            "type" : "object",
            "example" : "{\n  \"type\": \"m.login.password\",\n  \"user\": \"cheeky_monkey\",\n  \"password\": \"ilovebananas\",\n  \"initial_device_display_name\": \"Jungle Phone\"\n}",
            "properties" : {
              "type" : {
                "type" : "string",
                "enum" : [ "m.login.password", "m.login.token" ],
                "description" : "The login type being used."
              },
              "user" : {
                "type" : "string",
                "description" : "The fully qualified user ID or just local part of the user ID, to log in."
              },
              "medium" : {
                "type" : "string",
                "description" : "When logging in using a third party identifier, the medium of the identifier. Must be 'email'."
              },
              "address" : {
                "type" : "string",
                "description" : "Third party identifier for the user."
              },
              "password" : {
                "type" : "string",
                "description" : "Required when ``type`` is ``m.login.password``. The user's\npassword."
              },
              "token" : {
                "type" : "string",
                "description" : "Required when ``type`` is ``m.login.token``. The login token."
              },
              "device_id" : {
                "type" : "string",
                "description" : "ID of the client device. If this does not correspond to a\nknown client device, a new device will be created. The server\nwill auto-generate a device_id if this is not specified."
              },
              "initial_device_display_name" : {
                "type" : "string",
                "description" : "A display name to assign to the newly-created device. Ignored\nif ``device_id`` corresponds to a known device."
              }
            },
            "required" : [ "type" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The user has been authenticated.",
            "examples" : {
              "application/json" : "{\n  \"user_id\": \"@cheeky_monkey:matrix.org\",\n  \"access_token\": \"abc123\",\n  \"home_server\": \"matrix.org\",\n  \"device_id\": \"GHTYAJCE\"\n}"
            },
            "schema" : {
              "title" : "LoginResponse",
              "type" : "object",
              "properties" : {
                "user_id" : {
                  "type" : "string",
                  "description" : "The fully-qualified Matrix ID that has been registered."
                },
                "access_token" : {
                  "type" : "string",
                  "description" : "An access token for the account.\nThis access token can then be used to authorize other requests."
                },
                "home_server" : {
                  "type" : "string",
                  "description" : "The hostname of the homeserver on which the account has been registered."
                },
                "device_id" : {
                  "type" : "string",
                  "description" : "ID of the logged-in device. Will be the same as the\ncorresponding parameter in the request, if one was specified."
                }
              }
            }
          },
          "400" : {
            "description" : "Part of the request was invalid. For example, the login type may not be recognised.",
            "examples" : {
              "application/json" : "{\n    \"errcode\": \"M_UNKNOWN\",\n    \"error\": \"Bad login type.\"\n}"
            }
          },
          "403" : {
            "description" : "The login attempt failed. For example, the password may have been incorrect.",
            "examples" : {
              "application/json" : "{\"errcode\": \"M_FORBIDDEN\"}"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Session management" ]
      }
    },
    "/client/r0/logout" : {
      "post" : {
        "summary" : "Invalidates a user access token",
        "operationId" : "logout",
        "description" : "Invalidates an existing access token, so that it can no longer be used for\nauthorization.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "responses" : {
          "200" : {
            "description" : "The access token used in the request was succesfully invalidated.",
            "schema" : {
              "type" : "object",
              "properties" : { }
            }
          }
        },
        "tags" : [ "Session management" ]
      }
    },
    "/client/r0/rooms/{roomId}/messages" : {
      "get" : {
        "summary" : "Get a list of events for this room",
        "operationId" : "listEvents",
        "description" : "This API returns a list of message and state events for a room. It uses\npagination query parameters to paginate history in the room.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room to get events from.",
          "required" : true,
          "x-example" : "!636q39766251:example.com"
        }, {
          "in" : "query",
          "type" : "string",
          "name" : "from",
          "description" : "The token to start returning events from. This token can be obtained\nfrom a ``prev_batch`` token returned for each room by the sync API,\nor from a ``start`` or ``end`` token returned by a previous request\nto this endpoint.",
          "required" : true,
          "x-example" : "s345_678_333"
        }, {
          "in" : "query",
          "type" : "string",
          "name" : "to",
          "description" : "The token to stop returning events at. This token can be obtained from\na ``prev_batch`` token returned for each room by the sync endpoint,\nor from a ``start`` or ``end`` token returned by a previous request to\nthis endpoint.",
          "required" : false
        }, {
          "in" : "query",
          "type" : "string",
          "enum" : [ "b", "f" ],
          "name" : "dir",
          "description" : "The direction to return events from.",
          "required" : true,
          "x-example" : "b"
        }, {
          "in" : "query",
          "type" : "integer",
          "name" : "limit",
          "description" : "The maximum number of events to return. Default: 10.",
          "x-example" : "3"
        }, {
          "in" : "query",
          "type" : "string",
          "name" : "filter",
          "description" : "A JSON RoomEventFilter to filter returned events with.",
          "x-example" : "{\"contains_url\":true}"
        } ],
        "responses" : {
          "200" : {
            "description" : "A list of messages with a new token to request more.",
            "schema" : {
              "type" : "object",
              "title" : "ListEventsResponse",
              "description" : "A list of messages with a new token to request more.",
              "properties" : {
                "start" : {
                  "type" : "string",
                  "description" : "The token the pagination starts from. If ``dir=b`` this will be\nthe token supplied in ``from``."
                },
                "end" : {
                  "type" : "string",
                  "description" : "The token the pagination ends at. If ``dir=b`` this token should\nbe used again to request even earlier events."
                },
                "chunk" : {
                  "type" : "array",
                  "description" : "A list of room events.",
                  "items" : {
                    "type" : "object",
                    "$ref" : "#/definitions/RoomEvent"
                  }
                }
              }
            },
            "examples" : {
              "application/json" : "{\n  \"start\": \"t47429-4392820_219380_26003_2265\",\n  \"end\": \"t47409-4357353_219380_26003_2265\",\n  \"chunk\": [\n    {\n      \"origin_server_ts\": 1444812213737,\n      \"sender\": \"@alice:example.com\",\n      \"event_id\": \"$1444812213350496Caaaa:example.com\",\n      \"content\": {\n        \"body\": \"hello world\",\n        \"msgtype\":\"m.text\"\n      },\n      \"room_id\":\"!Xq3620DUiqCaoxq:example.com\",\n      \"type\":\"m.room.message\",\n      \"age\": 1042\n    },\n    {\n      \"origin_server_ts\": 1444812194656 ,\n      \"sender\": \"@bob:example.com\",\n      \"event_id\": \"$1444812213350496Cbbbb:example.com\",\n      \"content\": {\n        \"body\": \"the world is big\",\n        \"msgtype\":\"m.text\"\n      },\n      \"room_id\":\"!Xq3620DUiqCaoxq:example.com\",\n      \"type\":\"m.room.message\",\n      \"age\": 20123\n    },\n    {\n      \"origin_server_ts\": 1444812163990,\n      \"sender\": \"@bob:example.com\",\n      \"event_id\": \"$1444812213350496Ccccc:example.com\",\n      \"content\": {\n        \"name\": \"New room name\"\n      },\n      \"prev_content\": {\n        \"name\": \"Old room name\"\n      },\n      \"state_key\": \"\",\n      \"room_id\":\"!Xq3620DUiqCaoxq:example.com\",\n      \"type\":\"m.room.name\",\n      \"age\": 50789\n    }\n  ]\n}"
            }
          },
          "403" : {
            "description" : "You aren't a member of the room.\n"
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/notifications" : {
      "get" : {
        "summary" : "Gets a list of events that the user has been notified about",
        "description" : "This API is used to paginate through the list of events that the\nuser has been, or would have been notified about.",
        "operationId" : "getNotifications",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "query",
          "type" : "string",
          "name" : "from",
          "description" : "Pagination token given to retrieve the next set of events.",
          "required" : false,
          "x-example" : "xxxxx"
        }, {
          "in" : "query",
          "type" : "integer",
          "name" : "limit",
          "description" : "Limit on the number of events to return in this request.",
          "required" : false,
          "x-example" : "20"
        }, {
          "in" : "query",
          "name" : "only",
          "type" : "string",
          "description" : "Allows basic filtering of events returned. Supply ``highlight``\nto return only events where the notification had the highlight\ntweak set.",
          "required" : false,
          "x-example" : "highlight"
        } ],
        "responses" : {
          "200" : {
            "description" : "A batch of events is being returned",
            "examples" : {
              "application/json" : "{\n  \"next_token\": \"abcdef\",\n  \"notifications\": [\n    {\n      \"actions\": [\n        \"notify\"\n      ],\n      \"profile_tag\": \"hcbvkzxhcvb\",\n      \"read\": true,\n      \"room_id\": \"!abcdefg:example.com\",\n      \"ts\": 1475508881945,\n      \"event\": {\n        \"sender\": \"@alice:example.com\",\n        \"type\": \"m.room.message\",\n        \"age\": 124524,\n        \"txn_id\": \"1234\",\n        \"content\": {\n          \"body\": \"I am a fish\",\n          \"msgtype\": \"m.text\"\n        },\n        \"origin_server_ts\": 1417731086797,\n        \"event_id\": \"$74686972643033:example.com\"\n      }\n    }\n  ]\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "NotificationsResponse",
              "required" : [ "notifications" ],
              "properties" : {
                "next_token" : {
                  "type" : "string",
                  "description" : "The token to supply in the ``from`` param of the next\n``/notifications`` request in order to request more\nevents. If this is absent, there are no more results."
                },
                "notifications" : {
                  "type" : "array",
                  "items" : {
                    "type" : "object",
                    "required" : [ "actions", "event", "read", "room_id", "ts" ],
                    "title" : "Notification",
                    "properties" : {
                      "actions" : {
                        "type" : "array",
                        "description" : "The action(s) to perform when the conditions for this rule are met.\nSee `Push Rules: API`_.",
                        "items" : {
                          "type" : "object"
                        }
                      },
                      "event" : {
                        "type" : "object",
                        "title" : "Event",
                        "description" : "The Event object for the event that triggered the notification.",
                        "allOf" : [ {
                          "$ref" : "#/definitions/Event"
                        } ]
                      },
                      "profile_tag" : {
                        "type" : "string",
                        "description" : "The profile tag of the rule that matched this event."
                      },
                      "read" : {
                        "type" : "boolean",
                        "description" : "Indicates whether the user has sent a read receipt indicating\nthat they have read this message."
                      },
                      "room_id" : {
                        "type" : "string",
                        "description" : "The ID of the room in which the event was posted."
                      },
                      "ts" : {
                        "type" : "integer",
                        "description" : "The unix timestamp at which the event notification was sent,\nin milliseconds."
                      }
                    }
                  },
                  "description" : "The list of events that triggered notifications."
                }
              }
            }
          }
        },
        "tags" : [ "Push notifications" ]
      }
    },
    "/client/r0/initialSync" : {
      "get" : {
        "summary" : "Get the user's current state.",
        "operationId" : "initialSync",
        "description" : "This returns the full state for this user, with an optional limit on the\nnumber of messages per room to return.\n\nThis endpoint was deprecated in r0 of this specification. Clients\nshould instead call the |/sync|_ API with no ``since`` parameter. See\nthe `migration guide\n<https://matrix.org/docs/guides/client-server-migrating-from-v1.html#deprecated-endpoints>`_.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "query",
          "type" : "integer",
          "name" : "limit",
          "description" : "The maximum number of messages to return for each room.",
          "required" : false,
          "x-example" : "2"
        }, {
          "in" : "query",
          "type" : "boolean",
          "name" : "archived",
          "description" : "Whether to include rooms that the user has left. If ``false`` then\nonly rooms that the user has been invited to or has joined are\nincluded. If set to ``true`` then rooms that the user has left are\nincluded as well. By default this is ``false``.",
          "required" : false,
          "x-example" : "true"
        } ],
        "responses" : {
          "200" : {
            "description" : "The user's current state.",
            "examples" : {
              "application/json" : "{\n    \"end\": \"s3456_9_0\",\n    \"presence\": [\n        {\n            \"content\": {\n                \"avatar_url\": \"mxc://localhost/GCmhgzMPRjqgpODLsNQzVuHZ#auto\",\n                \"displayname\": \"Bob\",\n                \"last_active_ago\": 31053,\n                \"presence\": \"online\",\n                \"user_id\": \"@bob:localhost\"\n            },\n            \"type\": \"m.presence\"\n        }\n    ],\n    \"account_data\": [\n      {\n        \"type\": \"org.example.custom.config\",\n        \"content\": {\n          \"custom_config_key\": \"custom_config_value\"\n        }\n      }\n    ],\n    \"rooms\": [\n        {\n            \"membership\": \"join\",\n            \"messages\": {\n                \"chunk\": [\n                    {\n                        \"age\": 343513403,\n                        \"content\": {\n                            \"body\": \"foo\",\n                            \"msgtype\": \"m.text\"\n                        },\n                        \"event_id\": \"$14328044851tzTJS:localhost\",\n                        \"origin_server_ts\": 1432804485886,\n                        \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                        \"type\": \"m.room.message\",\n                        \"sender\": \"@alice:localhost\"\n                    },\n                    {\n                        \"age\": 343511809,\n                        \"content\": {\n                            \"body\": \"bar\",\n                            \"msgtype\": \"m.text\"\n                        },\n                        \"event_id\": \"$14328044872spjFg:localhost\",\n                        \"origin_server_ts\": 1432804487480,\n                        \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                        \"type\": \"m.room.message\",\n                        \"sender\": \"@bob:localhost\"\n                    }\n                ],\n                \"end\": \"s3456_9_0\",\n                \"start\": \"t44-3453_9_0\"\n            },\n            \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n            \"state\": [\n                {\n                    \"age\": 7148266897,\n                    \"content\": {\n                        \"join_rule\": \"public\"\n                    },\n                    \"event_id\": \"$14259997323TLwtb:localhost\",\n                    \"origin_server_ts\": 1425999732392,\n                    \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                    \"state_key\": \"\",\n                    \"type\": \"m.room.join_rules\",\n                    \"sender\": \"@alice:localhost\"\n                },\n                {\n                    \"age\": 6547561012,\n                    \"content\": {\n                        \"avatar_url\": \"mxc://localhost/fzysBrHpPEeTGANCVLXWXNMI#auto\",\n                        \"membership\": \"join\"\n                    },\n                    \"event_id\": \"$1426600438280zExKY:localhost\",\n                    \"membership\": \"join\",\n                    \"origin_server_ts\": 1426600438277,\n                    \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                    \"state_key\": \"@alice:localhost\",\n                    \"type\": \"m.room.member\",\n                    \"sender\": \"@alice:localhost\"\n                },\n                {\n                    \"age\": 7148267200,\n                    \"content\": {\n                        \"creator\": \"@alice:localhost\"\n                    },\n                    \"event_id\": \"$14259997320KhbwJ:localhost\",\n                    \"origin_server_ts\": 1425999732089,\n                    \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                    \"state_key\": \"\",\n                    \"type\": \"m.room.create\",\n                    \"sender\": \"@alice:localhost\"\n                },\n                {\n                    \"age\": 1622568720,\n                    \"content\": {\n                        \"avatar_url\": \"mxc://localhost/GCmhgzMPRjqgpODLsNQzVuHZ#auto\",\n                        \"displayname\": \"Bob\",\n                        \"membership\": \"join\"\n                    },\n                    \"event_id\": \"$1431525430134MxlLX:localhost\",\n                    \"origin_server_ts\": 1431525430569,\n                    \"replaces_state\": \"$142652023736BSXcM:localhost\",\n                    \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                    \"state_key\": \"@bob:localhost\",\n                    \"type\": \"m.room.member\",\n                    \"sender\": \"@bob:localhost\"\n                },\n                {\n                    \"age\": 7148267004,\n                    \"content\": {\n                        \"ban\": 50,\n                        \"events\": {\n                            \"m.room.name\": 100,\n                            \"m.room.power_levels\": 100\n                        },\n                        \"events_default\": 0,\n                        \"kick\": 50,\n                        \"redact\": 50,\n                        \"state_default\": 50,\n                        \"users\": {\n                            \"@alice:localhost\": 100\n                        },\n                        \"users_default\": 0\n                    },\n                    \"event_id\": \"$14259997322mqfaq:localhost\",\n                    \"origin_server_ts\": 1425999732285,\n                    \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                    \"state_key\": \"\",\n                    \"type\": \"m.room.power_levels\",\n                    \"sender\": \"@alice:localhost\"\n                }\n            ],\n            \"visibility\": \"private\",\n            \"account_data\": [\n              {\n                \"type\": \"m.tag\",\n                \"content\": {\"tags\": {\"work\": {\"order\": 1}}}\n              },\n              {\n                \"type\": \"org.example.custom.room.config\",\n                \"content\": {\n                  \"custom_config_key\": \"custom_config_value\"\n                }\n              }\n            ]\n        }\n    ]\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "InitialSyncResponse",
              "properties" : {
                "end" : {
                  "type" : "string",
                  "description" : "A token which correlates to the last value in ``chunk``. This\ntoken should be used with the ``/events`` API to listen for new\nevents."
                },
                "presence" : {
                  "type" : "array",
                  "description" : "A list of presence events.",
                  "items" : {
                    "type" : "object",
                    "description" : "Some event",
                    "$ref" : "#/definitions/Event"
                  }
                },
                "rooms" : {
                  "type" : "array",
                  "items" : {
                    "type" : "object",
                    "title" : "RoomInfo",
                    "properties" : {
                      "room_id" : {
                        "type" : "string",
                        "description" : "The ID of this room."
                      },
                      "membership" : {
                        "type" : "string",
                        "description" : "The user's membership state in this room.",
                        "enum" : [ "invite", "join", "leave", "ban" ]
                      },
                      "invite" : {
                        "type" : "object",
                        "description" : "The invite event if ``membership`` is ``invite``",
                        "$ref" : "#/definitions/MRoomMember"
                      },
                      "messages" : {
                        "type" : "object",
                        "title" : "PaginationChunk",
                        "description" : "The pagination chunk for this room.",
                        "properties" : {
                          "start" : {
                            "type" : "string",
                            "description" : "A token which correlates to the first value in ``chunk``.\nUsed for pagination."
                          },
                          "end" : {
                            "type" : "string",
                            "description" : "A token which correlates to the last value in ``chunk``.\nUsed for pagination."
                          },
                          "chunk" : {
                            "type" : "array",
                            "description" : "If the user is a member of the room this will be a\nlist of the most recent messages for this room. If\nthe user has left the room this will be the\nmessages that preceeded them leaving. This array\nwill consist of at most ``limit`` elements.",
                            "items" : {
                              "type" : "object",
                              "$ref" : "#/definitions/RoomEvent"
                            }
                          }
                        },
                        "required" : [ "start", "end", "chunk" ]
                      },
                      "state" : {
                        "type" : "array",
                        "description" : "If the user is a member of the room this will be the\ncurrent state of the room as a list of events. If the\nuser has left the room this will be the state of the\nroom when they left it.",
                        "items" : {
                          "type" : "object",
                          "$ref" : "#/definitions/StateEvent"
                        }
                      },
                      "visibility" : {
                        "type" : "string",
                        "enum" : [ "private", "public" ],
                        "description" : "Whether this room is visible to the ``/publicRooms`` API\nor not.\""
                      },
                      "account_data" : {
                        "type" : "array",
                        "description" : "The private data that this user has attached to\nthis room.",
                        "items" : {
                          "type" : "object",
                          "$ref" : "#/definitions/Event"
                        }
                      }
                    },
                    "required" : [ "room_id", "membership" ]
                  }
                },
                "account_data" : {
                  "type" : "array",
                  "description" : "The global private data created by this user.",
                  "items" : {
                    "type" : "object",
                    "$ref" : "#/definitions/Event"
                  }
                }
              },
              "required" : [ "end", "rooms", "presence" ]
            }
          },
          "404" : {
            "description" : "There is no avatar URL for this user or this user does not exist."
          }
        },
        "tags" : [ "Room participation" ],
        "deprecated" : true
      }
    },
    "/client/r0/events/{eventId}" : {
      "get" : {
        "summary" : "Get a single event by event ID.",
        "operationId" : "getEvent",
        "description" : "Get a single event based on ``event_id``. You must have permission to\nretrieve this event e.g. by being a member in the room for this event.\n\nThis endpoint was deprecated in r0 of this specification. Clients\nshould instead call the |/rooms/{roomId}/context/{eventId}|_ API.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "eventId",
          "description" : "The event ID to get.",
          "required" : true,
          "x-example" : "$asfDuShaf7Gafaw:matrix.org"
        } ],
        "responses" : {
          "200" : {
            "description" : "The full event.",
            "examples" : {
              "application/json" : "{\n  \"content\": {\n    \"body\": \"Hello world!\",\n    \"msgtype\": \"m.text\"\n  },\n  \"room_id\": \"!wfgy43Sg4a:matrix.org\",\n  \"sender\": \"@bob:matrix.org\",\n  \"event_id\": \"$asfDuShaf7Gafaw:matrix.org\",\n  \"type\": \"m.room.message\"\n}"
            },
            "schema" : {
              "$ref" : "#/definitions/Event"
            }
          },
          "404" : {
            "description" : "The event was not found or you do not have permission to read this event."
          }
        },
        "tags" : [ "Room participation" ],
        "deprecated" : true
      }
    },
    "/client/r0/events" : {
      "get" : {
        "summary" : "Listen on the event stream.",
        "operationId" : "listenForEvents",
        "description" : "This will listen for new events related to a particular room and return\nthem to the caller. This will block until an event is received, or until\nthe ``timeout`` is reached.\n\nThis API is the same as the normal ``/events`` endpoint, but can be\ncalled by users who have not joined the room.\n\nNote that the normal ``/events`` endpoint has been deprecated. This\nAPI will also be deprecated at some point, but its replacement is not\nyet known.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "query",
          "type" : "string",
          "name" : "from",
          "description" : "The token to stream from. This token is either from a previous\nrequest to this API or from the initial sync API.",
          "required" : false,
          "x-example" : "s3456_9_0"
        }, {
          "in" : "query",
          "type" : "integer",
          "name" : "timeout",
          "description" : "The maximum time in milliseconds to wait for an event.",
          "required" : false,
          "x-example" : "35000"
        }, {
          "in" : "query",
          "type" : "string",
          "name" : "room_id",
          "description" : "The room ID for which events should be returned.",
          "x-example" : [ "!somewhere:over.the.rainbow" ]
        } ],
        "responses" : {
          "200" : {
            "description" : "The events received, which may be none.",
            "examples" : {
              "application/json" : "{\n  \"start\": \"s3456_9_0\",\n  \"end\": \"s3457_9_0\",\n  \"chunk\": [\n    {\n      \"age\": 32,\n      \"content\": {\n          \"body\": \"incoming message\",\n          \"msgtype\": \"m.text\"\n      },\n      \"event_id\": \"$14328055551tzaee:localhost\",\n      \"origin_server_ts\": 1432804485886,\n      \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n      \"type\": \"m.room.message\",\n      \"sender\": \"@bob:localhost\"\n    }\n  ]\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "ListenForEventsResponse",
              "properties" : {
                "start" : {
                  "type" : "string",
                  "description" : "A token which correlates to the first value in ``chunk``. This\nis usually the same token supplied to ``from=``."
                },
                "end" : {
                  "type" : "string",
                  "description" : "A token which correlates to the last value in ``chunk``. This\ntoken should be used in the next request to ``/events``."
                },
                "chunk" : {
                  "type" : "array",
                  "description" : "An array of events.",
                  "items" : {
                    "type" : "object",
                    "$ref" : "#/definitions/RoomEvent"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad pagination ``from`` parameter."
          }
        },
        "deprecated" : true,
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/presence/{userId}/status" : {
      "put" : {
        "summary" : "Update this user's presence state.",
        "description" : "This API sets the given user's presence state. When setting the status,\nthe activity time is updated to reflect that activity; the client does\nnot need to specify the ``last_active_ago`` field. You cannot set the\npresence state of another user.",
        "operationId" : "setPresenceStatus",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "description" : "The user whose presence state to update.",
          "required" : true,
          "x-example" : "@alice:example.com"
        }, {
          "in" : "body",
          "name" : "presenceState",
          "description" : "The updated presence state.",
          "required" : true,
          "schema" : {
            "type" : "object",
            "title" : "PresenceStatusRequest",
            "example" : "{\n  \"presence\": \"online\",\n  \"status_msg\": \"I am here.\"\n}",
            "properties" : {
              "presence" : {
                "type" : "string",
                "enum" : [ "online", "offline", "unavailable" ],
                "description" : "The new presence state."
              },
              "status_msg" : {
                "type" : "string",
                "description" : "The status message to attach to this state."
              }
            },
            "required" : [ "presence" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The new presence state was set.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Presence" ]
      },
      "get" : {
        "operationId" : "getPresenceStatus",
        "summary" : "Get this user's presence state.",
        "description" : "Get the given user's presence state.",
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "description" : "The user whose presence state to get.",
          "required" : true,
          "x-example" : "@alice:example.com"
        } ],
        "responses" : {
          "200" : {
            "description" : "The presence state for this user.",
            "examples" : {
              "application/json" : "{\n  \"presence\": \"unavailable\",\n  \"last_active_ago\": 420845\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "PresenceStatusResponse",
              "properties" : {
                "presence" : {
                  "type" : "string",
                  "enum" : [ "online", "offline", "unavailable" ],
                  "description" : "This user's presence."
                },
                "last_active_ago" : {
                  "type" : "integer",
                  "description" : "The length of time in milliseconds since an action was performed\nby this user."
                },
                "status_msg" : {
                  "type" : "string",
                  "description" : "The state message for this user if one was set."
                },
                "currently_active" : {
                  "type" : "boolean",
                  "description" : "Whether the user is currently active"
                }
              },
              "required" : [ "presence" ]
            }
          },
          "404" : {
            "description" : "There is no presence state for this user. This user may not exist or\nisn't exposing presence information to you."
          }
        },
        "tags" : [ "Presence" ]
      }
    },
    "/client/r0/presence/list/{userId}" : {
      "post" : {
        "summary" : "Add or remove users from this presence list.",
        "operationId" : "setPresenceList",
        "description" : "Adds or removes users from this presence list.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "description" : "The user whose presence list is being modified.",
          "required" : true,
          "x-example" : "@alice:example.com"
        }, {
          "in" : "body",
          "name" : "presence_diff",
          "description" : "The modifications to make to this presence list.",
          "required" : true,
          "schema" : {
            "type" : "object",
            "title" : "PresenceListRequest",
            "example" : "{\n  \"invite\": [\n    \"@bob:matrix.org\"\n  ],\n  \"drop\": [\n    \"@alice:matrix.org\"\n  ]\n}",
            "properties" : {
              "invite" : {
                "type" : "array",
                "description" : "A list of user IDs to add to the list.",
                "items" : {
                  "type" : "string",
                  "description" : "A list of user IDs."
                }
              },
              "drop" : {
                "type" : "array",
                "description" : "A list of user IDs to remove from the list.",
                "items" : {
                  "type" : "string",
                  "description" : "A list of user IDs."
                }
              }
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The list was updated.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Presence" ]
      },
      "get" : {
        "summary" : "Get presence events for this presence list.",
        "description" : "Retrieve a list of presence events for every user on this list.",
        "operationId" : "getPresenceList",
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "description" : "The user whose presence list should be retrieved.",
          "required" : true,
          "x-example" : "@alice:example.com"
        } ],
        "responses" : {
          "200" : {
            "description" : "A list of presence events for this list.",
            "examples" : {
              "application/json" : "[\n  {\n    \"content\": {\n      \"last_active_ago\": 395,\n      \"presence\": \"offline\",\n      \"user_id\": \"@alice:matrix.org\"\n    },\n    \"type\": \"m.presence\"\n  },\n  {\n    \"content\": {\n      \"last_active_ago\": 16874,\n      \"presence\": \"online\",\n      \"user_id\": \"@marisa:matrix.org\",\n      \"currently_active\": true\n    },\n    \"type\": \"m.presence\"\n  }\n]"
            },
            "schema" : {
              "type" : "array",
              "items" : {
                "type" : "object",
                "$ref" : "#/definitions/MPresence"
              }
            }
          }
        },
        "tags" : [ "Presence" ]
      }
    },
    "/client/r0/profile/{userId}/displayname" : {
      "put" : {
        "summary" : "Set the user's display name.",
        "description" : "This API sets the given user's display name. You must have permission to\nset this user's display name, e.g. you need to have their ``access_token``.",
        "operationId" : "setDisplayName",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "description" : "The user whose display name to set.",
          "required" : true,
          "x-example" : "@alice:example.com"
        }, {
          "in" : "body",
          "name" : "displayName",
          "description" : "The display name info.",
          "required" : true,
          "schema" : {
            "type" : "object",
            "title" : "DisplayNameRequest",
            "example" : "{\n  \"displayname\": \"Alice Margatroid\"\n}",
            "properties" : {
              "displayname" : {
                "type" : "string",
                "description" : "The new display name for this user."
              }
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The display name was set.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "User data" ]
      },
      "get" : {
        "summary" : "Get the user's display name.",
        "description" : "Get the user's display name. This API may be used to fetch the user's\nown displayname or to query the name of other users; either locally or\non remote homeservers.",
        "operationId" : "getDisplayName",
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "description" : "The user whose display name to get.",
          "required" : true,
          "x-example" : "@alice:example.com"
        } ],
        "responses" : {
          "200" : {
            "description" : "The display name for this user.",
            "examples" : {
              "application/json" : "{\n  \"displayname\": \"Alice Margatroid\"\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "DisplayNameResponse",
              "properties" : {
                "displayname" : {
                  "type" : "string",
                  "description" : "The user's display name if they have set one, otherwise not present."
                }
              }
            }
          },
          "404" : {
            "description" : "There is no display name for this user or this user does not exist."
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/profile/{userId}/avatar_url" : {
      "put" : {
        "summary" : "Set the user's avatar URL.",
        "description" : "This API sets the given user's avatar URL. You must have permission to\nset this user's avatar URL, e.g. you need to have their ``access_token``.",
        "operationId" : "setAvatar",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "description" : "The user whose avatar URL to set.",
          "required" : true,
          "x-example" : "@alice:example.com"
        }, {
          "in" : "body",
          "name" : "avatar_url",
          "description" : "The avatar url info.",
          "required" : true,
          "schema" : {
            "type" : "object",
            "title" : "AvatarRequest",
            "example" : "{\n  \"avatar_url\": \"mxc://matrix.org/wefh34uihSDRGhw34\"\n}",
            "properties" : {
              "avatar_url" : {
                "type" : "string",
                "description" : "The new avatar URL for this user."
              }
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The avatar URL was set.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "User data" ]
      },
      "get" : {
        "summary" : "Get the user's avatar URL.",
        "description" : "Get the user's avatar URL. This API may be used to fetch the user's\nown avatar URL or to query the URL of other users; either locally or\non remote homeservers.",
        "operationId" : "getAvatar",
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "description" : "The user whose avatar URL to get.",
          "required" : true,
          "x-example" : "@alice:example.com"
        } ],
        "responses" : {
          "200" : {
            "description" : "The avatar URL for this user.",
            "examples" : {
              "application/json" : "{\n  \"avatar_url\": \"mxc://matrix.org/SDGdghriugerRg\"\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "AvatarResponse",
              "properties" : {
                "avatar_url" : {
                  "type" : "string",
                  "description" : "The user's avatar URL if they have set one, otherwise not present."
                }
              }
            }
          },
          "404" : {
            "description" : "There is no avatar URL for this user or this user does not exist."
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/profile/{userId}" : {
      "get" : {
        "summary" : "Get this user's profile information.",
        "description" : "Get the combined profile information for this user. This API may be used\nto fetch the user's own profile information or other users; either\nlocally or on remote homeservers. This API may return keys which are not\nlimited to ``displayname`` or ``avatar_url``.",
        "operationId" : "getUserProfile",
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "description" : "The user whose profile information to get.",
          "required" : true,
          "x-example" : "@alice:example.com"
        } ],
        "responses" : {
          "200" : {
            "description" : "The avatar URL for this user.",
            "examples" : {
              "application/json" : "{\n  \"avatar_url\": \"mxc://matrix.org/SDGdghriugerRg\",\n  \"displayname\": \"Alice Margatroid\"\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "UserProfileResponse",
              "properties" : {
                "avatar_url" : {
                  "type" : "string",
                  "description" : "The user's avatar URL if they have set one, otherwise not present."
                },
                "displayname" : {
                  "type" : "string",
                  "description" : "The user's display name if they have set one, otherwise not present."
                }
              }
            }
          },
          "404" : {
            "description" : "There is no profile information for this user or this user does not exist."
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/pushers" : {
      "get" : {
        "summary" : "Gets the current pushers for the authenticated user",
        "description" : "Gets all currently active pushers for the authenticated user",
        "operationId" : "getPushers",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "responses" : {
          "200" : {
            "description" : "The pushers for this user",
            "examples" : {
              "application/json" : "{\n  \"pushers\": [\n    {\n      \"pushkey\": \"Xp/MzCt8/9DcSNE9cuiaoT5Ac55job3TdLSSmtmYl4A=\",\n      \"kind\": \"http\",\n      \"app_id\": \"face.mcapp.appy.prod\",\n      \"app_display_name\": \"Appy McAppface\",\n      \"device_display_name\": \"Alice's Phone\",\n      \"profile_tag\": \"xyz\",\n      \"lang\": \"en-US\",\n      \"data\": {\n          \"url\": \"https://example.com/_matrix/push/v1/notify\"\n      }\n    }\n  ]\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "PushersResponse",
              "properties" : {
                "pushers" : {
                  "type" : "array",
                  "title" : "Pushers",
                  "description" : "An array containing the current pushers for the user",
                  "items" : {
                    "type" : "object",
                    "title" : "Pusher",
                    "properties" : {
                      "pushkey" : {
                        "type" : "string",
                        "description" : "This is a unique identifier for this pusher. See `/set` for\nmore detail.\nMax length, 512 bytes."
                      },
                      "kind" : {
                        "type" : "string",
                        "description" : "The kind of pusher. ``\"http\"`` is a pusher that\nsends HTTP pokes."
                      },
                      "app_id" : {
                        "type" : "string",
                        "description" : "This is a reverse-DNS style identifier for the application.\nMax length, 64 chars."
                      },
                      "app_display_name" : {
                        "type" : "string",
                        "description" : "A string that will allow the user to identify what application\nowns this pusher."
                      },
                      "device_display_name" : {
                        "type" : "string",
                        "description" : "A string that will allow the user to identify what device owns\nthis pusher."
                      },
                      "profile_tag" : {
                        "type" : "string",
                        "description" : "This string determines which set of device specific rules this\npusher executes."
                      },
                      "lang" : {
                        "type" : "string",
                        "description" : "The preferred language for receiving notifications (e.g. 'en'\nor 'en-US')"
                      },
                      "data" : {
                        "type" : "object",
                        "description" : "A dictionary of information for the pusher implementation\nitself.",
                        "title" : "PusherData",
                        "properties" : {
                          "url" : {
                            "type" : "string",
                            "description" : "Required if ``kind`` is ``http``. The URL to use to send\nnotifications to."
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "tags" : [ "Push notifications" ]
      }
    },
    "/client/r0/pushers/set" : {
      "post" : {
        "summary" : "Modify a pusher for this user on the homeserver.",
        "description" : "This endpoint allows the creation, modification and deletion of `pushers`_\nfor this user ID. The behaviour of this endpoint varies depending on the\nvalues in the JSON body.",
        "operationId" : "setPushers",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "body",
          "description" : "The pusher information",
          "name" : "PushersRequest",
          "required" : true,
          "schema" : {
            "type" : "object",
            "example" : "{\n  \"lang\": \"en\",\n  \"kind\": \"http\",\n  \"app_display_name\": \"Mat Rix\",\n  \"device_display_name\": \"iPhone 9\",\n  \"profile_tag\": \"xxyyzz\",\n  \"app_id\": \"com.example.app.ios\",\n  \"pushkey\": \"APA91bHPRgkF3JUikC4ENAHEeMrd41Zxv3hVZjC9KtT8OvPVGJ-hQMRKRrZuJAEcl7B338qju59zJMjw2DELjzEvxwYv7hH5Ynpc1ODQ0aT4U4OFEeco8ohsN5PjL1iC2dNtk2BAokeMCg2ZXKqpc8FXKmhX94kIxQ\",\n  \"data\": {\n    \"url\": \"https://push-gateway.location.here\"\n  },\n  \"append\": false\n}",
            "properties" : {
              "pushkey" : {
                "type" : "string",
                "description" : "This is a unique identifier for this pusher. The value you\nshould use for this is the routing or destination address\ninformation for the notification, for example, the APNS token\nfor APNS or the Registration ID for GCM. If your notification\nclient has no such concept, use any unique identifier.\nMax length, 512 bytes."
              },
              "kind" : {
                "type" : "string",
                "description" : "The kind of pusher to configure. ``\"http\"`` makes a pusher that\nsends HTTP pokes. ``null`` deletes the pusher."
              },
              "app_id" : {
                "type" : "string",
                "description" : "This is a reverse-DNS style identifier for the application.\nIt is recommended that this end with the platform, such that\ndifferent platform versions get different app identifiers.\nMax length, 64 chars."
              },
              "app_display_name" : {
                "type" : "string",
                "description" : "A string that will allow the user to identify what application\nowns this pusher."
              },
              "device_display_name" : {
                "type" : "string",
                "description" : "A string that will allow the user to identify what device owns\nthis pusher."
              },
              "profile_tag" : {
                "type" : "string",
                "description" : "This string determines which set of device specific rules this\npusher executes."
              },
              "lang" : {
                "type" : "string",
                "description" : "The preferred language for receiving notifications (e.g. 'en'\nor 'en-US')"
              },
              "data" : {
                "type" : "object",
                "description" : "A dictionary of information for the pusher implementation\nitself. If ``kind`` is ``http``, this should contain ``url``\nwhich is the URL to use to send notifications to.",
                "title" : "PusherData",
                "properties" : {
                  "url" : {
                    "type" : "string",
                    "description" : "Required if ``kind`` is ``http``. The URL to use to send\nnotifications to."
                  }
                }
              },
              "append" : {
                "type" : "boolean",
                "description" : "If true, the homeserver should add another pusher with the\ngiven pushkey and App ID in addition to any others with\ndifferent user IDs. Otherwise, the homeserver must remove any\nother pushers with the same App ID and pushkey for different\nusers. The default is ``false``."
              }
            },
            "required" : [ "kind", "app_id", "app_display_name", "device_display_name", "pushkey", "lang", "data" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The pusher was set.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "400" : {
            "description" : "One or more of the pusher values were invalid.",
            "examples" : {
              "application/json" : "{\n  \"error\": \"Missing parameters: lang, data\",\n  \"errcode\": \"M_MISSING_PARAM\"\n}"
            },
            "schema" : {
              "type" : "object"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Push notifications" ]
      }
    },
    "/client/r0/pushrules/" : {
      "get" : {
        "summary" : "Retrieve all push rulesets.",
        "description" : "Retrieve all push rulesets for this user. Clients can \"drill-down\" on\nthe rulesets by suffixing a ``scope`` to this path e.g.\n``/pushrules/global/``. This will return a subset of this data under the\nspecified key e.g. the ``global`` key.",
        "operationId" : "getPushRules",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "responses" : {
          "200" : {
            "description" : "All the push rulesets for this user.",
            "schema" : {
              "type" : "object",
              "title" : "PushRulesResponse",
              "required" : [ "global" ],
              "properties" : {
                "global" : {
                  "type" : "object",
                  "description" : "The global ruleset.",
                  "title" : "Ruleset",
                  "allOf" : [ {
                    "$ref" : "#/definitions/PushRuleset"
                  } ]
                }
              }
            },
            "examples" : {
              "application/json" : "{\n  \"global\": {\n      \"content\": [\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"sound\",\n                      \"value\": \"default\"\n                  },\n                  {\n                      \"set_tweak\": \"highlight\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"pattern\": \"alice\",\n              \"rule_id\": \".m.rule.contains_user_name\"\n          }\n      ],\n      \"override\": [\n          {\n              \"actions\": [\n                  \"dont_notify\"\n              ],\n              \"conditions\": [],\n              \"default\": true,\n              \"enabled\": false,\n              \"rule_id\": \".m.rule.master\"\n          },\n          {\n              \"actions\": [\n                  \"dont_notify\"\n              ],\n              \"conditions\": [\n                  {\n                      \"key\": \"content.msgtype\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"m.notice\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.suppress_notices\"\n          }\n      ],\n      \"room\": [],\n      \"sender\": [],\n      \"underride\": [\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"sound\",\n                      \"value\": \"ring\"\n                  },\n                  {\n                      \"set_tweak\": \"highlight\",\n                      \"value\": false\n                  }\n              ],\n              \"conditions\": [\n                  {\n                      \"key\": \"type\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"m.call.invite\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.call\"\n          },\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"sound\",\n                      \"value\": \"default\"\n                  },\n                  {\n                      \"set_tweak\": \"highlight\"\n                  }\n              ],\n              \"conditions\": [\n                  {\n                      \"kind\": \"contains_display_name\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.contains_display_name\"\n          },\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"sound\",\n                      \"value\": \"default\"\n                  },\n                  {\n                      \"set_tweak\": \"highlight\",\n                      \"value\": false\n                  }\n              ],\n              \"conditions\": [\n                  {\n                      \"is\": \"2\",\n                      \"kind\": \"room_member_count\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.room_one_to_one\"\n          },\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"sound\",\n                      \"value\": \"default\"\n                  },\n                  {\n                      \"set_tweak\": \"highlight\",\n                      \"value\": false\n                  }\n              ],\n              \"conditions\": [\n                  {\n                      \"key\": \"type\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"m.room.member\"\n                  },\n                  {\n                      \"key\": \"content.membership\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"invite\"\n                  },\n                  {\n                      \"key\": \"state_key\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"@alice:example.com\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.invite_for_me\"\n          },\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"highlight\",\n                      \"value\": false\n                  }\n              ],\n              \"conditions\": [\n                  {\n                      \"key\": \"type\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"m.room.member\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.member_event\"\n          },\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"highlight\",\n                      \"value\": false\n                  }\n              ],\n              \"conditions\": [\n                  {\n                      \"key\": \"type\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"m.room.message\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.message\"\n          }\n      ]\n  }\n}"
            }
          }
        },
        "tags" : [ "Push notifications" ]
      }
    },
    "/client/r0/pushrules/{scope}/{kind}/{ruleId}" : {
      "get" : {
        "summary" : "Retrieve a push rule.",
        "description" : "Retrieve a single specified push rule.",
        "operationId" : "getPushRule",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "scope",
          "required" : true,
          "x-example" : "global",
          "description" : "``global`` to specify global rules."
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "kind",
          "required" : true,
          "x-example" : "content",
          "enum" : [ "override", "underride", "sender", "room", "content" ],
          "description" : "The kind of rule\n"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "ruleId",
          "required" : true,
          "x-example" : "nocake",
          "description" : "The identifier for the rule.\n"
        } ],
        "responses" : {
          "200" : {
            "description" : "The specific push rule. This will also include keys specific to the\nrule itself such as the rule's ``actions`` and ``conditions`` if set.",
            "examples" : {
              "application/json" : "{\n  \"actions\": [\n      \"dont_notify\"\n  ],\n  \"pattern\": \"cake*lie\",\n  \"rule_id\": \"nocake\",\n  \"enabled\": true,\n  \"default\": false\n}"
            },
            "schema" : {
              "type" : "object",
              "description" : "The push rule.",
              "$ref" : "#/definitions/PushRule"
            }
          }
        },
        "tags" : [ "Push notifications" ]
      },
      "delete" : {
        "summary" : "Delete a push rule.",
        "description" : "This endpoint removes the push rule defined in the path.",
        "operationId" : "deletePushRule",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "scope",
          "required" : true,
          "x-example" : "global",
          "description" : "``global`` to specify global rules."
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "kind",
          "required" : true,
          "x-example" : "content",
          "enum" : [ "override", "underride", "sender", "room", "content" ],
          "description" : "The kind of rule\n"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "ruleId",
          "required" : true,
          "x-example" : "nocake",
          "description" : "The identifier for the rule.\n"
        } ],
        "responses" : {
          "200" : {
            "description" : "The push rule was deleted.",
            "examples" : {
              "application/json" : "{}"
            }
          }
        },
        "tags" : [ "Push notifications" ]
      },
      "put" : {
        "summary" : "Add or change a push rule.",
        "description" : "This endpoint allows the creation, modification and deletion of pushers\nfor this user ID. The behaviour of this endpoint varies depending on the\nvalues in the JSON body.",
        "operationId" : "modifyPushRule",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "scope",
          "required" : true,
          "x-example" : "global",
          "description" : "``global`` to specify global rules."
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "kind",
          "required" : true,
          "x-example" : "content",
          "enum" : [ "override", "underride", "sender", "room", "content" ],
          "description" : "The kind of rule\n"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "ruleId",
          "required" : true,
          "x-example" : "nocake",
          "description" : "The identifier for the rule.\n"
        }, {
          "in" : "query",
          "type" : "string",
          "name" : "before",
          "required" : false,
          "x-example" : "someRuleId",
          "description" : "Use 'before' with a ``rule_id`` as its value to make the new rule the\nnext-most important rule with respect to the given user defined rule.\nIt is not possible to add a rule relative to a predefined server rule."
        }, {
          "in" : "query",
          "type" : "string",
          "name" : "after",
          "required" : false,
          "x-example" : "anotherRuleId",
          "description" : "This makes the new rule the next-less important rule relative to the\ngiven user defined rule. It is not possible to add a rule relative\nto a predefined server rule."
        }, {
          "in" : "body",
          "name" : "PushRuleRequest",
          "description" : "The push rule data. Additional top-level keys may be present depending\non the parameters for the rule ``kind``.",
          "required" : true,
          "schema" : {
            "type" : "object",
            "example" : "{\n  \"pattern\": \"cake*lie\",\n  \"actions\": [\"notify\"]\n}",
            "properties" : {
              "actions" : {
                "type" : "array",
                "description" : "The action(s) to perform when the conditions for this rule are met.",
                "items" : {
                  "type" : "string",
                  "enum" : [ "notify", "dont_notify", "coalesce", "set_tweak" ]
                }
              },
              "conditions" : {
                "type" : "array",
                "description" : "The conditions that must hold true for an event in order for a\nrule to be applied to an event. A rule with no conditions\nalways matches. Only applicable to ``underride`` and ``override`` rules.",
                "items" : {
                  "type" : "object",
                  "$ref" : "#/definitions/PushCondition"
                }
              },
              "pattern" : {
                "type" : "string",
                "description" : "Only applicable to ``content`` rules. The glob-style pattern to match against."
              }
            },
            "required" : [ "actions" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The pusher was set.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "400" : {
            "description" : "There was a problem configuring this push rule.",
            "examples" : {
              "application/json" : "{\n  \"error\": \"before/after rule not found: someRuleId\",\n  \"errcode\": \"M_UNKNOWN\"\n}"
            },
            "schema" : {
              "type" : "object"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Push notifications" ]
      }
    },
    "/client/r0/pushrules/{scope}/{kind}/{ruleId}/enabled" : {
      "get" : {
        "summary" : "Get whether a push rule is enabled",
        "description" : "This endpoint gets whether the specified push rule is enabled.",
        "operationId" : "isPushRuleEnabled",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "scope",
          "required" : true,
          "x-example" : "global",
          "description" : "Either ``global`` or ``device/<profile_tag>`` to specify global\nrules or device rules for the given ``profile_tag``."
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "kind",
          "required" : true,
          "x-example" : "cake",
          "enum" : [ "override", "underride", "sender", "room", "content" ],
          "description" : "The kind of rule\n"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "ruleId",
          "required" : true,
          "x-example" : "nocake",
          "description" : "The identifier for the rule.\n"
        } ],
        "responses" : {
          "200" : {
            "description" : "Whether the push rule is enabled.",
            "examples" : {
              "application/json" : "{\n  \"enabled\": true\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "PushRuleEnabledResponse",
              "properties" : {
                "enabled" : {
                  "type" : "boolean",
                  "description" : "Whether the push rule is enabled or not."
                }
              },
              "required" : [ "enabled" ]
            }
          }
        },
        "tags" : [ "Push notifications" ]
      },
      "put" : {
        "summary" : "Enable or disable a push rule.",
        "description" : "This endpoint allows clients to enable or disable the specified push rule.",
        "operationId" : "setPushRuleStatus",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "scope",
          "required" : true,
          "x-example" : "global",
          "description" : "``global`` to specify global rules."
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "kind",
          "required" : true,
          "x-example" : "content",
          "enum" : [ "override", "underride", "sender", "room", "content" ],
          "description" : "The kind of rule\n"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "ruleId",
          "required" : true,
          "x-example" : "nocake",
          "description" : "The identifier for the rule.\n"
        }, {
          "in" : "body",
          "name" : "body",
          "description" : "Whether the push rule is enabled or not.",
          "required" : true,
          "schema" : {
            "type" : "object",
            "title" : "PushRuleStatusRequest",
            "properties" : {
              "enabled" : {
                "type" : "boolean",
                "description" : "Whether the push rule is enabled or not."
              }
            },
            "required" : [ "enabled" ],
            "example" : "{\n  \"enabled\": true\n}"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The push rule was enabled or disabled.",
            "examples" : {
              "application/json" : "{}"
            }
          }
        },
        "tags" : [ "Push notifications" ]
      }
    },
    "/client/r0/pushrules/{scope}/{kind}/{ruleId}/actions" : {
      "get" : {
        "summary" : "The actions for a push rule",
        "description" : "This endpoint get the actions for the specified push rule.",
        "operationId" : "getPushRuleActions",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "scope",
          "required" : true,
          "x-example" : "global",
          "description" : "Either ``global`` or ``device/<profile_tag>`` to specify global\nrules or device rules for the given ``profile_tag``."
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "kind",
          "required" : true,
          "x-example" : "content",
          "enum" : [ "override", "underride", "sender", "room", "content" ],
          "description" : "The kind of rule\n"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "ruleId",
          "required" : true,
          "x-example" : "nocake",
          "description" : "The identifier for the rule.\n"
        } ],
        "responses" : {
          "200" : {
            "description" : "The actions for this push rule.",
            "examples" : {
              "application/json" : "{\n  \"actions\": [\"notify\"]\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "PushRuleActionsResponse",
              "properties" : {
                "actions" : {
                  "type" : "array",
                  "description" : "The action(s) to perform for this rule.",
                  "items" : {
                    "type" : "string"
                  }
                }
              },
              "required" : [ "actions" ]
            }
          }
        },
        "tags" : [ "Push notifications" ]
      },
      "put" : {
        "summary" : "Set the actions for a push rule.",
        "description" : "This endpoint allows clients to change the actions of a push rule.\nThis can be used to change the actions of builtin rules.",
        "operationId" : "setPushRuleActions",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "scope",
          "required" : true,
          "x-example" : "global",
          "description" : "``global`` to specify global rules."
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "kind",
          "required" : true,
          "x-example" : "room",
          "enum" : [ "override", "underride", "sender", "room", "content" ],
          "description" : "The kind of rule\n"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "ruleId",
          "required" : true,
          "x-example" : "#spam:example.com",
          "description" : "The identifier for the rule.\n"
        }, {
          "in" : "body",
          "name" : "body",
          "description" : "The action(s) to perform when the conditions for this rule are met.\n",
          "required" : true,
          "schema" : {
            "type" : "object",
            "title" : "PushRuleActionsRequest",
            "properties" : {
              "actions" : {
                "type" : "array",
                "description" : "The action(s) to perform for this rule.",
                "items" : {
                  "type" : "string",
                  "enum" : [ "notify", "dont_notify", "coalesce", "set_tweak" ]
                }
              }
            },
            "required" : [ "actions" ],
            "example" : "{\n  \"actions\": [\"notify\"]\n}"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The actions for the push rule were set.",
            "examples" : {
              "application/json" : "{}"
            }
          }
        },
        "tags" : [ "Push notifications" ]
      }
    },
    "/client/r0/rooms/{roomId}/receipt/{receiptType}/{eventId}" : {
      "post" : {
        "summary" : "Send a receipt for the given event ID.",
        "operationId" : "sendReceipt",
        "description" : "This API updates the marker for the given receipt type to the event ID\nspecified.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room in which to send the event.",
          "required" : true,
          "x-example" : "!wefuh21ffskfuh345:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "receiptType",
          "description" : "The type of receipt to send.",
          "required" : true,
          "x-example" : "m.read",
          "enum" : [ "m.read" ]
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "eventId",
          "description" : "The event ID to acknowledge up to.",
          "required" : true,
          "x-example" : "$1924376522eioj:example.com"
        }, {
          "in" : "body",
          "name" : "receipt",
          "description" : "Extra receipt information to attach to ``content`` if any. The\nserver will automatically set the ``ts`` field.",
          "schema" : {
            "type" : "object",
            "example" : "{}"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The receipt was sent.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/rooms/{roomId}/redact/{eventId}/{txnId}" : {
      "put" : {
        "summary" : "Strips all non-integrity-critical information out of an event.",
        "operationId" : "stripEvent",
        "description" : "Strips all information out of an event which isn't critical to the\nintegrity of the server-side representation of the room.\n\nThis cannot be undone.\n\nUsers may redact their own events, and any user with a power level\ngreater than or equal to the `redact` power level of the room may\nredact events there.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room from which to redact the event.",
          "required" : true,
          "x-example" : "!637q39766251:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "eventId",
          "description" : "The ID of the event to redact",
          "required" : true,
          "x-example" : "bai2b1i9:matrix.org"
        }, {
          "in" : "path",
          "name" : "txnId",
          "type" : "string",
          "description" : "The transaction ID for this event. Clients should generate a\nunique ID; it will be used by the server to ensure idempotency of requests.",
          "required" : true,
          "x-example" : "37"
        }, {
          "in" : "body",
          "name" : "body",
          "schema" : {
            "type" : "object",
            "title" : "StripEventResponse",
            "example" : "{\n  \"reason\": \"Indecent material\"\n}",
            "properties" : {
              "reason" : {
                "type" : "string",
                "description" : "The reason for the event being redacted."
              }
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "An ID for the redaction event.",
            "examples" : {
              "application/json" : "{\n    \"event_id\": \"YUwQidLecu\"\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "EventId",
              "description" : "ID of created event",
              "properties" : {
                "event_id" : {
                  "type" : "string",
                  "description" : "A unique identifier for the event."
                }
              }
            }
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/register" : {
      "post" : {
        "summary" : "Register for an account on this homeserver.",
        "description" : "This API endpoint uses the `User-Interactive Authentication API`_.\n\nRegister for an account on this homeserver.\n\nThere are two kinds of user account:\n\n- `user` accounts. These accounts may use the full API described in this specification.\n\n- `guest` accounts. These accounts may have limited permissions and may not be supported by all servers.\n\nIf registration is successful, this endpoint will issue an access token\nthe client can use to authorize itself in subsequent requests.\n\nIf the client does not supply a ``device_id``, the server must\nauto-generate one.\n\nThe returned access token must be associated with the ``device_id``\nsupplied by the client or generated by the server. The server may\ninvalidate any access token previously associated with that device. See\n`Relationship between access tokens and devices`_.",
        "operationId" : "registerAccount",
        "parameters" : [ {
          "in" : "query",
          "name" : "kind",
          "type" : "string",
          "x-example" : "user",
          "required" : false,
          "default" : "user",
          "enum" : [ "guest", "user" ],
          "description" : "The kind of account to register. Defaults to `user`."
        }, {
          "in" : "body",
          "name" : "body",
          "schema" : {
            "type" : "object",
            "title" : "RegisterAccountRequest",
            "properties" : {
              "auth" : {
                "description" : "Additional authentication information for the\nuser-interactive authentication API. Note that this\ninformation is *not* used to define how the registered user\nshould be authenticated, but is instead used to\nauthenticate the ``register`` call itself. It should be\nleft empty, or omitted, unless an earlier call returned an\nresponse with status code 401.",
                "$ref" : "#/definitions/AuthData"
              },
              "bind_email" : {
                "type" : "boolean",
                "description" : "If true, the server binds the email used for authentication to\nthe Matrix ID with the ID Server.",
                "example" : false
              },
              "username" : {
                "type" : "string",
                "description" : "The local part of the desired Matrix ID. If omitted,\nthe homeserver MUST generate a Matrix ID local part.",
                "example" : "cheeky_monkey"
              },
              "password" : {
                "type" : "string",
                "description" : "The desired password for the account.",
                "example" : "ilovebananas"
              },
              "device_id" : {
                "type" : "string",
                "description" : "ID of the client device. If this does not correspond to a\nknown client device, a new device will be created. The server\nwill auto-generate a device_id if this is not specified.",
                "example" : "GHTYAJCE"
              },
              "initial_device_display_name" : {
                "type" : "string",
                "description" : "A display name to assign to the newly-created device. Ignored\nif ``device_id`` corresponds to a known device.",
                "example" : "Jungle Phone"
              }
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The account has been registered.",
            "examples" : {
              "application/json" : "{\n  \"user_id\": \"@cheeky_monkey:matrix.org\",\n  \"access_token\": \"abc123\",\n  \"home_server\": \"matrix.org\",\n  \"device_id\": \"GHTYAJCE\"\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "RegisterAccountResponse",
              "properties" : {
                "user_id" : {
                  "type" : "string",
                  "description" : "The fully-qualified Matrix ID that has been registered."
                },
                "access_token" : {
                  "type" : "string",
                  "description" : "An access token for the account.\nThis access token can then be used to authorize other requests."
                },
                "home_server" : {
                  "type" : "string",
                  "description" : "The hostname of the homeserver on which the account has been registered."
                },
                "device_id" : {
                  "type" : "string",
                  "description" : "ID of the registered device. Will be the same as the\ncorresponding parameter in the request, if one was specified."
                }
              }
            }
          },
          "400" : {
            "description" : "Part of the request was invalid. This may include one of the following error codes:\n\n* ``M_USER_IN_USE`` : The desired user ID is already taken.\n* ``M_INVALID_USERNAME`` : The desired user ID is not a valid user name.\n* ``M_EXCLUSIVE`` : The desired user ID is in the exclusive namespace\n  claimed by an application service.\n\nThese errors may be returned at any stage of the registration process,\nincluding after authentication if the requested user ID was registered\nwhilst the client was performing authentication.\n\nHomeservers MUST perform the relevant checks and return these codes before\nperforming User-Interactive Authentication, although they may also return\nthem after authentication is completed if, for example, the requested user ID\nwas registered whilst the client was performing authentication.",
            "examples" : {
              "application/json" : "{\n    \"errcode\": \"M_USER_IN_USE\",\n    \"error\": \"Desired user ID is already taken.\"\n}"
            }
          },
          "401" : {
            "description" : "The homeserver requires additional authentication information.",
            "schema" : {
              "$ref" : "#/definitions/AuthResponse"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/register/email/requestToken" : {
      "post" : {
        "summary" : "Requests a validation token be sent to the given email address for the purpose of registering an account",
        "description" : "Proxies the identity server API ``validate/email/requestToken``, but\nfirst checks that the given email address is not already associated\nwith an account on this Home Server. Note that, for consistency,\nthis API takes JSON objects, though the Identity Server API takes\n``x-www-form-urlencoded`` parameters. See the Identity Server API for\nfurther information.",
        "operationId" : "requestEmailValidation",
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "schema" : {
            "type" : "object",
            "properties" : {
              "id_server" : {
                "type" : "string",
                "description" : "The ID server to send the onward request to as a hostname with an appended colon and port number if the port is not the default.",
                "example" : "id.matrix.org"
              },
              "client_secret" : {
                "type" : "string",
                "description" : "Client-generated secret string used to protect this session",
                "example" : "this_is_my_secret_string"
              },
              "email" : {
                "type" : "string",
                "description" : "The email address",
                "example" : "example@example.com"
              },
              "send_attempt" : {
                "type" : "number",
                "description" : "Used to distinguish protocol level retries from requests to re-send the email.",
                "example" : "1"
              }
            },
            "required" : [ "client_secret", "email", "send_attempt" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "An email has been sent to the specified address.\nNote that this may be an email containing the validation token or it may be informing\nthe user of an error.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "400" : {
            "description" : "Part of the request was invalid. This may include one of the following error codes:\n\n* ``M_THREEPID_IN_USE`` : The email address is already registered to an account on this server.\n  However, if the home server has the ability to send email, it is recommended that the server\n  instead send an email to the user with instructions on how to reset their password.\n  This prevents malicious parties from being able to determine if a given email address\n  has an account on the Home Server in question.\n* ``M_SERVER_NOT_TRUSTED`` : The ``id_server`` parameter refers to an ID server\n  that is not trusted by this Home Server.",
            "examples" : {
              "application/json" : "{\n  \"errcode\": \"M_THREEPID_IN_USE\",\n  \"error\": \"The specified address is already in use\"\n}"
            },
            "schema" : {
              "type" : "object"
            }
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/account/password" : {
      "post" : {
        "summary" : "Changes a user's password.",
        "description" : "Changes the password for an account on this homeserver.\n\nThis API endpoint uses the `User-Interactive Authentication API`_.\n\nAn access token should be submitted to this endpoint if the client has\nan active session.\n\nThe homeserver may change the flows available depending on whether a\nvalid access token is provided.",
        "operationId" : "changePassword",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "schema" : {
            "type" : "object",
            "title" : "ChangePasswordRequest",
            "properties" : {
              "new_password" : {
                "type" : "string",
                "description" : "The new password for the account.",
                "example" : "ihatebananas"
              },
              "auth" : {
                "description" : "Additional authentication information for the user-interactive authentication API.",
                "$ref" : "#/definitions/AuthData"
              }
            },
            "required" : [ "new_password" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The password has been changed.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "401" : {
            "description" : "The homeserver requires additional authentication information.",
            "schema" : {
              "$ref" : "#/definitions/AuthResponse"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/account/password/email/requestToken" : {
      "post" : {
        "summary" : "Requests a validation token be sent to the given email address for the purpose of resetting a user's password",
        "description" : "Proxies the identity server API ``validate/email/requestToken``, but\nfirst checks that the given email address **is** associated with an account\non this Home Server. This API should be used to request\nvalidation tokens when authenticating for the\n`account/password` endpoint. This API's parameters and response are\nidentical to that of the HS API |/register/email/requestToken|_ except that\n`M_THREEPID_NOT_FOUND` may be returned if no account matching the\ngiven email address could be found. The server may instead send an\nemail to the given address prompting the user to create an account.\n`M_THREEPID_IN_USE` may not be returned.\n\n.. |/register/email/requestToken| replace:: ``/register/email/requestToken``\n\n.. _/register/email/requestToken: #post-matrix-client-%CLIENT_MAJOR_VERSION%-register-email-requesttoken",
        "responses" : {
          "200" : {
            "description" : "An email was sent to the given address"
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/account/deactivate" : {
      "post" : {
        "summary" : "Deactivate a user's account.",
        "description" : "Deactivate the user's account, removing all ability for the user to\nlogin again.\n\nThis API endpoint uses the `User-Interactive Authentication API`_.\n\nAn access token should be submitted to this endpoint if the client has\nan active session.\n\nThe homeserver may change the flows available depending on whether a\nvalid access token is provided.",
        "operationId" : "deactivateAccount",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "schema" : {
            "type" : "object",
            "title" : "DeactivateAccountRequest",
            "properties" : {
              "auth" : {
                "description" : "Additional authentication information for the user-interactive authentication API.",
                "$ref" : "#/definitions/AuthData"
              }
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The account has been deactivated.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "401" : {
            "description" : "The homeserver requires additional authentication information.",
            "schema" : {
              "$ref" : "#/definitions/AuthResponse"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/rooms/{roomId}/initialSync" : {
      "get" : {
        "summary" : "Snapshot the current state of a room and its most recent messages.",
        "operationId" : "roomInitialSync",
        "deprecated" : true,
        "description" : "Get a copy of the current state and the most recent messages in a room.\n\nThis endpoint was deprecated in r0 of this specification. There is no\ndirect replacement; the relevant information is returned by the\n|/sync|_ API. See the `migration guide\n<https://matrix.org/docs/guides/client-server-migrating-from-v1.html#deprecated-endpoints>`_.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room to get the data.",
          "required" : true,
          "x-example" : "!636q39766251:example.com"
        } ],
        "responses" : {
          "200" : {
            "description" : "The current state of the room",
            "examples" : {
              "application/json" : "{\n  \"membership\": \"join\",\n  \"messages\": {\n    \"chunk\": [\n      {\n        \"age\": 343513403,\n        \"content\": {\n          \"body\": \"foo\",\n          \"msgtype\": \"m.text\"\n        },\n        \"event_id\": \"$14328044851tzTJS:example.com\",\n        \"origin_server_ts\": 1432804485886,\n        \"room_id\": \"!636q39766251:example.com\",\n        \"type\": \"m.room.message\",\n        \"sender\": \"@alice:example.com\"\n      },\n      {\n        \"age\": 343511809,\n        \"content\": {\n          \"body\": \"bar\",\n          \"msgtype\": \"m.text\"\n        },\n        \"event_id\": \"$14328044872spjFg:example.com\",\n        \"origin_server_ts\": 1432804487480,\n        \"room_id\": \"!636q39766251:example.com\",\n        \"type\": \"m.room.message\",\n        \"sender\": \"@bob:example.com\"\n      }\n    ],\n    \"end\": \"s3456_9_0\",\n    \"start\": \"t44-3453_9_0\"\n  },\n  \"room_id\": \"!636q39766251:example.com\",\n  \"state\": [\n    {\n      \"age\": 7148266897,\n      \"content\": {\n        \"join_rule\": \"public\"\n      },\n      \"event_id\": \"$14259997323TLwtb:example.com\",\n      \"origin_server_ts\": 1425999732392,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.join_rules\",\n      \"sender\": \"@alice:example.com\"\n    },\n    {\n      \"age\": 6547561012,\n      \"content\": {\n        \"avatar_url\": \"mxc://example.com/fzysBrHpPEeTGANCVLXWXNMI#auto\",\n        \"membership\": \"join\"\n      },\n      \"event_id\": \"$1426600438280zExKY:example.com\",\n      \"membership\": \"join\",\n      \"origin_server_ts\": 1426600438277,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"@alice:example.com\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@alice:example.com\"\n    },\n    {\n      \"age\": 7148267200,\n      \"content\": {\n          \"creator\": \"@alice:example.com\"\n      },\n      \"event_id\": \"$14259997320KhbwJ:example.com\",\n      \"origin_server_ts\": 1425999732089,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.create\",\n      \"sender\": \"@alice:example.com\"\n    },\n    {\n      \"age\": 1622568720,\n      \"content\": {\n          \"avatar_url\": \"mxc://example.com/GCmhgzMPRjqgpODLsNQzVuHZ#auto\",\n          \"displayname\": \"Bob\",\n          \"membership\": \"join\"\n      },\n      \"event_id\": \"$1431525430134MxlLX:example.com\",\n      \"origin_server_ts\": 1431525430569,\n      \"replaces_state\": \"$142652023736BSXcM:example.com\",\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"@bob:example.com\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@bob:example.com\"\n    },\n    {\n      \"age\": 7148267004,\n      \"content\": {\n        \"ban\": 50,\n        \"events\": {\n          \"m.room.name\": 100,\n          \"m.room.power_levels\": 100\n        },\n        \"events_default\": 0,\n        \"kick\": 50,\n        \"redact\": 50,\n        \"state_default\": 50,\n        \"users\": {\n          \"@alice:example.com\": 100\n        },\n        \"users_default\": 0\n      },\n      \"event_id\": \"$14259997322mqfaq:example.com\",\n      \"origin_server_ts\": 1425999732285,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.power_levels\",\n      \"sender\": \"@alice:example.com\"\n    }\n  ],\n  \"visibility\": \"private\",\n  \"account_data\": [{\n      \"type\": \"m.tag\",\n      \"content\": {\"tags\": {\"work\": {\"order\": \"1\"}}}\n  }]\n}"
            },
            "schema" : {
              "title" : "RoomInitialSyncResponse",
              "type" : "object",
              "properties" : {
                "room_id" : {
                  "type" : "string",
                  "description" : "The ID of this room."
                },
                "membership" : {
                  "type" : "string",
                  "description" : "The user's membership state in this room.",
                  "enum" : [ "invite", "join", "leave", "ban" ]
                },
                "messages" : {
                  "type" : "object",
                  "title" : "PaginationChunk",
                  "description" : "The pagination chunk for this room.",
                  "properties" : {
                    "start" : {
                      "type" : "string",
                      "description" : "A token which correlates to the first value in ``chunk``.\nUsed for pagination."
                    },
                    "end" : {
                      "type" : "string",
                      "description" : "A token which correlates to the last value in ``chunk``.\nUsed for pagination."
                    },
                    "chunk" : {
                      "type" : "array",
                      "description" : "If the user is a member of the room this will be a\nlist of the most recent messages for this room. If\nthe user has left the room this will be the\nmessages that preceeded them leaving. This array\nwill consist of at most ``limit`` elements.",
                      "items" : {
                        "type" : "object",
                        "title" : "RoomEvent",
                        "allOf" : [ {
                          "$ref" : "#/definitions/RoomEvent"
                        } ]
                      }
                    }
                  },
                  "required" : [ "start", "end", "chunk" ]
                },
                "state" : {
                  "type" : "array",
                  "description" : "If the user is a member of the room this will be the\ncurrent state of the room as a list of events. If the\nuser has left the room this will be the state of the\nroom when they left it.",
                  "items" : {
                    "title" : "StateEvent",
                    "type" : "object",
                    "allOf" : [ {
                      "$ref" : "#/definitions/StateEvent"
                    } ]
                  }
                },
                "visibility" : {
                  "type" : "string",
                  "enum" : [ "private", "public" ],
                  "description" : "Whether this room is visible to the ``/publicRooms`` API\nor not.\""
                },
                "account_data" : {
                  "type" : "array",
                  "description" : "The private data that this user has attached to this room.",
                  "items" : {
                    "title" : "Event",
                    "type" : "object",
                    "allOf" : [ {
                      "$ref" : "#/definitions/Event"
                    } ]
                  }
                }
              },
              "required" : [ "room_id" ]
            }
          },
          "403" : {
            "description" : "You aren't a member of the room and weren't previously a member of the room.\n"
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/rooms/{roomId}/send/{eventType}/{txnId}" : {
      "put" : {
        "summary" : "Send a message event to the given room.",
        "operationId" : "sendEvent",
        "description" : "This endpoint is used to send a message event to a room. Message events\nallow access to historical events and pagination, making them suited\nfor \"once-off\" activity in a room.\n\nThe body of the request should be the content object of the event; the\nfields in this object will vary depending on the type of event. See\n`Room Events`_ for the m. event specification.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room to send the event to.",
          "required" : true,
          "x-example" : "!636q39766251:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "eventType",
          "description" : "The type of event to send.",
          "required" : true,
          "x-example" : "m.room.message"
        }, {
          "in" : "path",
          "name" : "txnId",
          "type" : "string",
          "description" : "The transaction ID for this event. Clients should generate an\nID unique across requests with the same access token; it will be\nused by the server to ensure idempotency of requests.",
          "required" : true,
          "x-example" : "35"
        }, {
          "in" : "body",
          "name" : "body",
          "schema" : {
            "type" : "object",
            "$ref" : "#/definitions/RoomEvent",
            "example" : "{\n  \"msgtype\": \"m.text\",\n  \"body\": \"hello\"\n}"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "An ID for the sent event.",
            "examples" : {
              "application/json" : "{\n    \"event_id\": \"YUwRidLecu\"\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "EventId",
              "description" : "ID of created event",
              "properties" : {
                "event_id" : {
                  "type" : "string",
                  "description" : "A unique identifier for the event."
                }
              }
            }
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/rooms/{roomId}/state/{eventType}/{stateKey}" : {
      "put" : {
        "summary" : "Send a state event to the given room.",
        "operationId" : "setRoomStateWithKey",
        "description" : "State events can be sent using this endpoint.  These events will be\noverwritten if ``<room id>``, ``<event type>`` and ``<state key>`` all\nmatch.\n\nRequests to this endpoint **cannot use transaction IDs**\nlike other ``PUT`` paths because they cannot be differentiated from the\n``state_key``. Furthermore, ``POST`` is unsupported on state paths.\n\nThe body of the request should be the content object of the event; the\nfields in this object will vary depending on the type of event. See\n`Room Events`_ for the ``m.`` event specification.\n",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room to set the state in",
          "required" : true,
          "x-example" : "!636q39766251:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "eventType",
          "description" : "The type of event to send.",
          "required" : true,
          "x-example" : "m.room.name"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "stateKey",
          "description" : "The state_key for the state to send. Defaults to the empty string.",
          "required" : true,
          "x-example" : ""
        }, {
          "in" : "body",
          "name" : "body",
          "schema" : {
            "type" : "object",
            "example" : "{\n    \"name\": \"New name for the room\"\n}"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "An ID for the sent event.",
            "examples" : {
              "application/json" : "{\n    \"event_id\": \"YUwRidLecu\"\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "EventId",
              "description" : "ID of created event",
              "properties" : {
                "event_id" : {
                  "type" : "string",
                  "description" : "A unique identifier for the event."
                }
              }
            }
          }
        },
        "tags" : [ "Room participation" ]
      },
      "get" : {
        "summary" : "Get the state identified by the type and key.",
        "operationId" : "getRoomStateWithKey",
        "description" : "Looks up the contents of a state event in a room. If the user is\njoined to the room then the state is taken from the current\nstate of the room. If the user has left the room then the state is\ntaken from the state of the room when they left.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room to look up the state in.",
          "required" : true,
          "x-example" : "!636q39766251:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "eventType",
          "description" : "The type of state to look up.",
          "required" : true,
          "x-example" : "m.room.name"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "stateKey",
          "description" : "The key of the state to look up.",
          "required" : true,
          "x-example" : ""
        } ],
        "responses" : {
          "200" : {
            "description" : "The content of the state event.",
            "examples" : {
              "application/json" : "{\"name\": \"Example room name\"}"
            },
            "schema" : {
              "type" : "object",
              "$ref" : "#/definitions/StateEvent"
            }
          },
          "404" : {
            "description" : "The room has no state with the given type or key."
          },
          "403" : {
            "description" : "You aren't a member of the room and weren't previously a member of the room.\n"
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/rooms/{roomId}/state/{eventType}" : {
      "put" : {
        "summary" : "Send a state event to the given room.",
        "operationId" : "setRoomState",
        "description" : "State events can be sent using this endpoint. This endpoint is\nequivalent to calling `/rooms/{roomId}/state/{eventType}/{stateKey}`\nwith an empty `stateKey`. Previous state events with matching\n`<roomId>` and `<eventType>`, and empty `<stateKey>`, will be overwritten.\n\nRequests to this endpoint **cannot use transaction IDs**\nlike other ``PUT`` paths because they cannot be differentiated from the\n``state_key``. Furthermore, ``POST`` is unsupported on state paths.\n\nThe body of the request should be the content object of the event; the\nfields in this object will vary depending on the type of event. See\n`Room Events`_ for the ``m.`` event specification.\n",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room to set the state in",
          "required" : true,
          "x-example" : "!636q39766251:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "eventType",
          "description" : "The type of event to send.",
          "required" : true,
          "x-example" : "m.room.name"
        }, {
          "in" : "body",
          "name" : "body",
          "schema" : {
            "type" : "object",
            "example" : "{\n    \"name\": \"New name for the room\"\n}"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "An ID for the sent event.",
            "examples" : {
              "application/json" : "{\n    \"event_id\": \"YUwRidLecu\"\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "EventId",
              "description" : "ID of created event",
              "properties" : {
                "event_id" : {
                  "type" : "string",
                  "description" : "A unique identifier for the event."
                }
              }
            }
          }
        },
        "tags" : [ "Room participation" ]
      },
      "get" : {
        "summary" : "Get the state identified by the type, with the empty state key.",
        "operationId" : "getRoomState",
        "description" : "Looks up the contents of a state event in a room. If the user is\njoined to the room then the state is taken from the current\nstate of the room. If the user has left the room then the state is\ntaken from the state of the room when they left.\n\nThis looks up the state event with the empty state key.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room to look up the state in.",
          "required" : true,
          "x-example" : "!636q39766251:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "eventType",
          "description" : "The type of state to look up.",
          "required" : true,
          "x-example" : "m.room.name"
        } ],
        "responses" : {
          "200" : {
            "description" : "The content of the state event.",
            "examples" : {
              "application/json" : "{\"name\": \"Example room name\"}"
            },
            "schema" : {
              "type" : "object",
              "$ref" : "#/definitions/StateEvent"
            }
          },
          "404" : {
            "description" : "The room has no state with the given type or key."
          },
          "403" : {
            "description" : "You aren't a member of the room and weren't previously a member of the room.\n"
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/rooms/{roomId}/state" : {
      "get" : {
        "summary" : "Get all state events in the current state of a room.",
        "operationId" : "getAllRoomStates",
        "description" : "Get the state events for the current state of a room.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room to look up the state for.",
          "required" : true,
          "x-example" : "!636q39766251:example.com"
        } ],
        "responses" : {
          "200" : {
            "description" : "The current state of the room",
            "examples" : {
              "application/json" : "[\n  {\n      \"age\": 7148266897,\n      \"content\": {\n          \"join_rule\": \"public\"\n      },\n      \"event_id\": \"$14259997323TLwtb:example.com\",\n      \"origin_server_ts\": 1425999732392,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.join_rules\",\n      \"sender\": \"@alice:example.com\"\n  },\n  {\n      \"age\": 6547561012,\n      \"content\": {\n          \"avatar_url\": \"mxc://example.com/fzysBrHpPEeTGANCVLXWXNMI#auto\",\n          \"membership\": \"join\"\n      },\n      \"event_id\": \"$1426600438280zExKY:example.com\",\n      \"membership\": \"join\",\n      \"origin_server_ts\": 1426600438277,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"@alice:example.com\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@alice:example.com\"\n  },\n  {\n      \"age\": 7148267200,\n      \"content\": {\n          \"creator\": \"@alice:example.com\"\n      },\n      \"event_id\": \"$14259997320KhbwJ:example.com\",\n      \"origin_server_ts\": 1425999732089,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.create\",\n      \"sender\": \"@alice:example.com\"\n  },\n  {\n      \"age\": 1622568720,\n      \"content\": {\n          \"avatar_url\": \"mxc://example.com/GCmhgzMPRjqgpODLsNQzVuHZ#auto\",\n          \"displayname\": \"Bob\",\n          \"membership\": \"join\"\n      },\n      \"event_id\": \"$1431525430134MxlLX:example.com\",\n      \"origin_server_ts\": 1431525430569,\n      \"replaces_state\": \"$142652023736BSXcM:example.com\",\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"@bob:example.com\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@bob:example.com\"\n  },\n  {\n      \"age\": 7148267004,\n      \"content\": {\n          \"ban\": 50,\n          \"events\": {\n              \"m.room.name\": 100,\n              \"m.room.power_levels\": 100\n           },\n           \"events_default\": 0,\n           \"kick\": 50,\n           \"redact\": 50,\n           \"state_default\": 50,\n           \"users\": {\n               \"@alice:example.com\": 100\n           },\n           \"users_default\": 0\n      },\n      \"event_id\": \"$14259997322mqfaq:example.com\",\n      \"origin_server_ts\": 1425999732285,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.power_levels\",\n      \"sender\": \"@alice:example.com\"\n  }\n]"
            },
            "schema" : {
              "type" : "array",
              "description" : "If the user is a member of the room this will be the\ncurrent state of the room as a list of events. If the user\nhas left the room then this will be the state of the room\nwhen they left as a list of events.",
              "items" : {
                "type" : "object",
                "$ref" : "#/definitions/StateEvent"
              }
            }
          },
          "403" : {
            "description" : "You aren't a member of the room and weren't previously a member of the room.\n"
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/rooms/{roomId}/members" : {
      "get" : {
        "summary" : "Get the m.room.member events for the room.",
        "operationId" : "getRoomMembers",
        "description" : "Get the list of members for this room.",
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room to get the member events for.",
          "required" : true,
          "x-example" : "!636q39766251:example.com"
        } ],
        "responses" : {
          "200" : {
            "description" : "A list of members of the room. If you are joined to the room then\nthis will be the current members of the room. If you have left the\nroom then this will be the members of the room when you left.",
            "examples" : {
              "application/json" : "{\n  \"chunk\": [\n    {\n      \"age\": 6547561012,\n      \"content\": {\n        \"avatar_url\": \"mxc://example.com/fzysBrHpPEeTGANCVLXWXNMI#auto\",\n        \"membership\": \"join\"\n      },\n      \"event_id\": \"$1426600438280zExKY:example.com\",\n      \"membership\": \"join\",\n      \"origin_server_ts\": 1426600438277,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"@alice:example.com\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@alice:example.com\"\n    },\n    {\n      \"age\": 1622568720,\n      \"content\": {\n          \"avatar_url\": \"mxc://example.com/GCmhgzMPRjqgpODLsNQzVuHZ#auto\",\n          \"displayname\": \"Bob\",\n          \"membership\": \"join\"\n      },\n      \"event_id\": \"$1431525430134MxlLX:example.com\",\n      \"origin_server_ts\": 1431525430569,\n      \"replaces_state\": \"$142652023736BSXcM:example.com\",\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"@bob:example.com\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@bob:example.com\"\n    }\n  ]\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "GetRoomMembersResponse",
              "properties" : {
                "chunk" : {
                  "type" : "array",
                  "items" : {
                    "type" : "object",
                    "$ref" : "#/definitions/MRoomMember"
                  }
                }
              }
            }
          },
          "403" : {
            "description" : "You aren't a member of the room and weren't previously a member of the room.\n"
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/search" : {
      "post" : {
        "summary" : "Perform a server-side search.",
        "description" : "Performs a full text search across different categories.",
        "operationId" : "search",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "query",
          "name" : "next_batch",
          "type" : "string",
          "description" : "The point to return events from. If given, this should be a\n`next_batch` result from a previous call to this endpoint.",
          "x-example" : "YWxsCgpOb25lLDM1ODcwOA"
        }, {
          "in" : "body",
          "name" : "body",
          "schema" : {
            "type" : "object",
            "title" : "SearchRequest",
            "example" : "{\n  \"search_categories\": {\n    \"room_events\": {\n      \"keys\": [\n        \"content.body\"\n      ],\n      \"search_term\": \"martians and men\"\n    }\n  },\n  \"order_by\": \"recent\",\n  \"groupings\": {\n    \"group_by\": [\n      {\n        \"key\": \"room_id\"\n      }\n    ]\n  }\n}",
            "properties" : {
              "search_categories" : {
                "type" : "object",
                "title" : "Categories",
                "description" : "Describes which categories to search in and their criteria.",
                "properties" : {
                  "room_events" : {
                    "type" : "object",
                    "title" : "Room Events",
                    "description" : "Mapping of category name to search criteria.",
                    "properties" : {
                      "search_term" : {
                        "type" : "string",
                        "description" : "The string to search events for"
                      },
                      "keys" : {
                        "type" : "array",
                        "items" : {
                          "type" : "string",
                          "enum" : [ "content.body", "content.name", "content.topic" ]
                        },
                        "description" : "The keys to search. Defaults to all."
                      },
                      "filter" : {
                        "type" : "object",
                        "title" : "Filter",
                        "description" : "This takes a `filter <https://matrix.org/docs/spec/%CLIENT_RELEASE_LABEL%/client_server.html#filtering>`_."
                      },
                      "order_by" : {
                        "title" : "Ordering",
                        "type" : "string",
                        "enum" : [ "recent", "rank" ],
                        "description" : "The order in which to search for results."
                      },
                      "event_context" : {
                        "title" : "Event Context",
                        "type" : "object",
                        "description" : "Configures whether any context for the events\nreturned are included in the response.",
                        "properties" : {
                          "before_limit" : {
                            "type" : "integer",
                            "title" : "Before limit",
                            "description" : "How many events before the result are\nreturned."
                          },
                          "after_limit" : {
                            "type" : "integer",
                            "title" : "After limit",
                            "description" : "How many events after the result are\nreturned."
                          },
                          "include_profile" : {
                            "type" : "boolean",
                            "title" : "Return profile information",
                            "description" : "Requests that the server returns the\nhistoric profile information for the users\nthat sent the events that were returned."
                          }
                        }
                      },
                      "include_state" : {
                        "type" : "boolean",
                        "title" : "Include current state",
                        "description" : "Requests the server return the current state for\neach room returned."
                      },
                      "groupings" : {
                        "type" : "object",
                        "title" : "Groupings",
                        "description" : "Requests that the server partitions the result set\nbased on the provided list of keys.",
                        "properties" : {
                          "group_by" : {
                            "type" : "array",
                            "title" : "Groups",
                            "description" : "List of groups to request.",
                            "items" : {
                              "type" : "object",
                              "title" : "Group",
                              "description" : "Configuration for group.",
                              "properties" : {
                                "key" : {
                                  "type" : "string",
                                  "title" : "Group Key",
                                  "description" : "Key that defines the group.",
                                  "enum" : [ "room_id", "sender" ]
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "required" : [ "search_term" ]
                  }
                }
              }
            },
            "required" : [ "search_categories" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Results of the search.",
            "schema" : {
              "type" : "object",
              "title" : "SearchResponse",
              "required" : [ "search_categories" ],
              "properties" : {
                "search_categories" : {
                  "type" : "object",
                  "title" : "Categories",
                  "description" : "Describes which categories to search in and their criteria.",
                  "properties" : {
                    "room_events" : {
                      "type" : "object",
                      "title" : "Room Event Results",
                      "description" : "Mapping of category name to search criteria.",
                      "properties" : {
                        "count" : {
                          "type" : "number",
                          "description" : "An approximate count of the total number of results found."
                        },
                        "results" : {
                          "type" : "array",
                          "title" : "Results",
                          "description" : "List of results in the requested order.",
                          "items" : {
                            "type" : "object",
                            "title" : "Result",
                            "description" : "The result object.",
                            "properties" : {
                              "rank" : {
                                "type" : "number",
                                "description" : "A number that describes how closely this result matches the search. Higher is closer."
                              },
                              "result" : {
                                "type" : "object",
                                "title" : "Event",
                                "description" : "The event that matched.",
                                "$ref" : "#/definitions/RoomEvent"
                              },
                              "context" : {
                                "type" : "object",
                                "title" : "Event Context",
                                "description" : "Context for result, if requested.",
                                "properties" : {
                                  "start" : {
                                    "type" : "string",
                                    "title" : "Start Token",
                                    "description" : "Pagination token for the start of the chunk"
                                  },
                                  "end" : {
                                    "type" : "string",
                                    "title" : "End Token",
                                    "description" : "Pagination token for the end of the chunk"
                                  },
                                  "profile_info" : {
                                    "type" : "object",
                                    "title" : "Profile Information",
                                    "description" : "The historic profile information of the\nusers that sent the events returned.",
                                    "additionalProperties" : {
                                      "type" : "object",
                                      "title" : "User Profile",
                                      "properties" : {
                                        "displayname" : {
                                          "type" : "string",
                                          "title" : "Display name"
                                        },
                                        "avatar_url" : {
                                          "type" : "string",
                                          "title" : "Avatar Url"
                                        }
                                      }
                                    }
                                  },
                                  "events_before" : {
                                    "type" : "array",
                                    "title" : "Events Before",
                                    "description" : "Events just before the result.",
                                    "items" : {
                                      "title" : "Event",
                                      "type" : "object",
                                      "$ref" : "#/definitions/RoomEvent"
                                    }
                                  },
                                  "events_after" : {
                                    "type" : "array",
                                    "title" : "Events After",
                                    "description" : "Events just after the result.",
                                    "items" : {
                                      "title" : "Event",
                                      "type" : "object",
                                      "$ref" : "#/definitions/RoomEvent"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "state" : {
                          "type" : "object",
                          "title" : "Current state",
                          "description" : "The current state for every room in the results.\nThis is included if the request had the\n``include_state`` key set with a value of ``true``.",
                          "additionalProperties" : {
                            "type" : "array",
                            "title" : "Room State",
                            "items" : {
                              "$ref" : "#/definitions/StateEvent"
                            }
                          }
                        },
                        "groups" : {
                          "type" : "object",
                          "title" : "Groups",
                          "description" : "Any groups that were requested.",
                          "additionalProperties" : {
                            "type" : "object",
                            "title" : "Group Key",
                            "description" : "The results for a given group.",
                            "additionalProperties" : {
                              "type" : "object",
                              "title" : "Group Value",
                              "description" : "The results for a particular group value.",
                              "properties" : {
                                "next_batch" : {
                                  "type" : "string",
                                  "title" : "Next Batch in Group",
                                  "description" : "Token that can be used to get the next batch\nof results in the group, by passing as the\n`next_batch` parameter to the next call. If\nthis field is absent, there are no more\nresults in this group."
                                },
                                "order" : {
                                  "type" : "integer",
                                  "title" : "Group Order",
                                  "description" : "Key that can be used to order different\ngroups."
                                },
                                "results" : {
                                  "type" : "array",
                                  "description" : "Which results are in this group.",
                                  "items" : {
                                    "type" : "string",
                                    "title" : "Result Event ID"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "next_batch" : {
                          "type" : "string",
                          "title" : "Next Batch",
                          "description" : "Token that can be used to get the next batch of\nresults, by passing as the `next_batch` parameter to\nthe next call. If this field is absent, there are no\nmore results."
                        }
                      }
                    }
                  }
                }
              }
            },
            "examples" : {
              "application/json" : "{\n   \"search_categories\": {\n     \"room_events\": {\n       \"groups\": {\n         \"room_id\": {\n           \"!qPewotXpIctQySfjSy:localhost\": {\n             \"order\": 1,\n             \"next_batch\": \"BdgFsdfHSf-dsFD\",\n             \"results\": [\n               \"$144429830826TWwbB:localhost\"\n             ]\n           }\n         }\n       },\n       \"next_batch\": \"5FdgFsd234dfgsdfFD\",\n       \"count\": 1224,\n       \"results\": [\n         {\n           \"rank\": 0.00424866,\n           \"result\": {\n             \"age\": 526228296,\n             \"content\": {\n               \"body\": \"Test content martians and men\",\n               \"msgtype\": \"m.text\"\n             },\n             \"event_id\": \"$144429830826TWwbB:localhost\",\n             \"origin_server_ts\": 1444298308034,\n             \"room_id\": \"!qPewotXpIctQySfjSy:localhost\",\n             \"type\": \"m.room.message\",\n             \"sender\": \"@test:localhost\"\n           }\n         }\n       ]\n     }\n   }\n }"
            }
          },
          "400" : {
            "description" : "Part of the request was invalid."
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Search" ]
      }
    },
    "/client/r0/sync" : {
      "get" : {
        "summary" : "Synchronise the client's state and receive new messages.",
        "operationId" : "sync",
        "description" : "Synchronise the client's state with the latest state on the server.\nClients use this API when they first log in to get an initial snapshot\nof the state on the server, and then continue to call this API to get\nincremental deltas to the state, and to receive new messages.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "query",
          "name" : "filter",
          "type" : "string",
          "description" : "The ID of a filter created using the filter API or a filter JSON\nobject encoded as a string. The server will detect whether it is\nan ID or a JSON object by whether the first character is a ``\"{\"``\nopen brace. Passing the JSON inline is best suited to one off\nrequests. Creating a filter using the filter API is recommended for\nclients that reuse the same filter multiple times, for example in\nlong poll requests.",
          "x-example" : "66696p746572"
        }, {
          "in" : "query",
          "name" : "since",
          "type" : "string",
          "description" : "A point in time to continue a sync from.",
          "x-example" : "s72594_4483_1934"
        }, {
          "in" : "query",
          "name" : "full_state",
          "type" : "boolean",
          "description" : "Controls whether to include the full state for all rooms the user\nis a member of.\n\nIf this is set to ``true``, then all state events will be returned,\neven if ``since`` is non-empty. The timeline will still be limited\nby the ``since`` parameter. In this case, the ``timeout`` parameter\nwill be ignored and the query will return immediately, possibly with\nan empty timeline.\n\nIf ``false``, and ``since`` is non-empty, only state which has\nchanged since the point indicated by ``since`` will be returned.\n\nBy default, this is ``false``.",
          "x-example" : "false"
        }, {
          "in" : "query",
          "name" : "set_presence",
          "type" : "string",
          "enum" : [ "offline" ],
          "description" : "Controls whether the client is automatically marked as online by\npolling this API. If this parameter is omitted then the client is\nautomatically marked as online when it uses this API. Otherwise if\nthe parameter is set to \"offline\" then the client is not marked as\nbeing online when it uses this API.",
          "x-example" : "offline"
        }, {
          "in" : "query",
          "name" : "timeout",
          "type" : "integer",
          "description" : "The maximum time to poll in milliseconds before returning this\nrequest.",
          "x-example" : 30000
        } ],
        "responses" : {
          "200" : {
            "description" : "The initial snapshot or delta for the client to use to update their state.",
            "schema" : {
              "type" : "object",
              "title" : "SyncResponse",
              "properties" : {
                "next_batch" : {
                  "type" : "string",
                  "description" : "The batch token to supply in the ``since`` param of the next\n``/sync`` request."
                },
                "rooms" : {
                  "title" : "Rooms",
                  "type" : "object",
                  "description" : "Updates to rooms.",
                  "properties" : {
                    "join" : {
                      "title" : "Joined Rooms",
                      "type" : "object",
                      "description" : "The rooms that the user has joined.",
                      "additionalProperties" : {
                        "title" : "Joined Room",
                        "type" : "object",
                        "properties" : {
                          "state" : {
                            "title" : "State",
                            "type" : "object",
                            "description" : "Updates to the state, between the time indicated by\nthe ``since`` parameter, and the start of the\n``timeline`` (or all state up to the start of the\n``timeline``, if ``since`` is not given, or\n``full_state`` is true).",
                            "$ref" : "#/definitions/EventBatch"
                          },
                          "timeline" : {
                            "title" : "Timeline",
                            "type" : "object",
                            "description" : "The timeline of messages and state changes in the\nroom.",
                            "$ref" : "#/definitions/TimelineBatch"
                          },
                          "ephemeral" : {
                            "title" : "Ephemeral",
                            "type" : "object",
                            "description" : "The ephemeral events in the room that aren't\nrecorded in the timeline or state of the room.\ne.g. typing.",
                            "$ref" : "#/definitions/EventBatch"
                          },
                          "account_data" : {
                            "title" : "Account Data",
                            "type" : "object",
                            "description" : "The private data that this user has attached to\nthis room.",
                            "additionalProperties" : {
                              "type" : "object"
                            }
                          },
                          "unread_notifications" : {
                            "title" : "Unread Notification Counts",
                            "type" : "object",
                            "description" : "Counts of unread notifications for this room",
                            "properties" : {
                              "highlight_count" : {
                                "title" : "Highlighted notification count",
                                "type" : "integer",
                                "description" : "The number of unread notifications for this room with the highlight flag set"
                              },
                              "notification_count" : {
                                "title" : "Total notification count",
                                "type" : "integer",
                                "description" : "The total number of unread notifications for this room"
                              }
                            }
                          }
                        }
                      }
                    },
                    "invite" : {
                      "title" : "Invited Rooms",
                      "type" : "object",
                      "description" : "The rooms that the user has been invited to.",
                      "additionalProperties" : {
                        "title" : "Invited Room",
                        "type" : "object",
                        "properties" : {
                          "invite_state" : {
                            "title" : "InviteState",
                            "type" : "object",
                            "description" : "The state of a room that the user has been invited\nto. These state events may only have the ``sender``,\n``type``, ``state_key`` and ``content`` keys\npresent. These events do not replace any state that\nthe client already has for the room, for example if\nthe client has archived the room. Instead the\nclient should keep two separate copies of the\nstate: the one from the ``invite_state`` and one\nfrom the archived ``state``. If the client joins\nthe room then the current state will be given as a\ndelta against the archived ``state`` not the\n``invite_state``.",
                            "$ref" : "#/definitions/EventBatch"
                          }
                        }
                      }
                    },
                    "leave" : {
                      "title" : "Left rooms",
                      "type" : "object",
                      "description" : "The rooms that the user has left or been banned from.",
                      "additionalProperties" : {
                        "title" : "Left Room",
                        "type" : "object",
                        "properties" : {
                          "state" : {
                            "title" : "State",
                            "type" : "object",
                            "description" : "The state updates for the room up to the start of the timeline.",
                            "$ref" : "#/definitions/EventBatch"
                          },
                          "timeline" : {
                            "title" : "Timeline",
                            "type" : "object",
                            "description" : "The timeline of messages and state changes in the\nroom up to the point when the user left.",
                            "$ref" : "#/definitions/TimelineBatch"
                          }
                        }
                      }
                    }
                  }
                },
                "presence" : {
                  "title" : "Presence",
                  "type" : "object",
                  "description" : "The updates to the presence status of other users.",
                  "$ref" : "#/definitions/EventBatch"
                },
                "account_data" : {
                  "title" : "Account Data",
                  "type" : "object",
                  "description" : "The global private data created by this user.",
                  "$ref" : "#/definitions/EventBatch"
                },
                "to_device" : {
                  "title" : "ToDevice",
                  "type" : "object",
                  "description" : "Information on the send-to-device messages for the client\ndevice, as defined in |send_to_device_sync|_."
                },
                "device_lists" : {
                  "title" : "DeviceLists",
                  "type" : "object",
                  "description" : "Information on end-to-end device updates, as specified in\n|device_lists_sync|_."
                },
                "device_one_time_keys_count" : {
                  "title" : "DeviceKeysCount",
                  "type" : "object"
                }
              }
            },
            "examples" : {
              "application/json" : "{\n  \"next_batch\": \"s72595_4483_1934\",\n  \"presence\": {\n    \"events\": [\n      {\n        \"sender\": \"@alice:example.com\",\n        \"type\": \"m.presence\",\n        \"content\": {\"presence\": \"online\"}\n      }\n    ]\n  },\n  \"account_data\": {\n    \"events\": [\n      {\n        \"type\": \"org.example.custom.config\",\n        \"content\": {\n          \"custom_config_key\": \"custom_config_value\"\n        }\n      }\n    ]\n  },\n  \"rooms\": {\n    \"join\": {\n      \"!726s6s6q:example.com\": {\n        \"state\": {\n          \"events\": [\n            {\n              \"sender\": \"@alice:example.com\",\n              \"type\": \"m.room.member\",\n              \"state_key\": \"@alice:example.com\",\n              \"content\": {\"membership\": \"join\"},\n              \"origin_server_ts\": 1417731086795,\n              \"event_id\": \"$66697273743031:example.com\"\n            }\n          ]\n        },\n        \"timeline\": {\n          \"events\": [\n            {\n              \"sender\": \"@bob:example.com\",\n              \"type\": \"m.room.member\",\n              \"state_key\": \"@bob:example.com\",\n              \"content\": {\"membership\": \"join\"},\n              \"prev_content\": {\"membership\": \"invite\"},\n              \"origin_server_ts\": 1417731086795,\n              \"event_id\": \"$7365636s6r6432:example.com\"\n            },\n            {\n              \"sender\": \"@alice:example.com\",\n              \"type\": \"m.room.message\",\n              \"age\": 124524,\n              \"txn_id\": \"1234\",\n              \"content\": {\n                \"body\": \"I am a fish\",\n                \"msgtype\": \"m.text\"\n              },\n              \"origin_server_ts\": 1417731086797,\n              \"event_id\": \"$74686972643033:example.com\"\n            }\n          ],\n          \"limited\": true,\n          \"prev_batch\": \"t34-23535_0_0\"\n        },\n        \"ephemeral\": {\n          \"events\": [\n            {\n              \"type\": \"m.typing\",\n              \"content\": {\"user_ids\": [\"@alice:example.com\"]}\n            }\n          ]\n        },\n        \"account_data\": {\n          \"events\": [\n            {\n              \"type\": \"m.tag\",\n              \"content\": {\"tags\": {\"work\": {\"order\": 1}}}\n            },\n            {\n              \"type\": \"org.example.custom.room.config\",\n              \"content\": {\n                \"custom_config_key\": \"custom_config_value\"\n              }\n            }\n          ]\n        }\n      }\n    },\n    \"invite\": {\n      \"!696r7674:example.com\": {\n        \"invite_state\": {\n          \"events\": [\n            {\n              \"sender\": \"@alice:example.com\",\n              \"type\": \"m.room.name\",\n              \"state_key\": \"\",\n              \"content\": {\"name\": \"My Room Name\"}\n            },\n            {\n              \"sender\": \"@alice:example.com\",\n              \"type\": \"m.room.member\",\n              \"state_key\": \"@bob:example.com\",\n              \"content\": {\"membership\": \"invite\"}\n            }\n          ]\n        }\n      }\n    },\n    \"leave\": {}\n  }\n}"
            }
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/r0/user/{userId}/rooms/{roomId}/tags" : {
      "get" : {
        "summary" : "List the tags for a room.",
        "description" : "List the tags set by a user on a room.",
        "operationId" : "getUserTags",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "required" : true,
          "description" : "The id of the user to get tags for. The access token must be\nauthorized to make requests for this user id.",
          "x-example" : "@alice:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "required" : true,
          "description" : "The id of the room to get tags for.",
          "x-example" : "!726s6s6q:example.com"
        } ],
        "responses" : {
          "200" : {
            "description" : "The list of tags for the user for the room.",
            "schema" : {
              "type" : "object",
              "title" : "UserTagsResponse",
              "properties" : {
                "tags" : {
                  "type" : "object",
                  "additionalProperties" : {
                    "type" : "object"
                  }
                }
              }
            },
            "examples" : {
              "application/json" : "{\n  \"tags\": {\n    \"work\": {\"order\": \"1\"},\n    \"pinned\": {}\n  }\n}"
            }
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/user/{userId}/rooms/{roomId}/tags/{tag}" : {
      "put" : {
        "summary" : "Add a tag to a room.",
        "description" : "Add a tag to the room.",
        "operationId" : "addUserTag",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "required" : true,
          "description" : "The id of the user to add a tag for. The access token must be\nauthorized to make requests for this user id.",
          "x-example" : "@alice:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "required" : true,
          "description" : "The id of the room to add a tag to.",
          "x-example" : "!726s6s6q:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "tag",
          "required" : true,
          "description" : "The tag to add.",
          "x-example" : "work"
        }, {
          "in" : "body",
          "name" : "body",
          "required" : true,
          "description" : "Extra data for the tag, e.g. ordering.",
          "schema" : {
            "type" : "object",
            "example" : "{\"order\": \"1\"}",
            "additionalProperties" : {
              "type" : "object"
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The tag was successfully added.",
            "examples" : {
              "application/json" : "{}"
            }
          }
        },
        "tags" : [ "User data" ]
      },
      "delete" : {
        "summary" : "Remove a tag from the room.",
        "description" : "Remove a tag from the room.",
        "operationId" : "deleteUserTag",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "required" : true,
          "description" : "The id of the user to remove a tag for. The access token must be\nauthorized to make requests for this user id.",
          "x-example" : "@alice:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "required" : true,
          "description" : "The id of the room to remove a tag from.",
          "x-example" : "!726s6s6q:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "tag",
          "required" : true,
          "description" : "The tag to remove.",
          "x-example" : "work"
        } ],
        "responses" : {
          "200" : {
            "description" : "The tag was successfully removed",
            "examples" : {
              "application/json" : "{}"
            }
          }
        },
        "tags" : [ "User data" ]
      }
    },
    "/client/r0/rooms/{roomId}/invite" : {
      "post" : {
        "summary" : "Invite a user to participate in a particular room.",
        "description" : ".. _invite-by-third-party-id-endpoint:\n\n*Note that there are two forms of this API, which are documented separately.\nThis version of the API does not require that the inviter know the Matrix\nidentifier of the invitee, and instead relies on third party identifiers.\nThe homeserver uses an identity server to perform the mapping from\nthird party identifier to a Matrix identifier. The other is documented in the*\n`joining rooms section`_.\n\nThis API invites a user to participate in a particular room.\nThey do not start participating in the room until they actually join the\nroom.\n\nOnly users currently in a particular room can invite other users to\njoin that room.\n\nIf the identity server did know the Matrix user identifier for the\nthird party identifier, the homeserver will append a ``m.room.member``\nevent to the room.\n\nIf the identity server does not know a Matrix user identifier for the\npassed third party identifier, the homeserver will issue an invitation\nwhich can be accepted upon providing proof of ownership of the third\nparty identifier. This is achieved by the identity server generating a\ntoken, which it gives to the inviting homeserver. The homeserver will\nadd an ``m.room.third_party_invite`` event into the graph for the room,\ncontaining that token.\n\nWhen the invitee binds the invited third party identifier to a Matrix\nuser ID, the identity server will give the user a list of pending\ninvitations, each containing:\n\n- The room ID to which they were invited\n\n- The token given to the homeserver\n\n- A signature of the token, signed with the identity server's private key\n\n- The matrix user ID who invited them to the room\n\nIf a token is requested from the identity server, the homeserver will\nappend a ``m.room.third_party_invite`` event to the room.\n\n.. _joining rooms section: `invite-by-user-id-endpoint`_",
        "operationId" : "roomInvite",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room identifier (not alias) to which to invite the user.",
          "required" : true,
          "x-example" : "!d41d8cd:matrix.org"
        }, {
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "type" : "object",
            "title" : "RoomInviteRequest",
            "example" : "{\n  \"id_server\": \"matrix.org\",\n  \"medium\": \"email\",\n  \"address\": \"cheeky@monkey.com\"\n}",
            "properties" : {
              "id_server" : {
                "type" : "string",
                "description" : "The hostname+port of the identity server which should be used for third party identifier lookups."
              },
              "medium" : {
                "type" : "string",
                "description" : "The kind of address being passed in the address field, for example ``email``."
              },
              "address" : {
                "type" : "string",
                "description" : "The invitee's third party identifier."
              }
            },
            "required" : [ "id_server", "medium", "address" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The user has been invited to join the room.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "403" : {
            "description" : "You do not have permission to invite the user to the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejections are:\n\n- The invitee has been banned from the room.\n- The invitee is already a member of the room.\n- The inviter is not currently in the room.\n- The inviter's power level is insufficient to invite users to the room.",
            "examples" : {
              "application/json" : "{\"errcode\": \"M_FORBIDDEN\", \"error\": \"@cheeky_monkey:matrix.org is banned from the room\"}"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Room membership" ]
      }
    },
    "/client/r0/sendToDevice/{eventType}/{txnId}" : {
      "put" : {
        "summary" : "Send an event to a given set of devices.",
        "description" : "This endpoint is used to send send-to-device events to a set of\nclient devices.",
        "operationId" : "sendToDevice",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "eventType",
          "description" : "The type of event to send.",
          "required" : true,
          "x-example" : "m.new_device"
        }, {
          "in" : "path",
          "name" : "txnId",
          "type" : "string",
          "description" : "The transaction ID for this event. Clients should generate an\nID unique across requests with the same access token; it will be\nused by the server to ensure idempotency of requests.",
          "required" : true,
          "x-example" : "35"
        }, {
          "in" : "body",
          "name" : "body",
          "required" : true,
          "schema" : {
            "type" : "object",
            "title" : "SendToDeviceRequest",
            "properties" : {
              "messages" : {
                "type" : "object",
                "description" : "The messages to send. A map from user ID, to a map from\ndevice ID to message body. The device ID may also be `*`,\nmeaning all known devices for the user.",
                "additionalProperties" : {
                  "type" : "object",
                  "additionalProperties" : {
                    "type" : "object",
                    "title" : "EventContent",
                    "description" : "Message content"
                  }
                },
                "example" : {
                  "@alice:example.com" : {
                    "TLLBEANAAG" : {
                      "example_content_key" : "value"
                    }
                  }
                }
              }
            }
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The message was successfully sent.",
            "examples" : {
              "application/json" : "{}"
            }
          }
        },
        "tags" : [ "Send-to-Device messaging" ]
      }
    },
    "/client/r0/rooms/{roomId}/typing/{userId}" : {
      "put" : {
        "summary" : "Informs the server that the user has started or stopped typing.",
        "operationId" : "setTypingState",
        "description" : "This tells the server that the user is typing for the next N\nmilliseconds where N is the value specified in the ``timeout`` key.\nAlternatively, if ``typing`` is ``false``, it tells the server that the\nuser has stopped typing.",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "parameters" : [ {
          "in" : "path",
          "type" : "string",
          "name" : "userId",
          "description" : "The user who has started to type.",
          "required" : true,
          "x-example" : "@alice:example.com"
        }, {
          "in" : "path",
          "type" : "string",
          "name" : "roomId",
          "description" : "The room in which the user is typing.",
          "required" : true,
          "x-example" : "!wefh3sfukhs:example.com"
        }, {
          "in" : "body",
          "name" : "typingState",
          "description" : "The current typing state.",
          "required" : true,
          "schema" : {
            "type" : "object",
            "example" : "{\n  \"typing\": true,\n  \"timeout\": 30000\n}",
            "properties" : {
              "typing" : {
                "type" : "boolean",
                "description" : "Whether the user is typing or not. If ``false``, the ``timeout``\nkey can be omitted."
              },
              "timeout" : {
                "type" : "integer",
                "description" : "The length of time in milliseconds to mark this user as typing."
              }
            },
            "required" : [ "typing" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "The new typing state was set.",
            "examples" : {
              "application/json" : "{}"
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "Room participation" ]
      }
    },
    "/client/versions" : {
      "get" : {
        "summary" : "Gets the versions of the specification supported by the server.",
        "operationId" : "versions",
        "description" : "Gets the versions of the specification supported by the server.\n\nValues will take the form ``rX.Y.Z``.\n\nOnly the latest ``Z`` value will be reported for each supported ``X.Y`` value.\ni.e. if the server implements ``r0.0.0``, ``r0.0.1``, and ``r1.2.0``, it will report ``r0.0.1`` and ``r1.2.0``.",
        "responses" : {
          "200" : {
            "description" : "The versions supported by the server.",
            "examples" : {
              "application/json" : "{\n  \"versions\": [\"r0.0.1\"]\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "VersionsResponse",
              "properties" : {
                "versions" : {
                  "type" : "array",
                  "description" : "The supported versions.",
                  "items" : {
                    "type" : "string",
                    "description" : "The supported versions"
                  }
                }
              }
            }
          }
        },
        "tags" : [ "Server administration" ]
      }
    },
    "/client/r0/voip/turnServer" : {
      "get" : {
        "summary" : "Obtain TURN server credentials.",
        "description" : "This API provides credentials for the client to use when initiating calls.",
        "operationId" : "getTurnCredentials",
        "security" : [ {
          "accessToken" : [ ]
        } ],
        "responses" : {
          "200" : {
            "description" : "The TURN server credentials.",
            "examples" : {
              "application/json" : "{\n  \"username\":\"1443779631:@user:example.com\",\n  \"password\":\"JlKfBy1QwLrO20385QyAtEyIv0=\",\n  \"uris\":[\n    \"turn:turn.example.com:3478?transport=udp\",\n    \"turn:10.20.30.40:3478?transport=tcp\",\n    \"turns:10.20.30.40:443?transport=tcp\"\n  ],\n  \"ttl\":86400\n}"
            },
            "schema" : {
              "type" : "object",
              "title" : "TurnCredentialsResponse",
              "properties" : {
                "username" : {
                  "type" : "string",
                  "description" : "The username to use."
                },
                "password" : {
                  "type" : "string",
                  "description" : "The password to use."
                },
                "uris" : {
                  "type" : "array",
                  "items" : {
                    "type" : "string"
                  },
                  "description" : "A list of TURN URIs"
                },
                "ttl" : {
                  "type" : "integer",
                  "description" : "The time-to-live in seconds"
                }
              },
              "required" : [ "username", "password", "uris", "ttl" ]
            }
          },
          "429" : {
            "description" : "This request was rate-limited.",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        },
        "tags" : [ "VOIP" ]
      }
    }
  },
  "host" : "localhost:8008",
  "produces" : [ "application/json" ],
  "schemes" : [ "http" ],
  "definitions" : {
    "ThirdParty" : {
      "type" : "object",
      "description" : "A signature of an ``m.third_party_invite`` token to prove that this user owns a third party identity which has been invited to the room.",
      "properties" : {
        "sender" : {
          "type" : "string",
          "description" : "The Matrix ID of the user who issued the invite."
        },
        "mxid" : {
          "type" : "string",
          "description" : "The Matrix ID of the invitee."
        },
        "token" : {
          "type" : "string",
          "description" : "The state key of the m.third_party_invite event."
        },
        "signatures" : {
          "type" : "object",
          "description" : "A signatures object containing a signature of the entire signed object.",
          "title" : "Signatures"
        }
      },
      "required" : [ "sender", "mxid", "token", "signatures" ],
      "example" : "{\n    \"sender\": \"@cat:the.hat\",\n    \"mxid\": \"@green:eggs.ham\",\n    \"token\": \"random8nonce\",\n    \"signatures\": {\n      \"horton.hears\": {\n        \"ed25519:0\": \"some9signature\"\n      }\n    }\n}"
    },
    "RoomIdResponse" : {
      "type" : "object",
      "properties" : {
        "room_id" : {
          "type" : "string",
          "description" : "RoomId of joined room"
        }
      }
    },
    "PublicRoomsResult" : {
      "type" : "object",
      "description" : "A list of the rooms on the server.",
      "required" : [ "chunk" ],
      "properties" : {
        "chunk" : {
          "title" : "PublicRoomsChunks",
          "type" : "array",
          "description" : "A paginated chunk of public rooms.",
          "items" : {
            "type" : "object",
            "title" : "PublicRoomsChunk",
            "required" : [ "room_id", "num_joined_members", "world_readable", "guest_can_join" ],
            "properties" : {
              "aliases" : {
                "type" : "array",
                "description" : "Aliases of the room. May be empty.",
                "items" : {
                  "type" : "string"
                }
              },
              "canonical_alias" : {
                "type" : "string",
                "description" : "The canonical alias of the room, if any."
              },
              "name" : {
                "type" : "string",
                "description" : "The name of the room, if any."
              },
              "num_joined_members" : {
                "type" : "integer",
                "description" : "The number of members joined to the room."
              },
              "room_id" : {
                "type" : "string",
                "description" : "The ID of the room."
              },
              "topic" : {
                "type" : "string",
                "description" : "The topic of the room, if any."
              },
              "world_readable" : {
                "type" : "boolean",
                "description" : "Whether the room may be viewed by guest users without joining."
              },
              "guest_can_join" : {
                "type" : "boolean",
                "description" : "Whether guest users may join the room and participate in it.\nIf they can, they will be subject to ordinary power level\nrules like any other user."
              },
              "avatar_url" : {
                "type" : "string",
                "description" : "The URL for the room's avatar, if one is set."
              }
            }
          }
        },
        "next_batch" : {
          "type" : "string",
          "description" : "A pagination token for the response. The absence of this token\nmeans there are no more results to fetch and the client should\nstop paginating."
        },
        "prev_batch" : {
          "type" : "string",
          "description" : "A pagination token that allows fetching previous results. The\nabsence of this token means there are no results before this\nbatch, i.e. this is the first batch."
        },
        "total_room_count_estimate" : {
          "type" : "integer",
          "description" : "An estimate on the total number of public rooms, if the\nserver has an estimate."
        }
      }
    },
    "EventBatch" : {
      "properties" : {
        "events" : {
          "description" : "List of events",
          "items" : {
            "type" : "object",
            "$ref" : "#/definitions/Event"
          },
          "type" : "array"
        }
      },
      "type" : "object",
      "x-origin" : "matrix-doc/api/client-server/definitions/event_batch.yaml"
    },
    "ClientDevice" : {
      "type" : "object",
      "description" : "A client device",
      "x-title" : "Device",
      "properties" : {
        "device_id" : {
          "type" : "string",
          "description" : "Identifier of this device.",
          "example" : "QBUAZIFURK"
        },
        "display_name" : {
          "type" : "string",
          "description" : "Display name set by the user for this device. Absent if no name has been\nset.",
          "example" : "android"
        },
        "last_seen_ip" : {
          "type" : "string",
          "description" : "The IP address where this device was last seen. (May be a few minutes out\nof date, for efficiency reasons).",
          "example" : "1.2.3.4"
        },
        "last_seen_ts" : {
          "type" : "integer",
          "format" : "int64",
          "description" : "The timestamp (in milliseconds since the unix epoch) when this devices\nwas last seen. (May be a few minutes out of date, for efficiency\nreasons).",
          "example" : 1474491775024
        }
      },
      "required" : [ "device_id" ],
      "x-origin" : "matrix-doc/api/client-server/definitions/client_device.yaml"
    },
    "AuthData" : {
      "x-title" : "Authentication Data",
      "description" : "Used by clients to submit authentication information to the interactive-authentication API",
      "type" : "object",
      "properties" : {
        "type" : {
          "description" : "The login type that the client is attempting to complete.",
          "type" : "string"
        },
        "session" : {
          "description" : "The value of the session key given by the homeserver.",
          "type" : "string"
        }
      },
      "additionalProperties" : {
        "description" : "Keys dependent on the login type",
        "type" : "object"
      },
      "required" : [ "type" ],
      "example" : {
        "type" : "example.type.foo",
        "session" : "xxxxx",
        "example_credential" : "verypoorsharedsecret"
      },
      "x-origin" : "matrix-doc/api/client-server/definitions/auth_data.yaml"
    },
    "AuthResponse" : {
      "x-title" : "Authentication response",
      "description" : "Used by servers to indicate that additional authentication information is required,",
      "type" : "object",
      "properties" : {
        "flows" : {
          "description" : "A list of the login flows supported by the server for this API.",
          "title" : "Flow information",
          "type" : "array",
          "items" : {
            "type" : "object",
            "properties" : {
              "stages" : {
                "description" : "The login type of each of the stages required to complete this\nauthentication flow",
                "type" : "array",
                "items" : {
                  "type" : "string",
                  "example" : "example.type.foo"
                }
              }
            },
            "required" : [ "stages" ]
          }
        },
        "params" : {
          "type" : "object",
          "description" : "Contains any information that the client will need to know in order to\nuse a given type of authentication. For each login type presented,\nthat type may be present as a key in this dictionary. For example, the\npublic part of an OAuth client ID could be given here.",
          "additionalProperties" : {
            "type" : "object"
          },
          "example" : {
            "example.type.baz" : {
              "example_key" : "foobar"
            }
          }
        },
        "session" : {
          "type" : "string",
          "description" : "This is a session identifier that the client must pass back to the home\nserver, if one is provided, in subsequent attempts to authenticate in the\nsame API call.",
          "example" : "xxxxxxyz"
        },
        "completed" : {
          "type" : "array",
          "description" : "A list of the stages the client has completed successfully",
          "items" : {
            "type" : "string",
            "example" : "example.type.foo"
          }
        }
      },
      "required" : [ "flows" ],
      "x-origin" : "matrix-doc/api/client-server/definitions/auth_response.yaml"
    },
    "RoomEvent" : {
      "type" : "object",
      "description" : "In addition to the Event fields, Room Events have the following additional fields.",
      "x-title" : "Room Event",
      "allOf" : [ {
        "$ref" : "#/definitions/Event"
      }, {
        "type" : "object",
        "properties" : {
          "age" : {
            "description" : "The time in milliseconds that has elapsed since the event was sent. This field is generated by the local homeserver, and may be incorrect if the local time on at least one of the two servers is out of sync, which can cause the age to either be negative or greater than it actually is.",
            "type" : "integer"
          },
          "event_id" : {
            "description" : "Required. The globally unique event identifier.",
            "type" : "string"
          },
          "room_id" : {
            "description" : "Required. The ID of the room associated with this event.",
            "type" : "string"
          },
          "sender" : {
            "description" : "Required. Contains the fully-qualified ID of the user who *sent* this event.",
            "type" : "string"
          },
          "origin_server_ts" : {
            "description" : "Required. Timestamp in milliseconds on originating homeserver when this event was sent.",
            "type" : "number"
          },
          "unsigned" : {
            "description" : "Contains optional extra information about the event.",
            "title" : "UnsignedData",
            "type" : "object",
            "properties" : {
              "age" : {
                "description" : "The time in milliseconds that has elapsed since the event was sent. This field is generated by the local homeserver, and may be incorrect if the local time on at least one of the two servers is out of sync, which can cause the age to either be negative or greater than it actually is.",
                "type" : "integer"
              },
              "redacted_because" : {
                "description" : "Optional. The event that redacted this event, if any.",
                "title" : "Event",
                "type" : "object"
              },
              "transaction_id" : {
                "description" : "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                "type" : "string"
              },
              "prev_sender" : {
                "description" : "Contains the fully-qualified ID of the user who *sent* previous event.",
                "type" : "string"
              },
              "prev_content" : {
                "description" : "Optional. The previous ``content`` for this event. If there is no previous content, this key will be missing.",
                "title" : "EventContent",
                "type" : "object"
              },
              "replaces_state" : {
                "description" : "Previous state event",
                "type" : "string"
              }
            }
          }
        }
      } ],
      "required" : [ "event_id", "room_id", "sender", "origin_server_ts" ],
      "x-origin" : "matrix-doc/event-schemas/schema/core-event-schema/room_event.yaml"
    },
    "StateEvent" : {
      "type" : "object",
      "description" : "In addition to the Room Event fields, State Events have the following additional fields.",
      "x-title" : "State Event",
      "allOf" : [ {
        "$ref" : "#/definitions/RoomEvent"
      }, {
        "type" : "object",
        "properties" : {
          "state_key" : {
            "description" : "A unique key which defines the overwriting semantics for this piece of room state. This value is often a zero-length string. The presence of this key makes this event a State Event. The key MUST NOT start with '_'.",
            "type" : "string"
          }
        }
      } ],
      "required" : [ "state_key", "type" ],
      "x-origin" : "matrix-doc/event-schemas/schema/core-event-schema/state_event.yaml"
    },
    "SyncFilter" : {
      "properties" : {
        "event_fields" : {
          "description" : "List of event fields to include. If this list is absent then all fields are included. The entries may include '.' charaters to indicate sub-fields. So ['content.body'] will include the 'body' field of the 'content' object. A literal '.' character in a field name may be escaped using a '\\\\'. A server may include more fields than were requested.",
          "items" : {
            "type" : "string"
          },
          "type" : "array"
        },
        "event_format" : {
          "description" : "The format to use for events. 'client' will return the events in a format suitable for clients. 'federation' will return the raw event as receieved over federation. The default is 'client'.",
          "enum" : [ "client", "federation" ],
          "type" : "string"
        },
        "presence" : {
          "$ref" : "#/definitions/EventFilter",
          "description" : "The presence updates to include."
        },
        "account_data" : {
          "$ref" : "#/definitions/EventFilter",
          "description" : "The user account data that isn't associated with rooms to include."
        },
        "room" : {
          "title" : "RoomFilter",
          "description" : "Filters to be applied to room data.",
          "properties" : {
            "not_rooms" : {
              "description" : "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
              "items" : {
                "type" : "string"
              },
              "type" : "array"
            },
            "rooms" : {
              "description" : "A list of room IDs to include. If this list is absent then all rooms are included. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
              "items" : {
                "type" : "string"
              },
              "type" : "array"
            },
            "ephemeral" : {
              "$ref" : "#/definitions/RoomEventFilter",
              "description" : "The events that aren't recorded in the room history, e.g. typing and receipts, to include for rooms."
            },
            "include_leave" : {
              "description" : "Include rooms that the user has left in the sync, default false",
              "type" : "boolean"
            },
            "state" : {
              "$ref" : "#/definitions/RoomEventFilter",
              "description" : "The state events to include for rooms."
            },
            "timeline" : {
              "$ref" : "#/definitions/RoomEventFilter",
              "description" : "The message and state update events to include for rooms."
            },
            "account_data" : {
              "$ref" : "#/definitions/RoomEventFilter",
              "description" : "The per user account data to include for rooms."
            }
          },
          "type" : "object"
        }
      },
      "type" : "object",
      "x-origin" : "matrix-doc/api/client-server/definitions/sync_filter.yaml"
    },
    "Error" : {
      "type" : "object",
      "description" : "A Matrix-level Error",
      "properties" : {
        "errcode" : {
          "type" : "string",
          "description" : "An error code."
        },
        "error" : {
          "type" : "string",
          "description" : "A human-readable error message."
        }
      },
      "required" : [ "errcode" ],
      "x-origin" : "matrix-doc/api/client-server/definitions/error.yaml"
    },
    "DeviceKeys" : {
      "type" : "object",
      "x-title" : "DeviceKeys",
      "description" : "Device identity keys",
      "properties" : {
        "user_id" : {
          "type" : "string",
          "description" : "The ID of the user the device belongs to. Must match the user ID used\nwhen logging in.",
          "example" : "@alice:example.com"
        },
        "device_id" : {
          "type" : "string",
          "description" : "The ID of the device these keys belong to. Must match the device ID used\nwhen logging in.",
          "example" : "JLAFKJWSCS"
        },
        "algorithms" : {
          "type" : "array",
          "items" : {
            "type" : "string"
          },
          "description" : "The encryption algorithms supported by this device.",
          "example" : [ "m.olm.curve25519-aes-sha256", "m.megolm.v1.aes-sha" ]
        },
        "keys" : {
          "type" : "object",
          "description" : "Public identity keys. The names of the properties should be in the\nformat ``<algorithm>:<device_id>``. The keys themselves should be\nencoded as specified by the key algorithm.",
          "additionalProperties" : {
            "type" : "string"
          },
          "example" : {
            "curve25519:JLAFKJWSCS" : "3C5BFWi2Y8MaVvjM8M22DBmh24PmgR0nPvJOIArzgyI",
            "ed25519:JLAFKJWSCS" : "lEuiRJBit0IG6nUf5pUzWTUEsRVVe/HJkoKuEww9ULI"
          }
        },
        "signatures" : {
          "type" : "object",
          "description" : "Signatures for the device key object. A map from user ID, to a map from\n``<algorithm>:<device_id>`` to the signature.\n\nThe signature is calculated using the process described at `Signing\nJSON`_.",
          "additionalProperties" : {
            "type" : "object",
            "additionalProperties" : {
              "type" : "string"
            }
          },
          "example" : {
            "@alice:example.com" : {
              "ed25519:JLAFKJWSCS" : "dSO80A01XiigH3uBiDVx/EjzaoycHcjq9lfQX0uWsqxl2giMIiSPR8a4d291W1ihKJL/a+myXS367WT6NAIcBA"
            }
          }
        }
      },
      "required" : [ "user_id", "device_id", "algorithms", "keys", "signatures" ],
      "x-origin" : "matrix-doc/api/client-server/definitions/device_keys.yaml"
    },
    "Event" : {
      "type" : "object",
      "description" : "The basic set of fields all events must have.",
      "properties" : {
        "content" : {
          "description" : "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
          "title" : "EventContent",
          "type" : "object"
        },
        "type" : {
          "description" : "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
          "type" : "string"
        }
      },
      "discriminator" : "type",
      "required" : [ "type" ],
      "x-origin" : "matrix-doc/event-schemas/schema/core-event-schema/event.yaml"
    },
    "MRoomMember" : {
      "type" : "object",
      "description" : "Adjusts the membership state for a user in a room. It is preferable to use\nthe membership APIs (``/rooms/<room id>/invite`` etc) when performing\nmembership actions rather than adjusting the state directly as there are a\nrestricted set of valid transformations. For example, user A cannot force\nuser B to join a room, and trying to force this state change directly will\nfail.\n\nThe following membership states are specified:\n\n- ``invite`` - The user has been invited to join a room, but has not yet\n  joined it. They may not participate in the room until they join.\n\n- ``join`` - The user has joined the room (possibly after accepting an\n  invite), and may participate in it.\n\n- ``leave`` - The user was once joined to the room, but has since left\n  (possibly by choice, or possibly by being kicked).\n\n- ``ban`` - The user has been banned from the room, and is no longer allowed\n  to join it until they are un-banned from the room (by having their\n  membership state set to a value other than ``ban``).\n\n- ``knock`` - This is a reserved word, which currently has no meaning.\n\nThe ``third_party_invite`` property will be set if this invite is an\n``invite`` event and is the successor of an ``m.room.third_party_invite``\nevent, and absent otherwise.\n\nThis event may also include an ``invite_room_state`` key **outside the**\n``content`` **key**. If present, this contains an array of ``StrippedState``\nEvents. These events provide information on a subset of state events such as\nthe room name.",
      "x-title" : "The current membership state of a user in the room.",
      "x-discriminator-value" : "m.room.member",
      "allOf" : [ {
        "$ref" : "#/definitions/StateEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "avatar_url" : {
                "description" : "The avatar URL for this user, if any. This is added by the homeserver.",
                "type" : "string"
              },
              "displayname" : {
                "description" : "The display name for this user, if any. This is added by the homeserver.",
                "type" : "string"
              },
              "membership" : {
                "description" : "The membership state of the user.",
                "enum" : [ "invite", "join", "knock", "leave", "ban" ],
                "type" : "string"
              },
              "is_direct" : {
                "description" : "Flag indicating if the room containing this event was created with the intention of being a direct chat. See `Direct Messaging`_.",
                "type" : "boolean"
              },
              "third_party_invite" : {
                "properties" : {
                  "display_name" : {
                    "description" : "A name which can be displayed to represent the user instead of their third party identifier",
                    "type" : "string"
                  },
                  "signed" : {
                    "description" : "A block of content which has been signed, which servers can use to verify the event. Clients should ignore this.",
                    "properties" : {
                      "mxid" : {
                        "description" : "The invited matrix user ID. Must be equal to the user_id property of the event.",
                        "type" : "string"
                      },
                      "signatures" : {
                        "description" : "A single signature from the verifying server, in the format specified by the Signing Events section of the server-server API.",
                        "title" : "Signatures",
                        "type" : "object"
                      },
                      "token" : {
                        "description" : "The token property of the containing third_party_invite object.",
                        "type" : "string"
                      }
                    },
                    "required" : [ "mxid", "signatures", "token" ],
                    "title" : "signed",
                    "type" : "object"
                  }
                },
                "required" : [ "display_name", "signed" ],
                "title" : "Invite",
                "type" : "object"
              }
            },
            "required" : [ "membership" ],
            "title" : "EventContent",
            "type" : "object"
          },
          "invite_room_state" : {
            "description" : "A subset of the state of the room at the time of the invite, if ``membership`` is ``invite``. Note that this state is informational, and SHOULD NOT be trusted; once the client has joined the room, it SHOULD fetch the live state from the server and discard the invite_room_state. Also, clients must not rely on any particular state being present here; they SHOULD behave properly (with possibly a degraded but not a broken experience) in the absence of any particular events here. If they are set on the room, at least the state for ``m.room.avatar``, ``m.room.canonical_alias``, ``m.room.join_rules``, and ``m.room.name`` SHOULD be included.",
            "items" : {
              "description" : "A stripped down state event, with only the ``type``, ``state_key`` and ``content`` keys.",
              "properties" : {
                "content" : {
                  "description" : "The ``content`` for the event.",
                  "title" : "EventContent",
                  "type" : "object"
                },
                "state_key" : {
                  "description" : "The ``state_key`` for the event.",
                  "type" : "string"
                },
                "type" : {
                  "description" : "The ``type`` for the event.",
                  "type" : "string"
                }
              },
              "required" : [ "type", "state_key", "content" ],
              "title" : "StrippedState",
              "type" : "object"
            },
            "type" : "array"
          },
          "state_key" : {
            "description" : "The ``user_id`` this membership event relates to.",
            "type" : "string"
          },
          "membership" : {
            "description" : "The membership state of the user.",
            "enum" : [ "invite", "join", "knock", "leave", "ban" ]
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.member"
    },
    "MPresence" : {
      "type" : "object",
      "description" : "Informs the client of a user's presence state change.",
      "x-title" : "Presence Event",
      "x-discriminator-value" : "m.presence",
      "allOf" : [ {
        "$ref" : "#/definitions/Event"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "object",
            "properties" : {
              "avatar_url" : {
                "type" : "string",
                "description" : "The current avatar URL for this user, if any."
              },
              "displayname" : {
                "type" : "string",
                "description" : "The current display name for this user, if any."
              },
              "last_active_ago" : {
                "type" : "number",
                "description" : "The last time since this used performed some action, in milliseconds."
              },
              "presence" : {
                "type" : "string",
                "description" : "The presence state for this user.",
                "enum" : [ "online", "offline", "unavailable" ]
              },
              "currently_active" : {
                "type" : "boolean",
                "description" : "Whether the user is currently active"
              },
              "user_id" : {
                "type" : "string",
                "description" : "The user's ID."
              }
            },
            "required" : [ "presence", "user_id" ]
          },
          "event_id" : {
            "type" : "string"
          },
          "sender" : {
            "type" : "string"
          }
        }
      } ],
      "required" : [ "event_id", "type", "content" ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.presence"
    },
    "PushRuleset" : {
      "type" : "object",
      "properties" : {
        "content" : {
          "type" : "array",
          "items" : {
            "type" : "object",
            "$ref" : "#/definitions/PushRule"
          }
        },
        "override" : {
          "type" : "array",
          "items" : {
            "type" : "object",
            "$ref" : "#/definitions/PushRule"
          }
        },
        "room" : {
          "type" : "array",
          "items" : {
            "type" : "object",
            "$ref" : "#/definitions/PushRule"
          }
        },
        "sender" : {
          "type" : "array",
          "items" : {
            "type" : "object",
            "$ref" : "#/definitions/PushRule"
          }
        },
        "underride" : {
          "type" : "array",
          "items" : {
            "type" : "object",
            "$ref" : "#/definitions/PushRule"
          }
        }
      },
      "x-origin" : "matrix-doc/event-schemas/schema/core-event-schema/push-rule/push_ruleset.yaml"
    },
    "PushRule" : {
      "x-title" : "PushRule",
      "type" : "object",
      "properties" : {
        "actions" : {
          "items" : {
            "type" : "object"
          },
          "type" : "array",
          "description" : "The actions to perform when this rule is matched."
        },
        "default" : {
          "type" : "boolean",
          "description" : "Whether this is a default rule, or has been set explicitly."
        },
        "enabled" : {
          "type" : "boolean",
          "description" : "Whether the push rule is enabled or not."
        },
        "rule_id" : {
          "type" : "string",
          "description" : "The ID of this rule."
        },
        "conditions" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/PushCondition"
          },
          "description" : "The conditions that must hold true for an event in order for a rule to be\napplied to an event. A rule with no conditions always matches. Only\napplicable to ``underride`` and ``override`` rules."
        },
        "pattern" : {
          "type" : "string",
          "description" : "The glob-style pattern to match against.  Only applicable to ``content``\nrules."
        }
      },
      "required" : [ "actions", "default", "enabled", "rule_id" ],
      "x-origin" : "matrix-doc/event-schemas/schema/core-event-schema/push-rule/push_rule.yaml"
    },
    "PushCondition" : {
      "x-title" : "PushCondition",
      "type" : "object",
      "properties" : {
        "kind" : {
          "type" : "string",
          "enum" : [ "event_match", "contains_display_name", "room_member_count" ]
        },
        "key" : {
          "type" : "string",
          "description" : "Required for ``event_match`` conditions. The dot-separated field of the\nevent to match.",
          "x-example" : "content.body"
        },
        "pattern" : {
          "type" : "string",
          "description" : "Required for ``event_match`` conditions. The glob-style pattern to\nmatch against. Patterns with no special glob characters should be\ntreated as having asterisks prepended and appended when testing the\ncondition."
        },
        "is" : {
          "type" : "string",
          "description" : "Required for ``room_member_count`` conditions. A decimal integer\noptionally prefixed by one of, ==, <, >, >= or <=. A prefix of < matches\nrooms where the member count is strictly less than the given number and\nso forth. If no prefix is present, this parameter defaults to ==."
        }
      },
      "required" : [ "kind" ],
      "x-origin" : "matrix-doc/event-schemas/schema/core-event-schema/push-rule/push_condition.yaml"
    },
    "TimelineBatch" : {
      "allOf" : [ {
        "$ref" : "#/definitions/EventBatch"
      }, {
        "type" : "object",
        "properties" : {
          "limited" : {
            "description" : "True if the number of events returned was limited by the ``limit`` on the filter",
            "type" : "boolean"
          },
          "prev_batch" : {
            "description" : "A token that can be supplied to to the ``from`` parameter of the rooms/{roomId}/messages endpoint",
            "type" : "string"
          }
        }
      } ],
      "type" : "object",
      "x-origin" : "matrix-doc/api/client-server/definitions/timeline_batch.yaml"
    },
    "EventFilter" : {
      "x-title" : "Filter",
      "properties" : {
        "limit" : {
          "description" : "The maximum number of events to return.",
          "type" : "integer"
        },
        "not_senders" : {
          "description" : "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
          "items" : {
            "type" : "string"
          },
          "type" : "array"
        },
        "not_types" : {
          "description" : "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
          "items" : {
            "type" : "string"
          },
          "type" : "array"
        },
        "senders" : {
          "description" : "A list of senders IDs to include. If this list is absent then all senders are included.",
          "items" : {
            "type" : "string"
          },
          "type" : "array"
        },
        "types" : {
          "description" : "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
          "items" : {
            "type" : "string"
          },
          "type" : "array"
        }
      },
      "type" : "object",
      "x-origin" : "matrix-doc/api/client-server/definitions/event_filter.yaml"
    },
    "RoomEventFilter" : {
      "allOf" : [ {
        "$ref" : "#/definitions/EventFilter"
      } ],
      "x-title" : "RoomEventFilter",
      "properties" : {
        "not_rooms" : {
          "description" : "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
          "items" : {
            "type" : "string"
          },
          "type" : "array"
        },
        "rooms" : {
          "description" : "A list of room IDs to include. If this list is absent then all rooms are included.",
          "items" : {
            "type" : "string"
          },
          "type" : "array"
        },
        "contains_url" : {
          "type" : "boolean",
          "description" : "If ``true``, includes only events with a url key in their content. If ``false``, excludes those events."
        }
      },
      "type" : "object",
      "x-origin" : "matrix-doc/api/client-server/definitions/room_event_filter.yaml"
    },
    "MCallAnswer" : {
      "type" : "object",
      "description" : "This event is sent by the callee when they wish to answer the call.",
      "x-discriminator-value" : "m.call.answer",
      "allOf" : [ {
        "$ref" : "#/definitions/RoomEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "object",
            "properties" : {
              "call_id" : {
                "type" : "string",
                "description" : "The ID of the call this event relates to."
              },
              "answer" : {
                "type" : "object",
                "title" : "Answer",
                "description" : "The session description object",
                "properties" : {
                  "type" : {
                    "type" : "string",
                    "enum" : [ "answer" ],
                    "description" : "The type of session description."
                  },
                  "sdp" : {
                    "type" : "string",
                    "description" : "The SDP text of the session description."
                  }
                },
                "required" : [ "type", "sdp" ]
              },
              "version" : {
                "type" : "number",
                "description" : ""
              }
            },
            "required" : [ "call_id", "answer", "version" ]
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.call.answer"
    },
    "MCallCandidates" : {
      "type" : "object",
      "description" : "This event is sent by callers after sending an invite and by the callee after answering. Its purpose is to give the other party additional ICE candidates to try using to communicate.\n",
      "x-discriminator-value" : "m.call.candidates",
      "allOf" : [ {
        "$ref" : "#/definitions/RoomEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "object",
            "properties" : {
              "call_id" : {
                "type" : "string",
                "description" : "The ID of the call this event relates to."
              },
              "candidates" : {
                "type" : "array",
                "description" : "Array of objects describing the candidates.",
                "items" : {
                  "type" : "object",
                  "title" : "Candidate",
                  "properties" : {
                    "sdpMid" : {
                      "type" : "string",
                      "description" : "The SDP media type this candidate is intended for."
                    },
                    "sdpMLineIndex" : {
                      "type" : "number",
                      "description" : "The index of the SDP 'm' line this candidate is intended for."
                    },
                    "candidate" : {
                      "type" : "string",
                      "description" : "The SDP 'a' line of the candidate."
                    }
                  },
                  "required" : [ "candidate", "sdpMLineIndex", "sdpMid" ]
                }
              },
              "version" : {
                "type" : "integer",
                "description" : "The version of the VoIP specification this messages adheres to. This specification is version 0."
              }
            },
            "required" : [ "call_id", "candidates", "version" ]
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.call.candidates"
    },
    "MCallHangup" : {
      "type" : "object",
      "description" : "Sent by either party to signal their termination of the call. This can be sent either once the call has has been established or before to abort the call.\n",
      "x-discriminator-value" : "m.call.hangup",
      "allOf" : [ {
        "$ref" : "#/definitions/RoomEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "object",
            "properties" : {
              "call_id" : {
                "type" : "string",
                "description" : "The ID of the call this event relates to."
              },
              "version" : {
                "type" : "integer",
                "description" : "The version of the VoIP specification this message adheres to. This specification is version 0."
              }
            },
            "required" : [ "call_id", "version" ]
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.call.hangup"
    },
    "MCallInvite" : {
      "type" : "object",
      "description" : "This event is sent by the caller when they wish to establish a call.",
      "x-discriminator-value" : "m.call.invite",
      "allOf" : [ {
        "$ref" : "#/definitions/RoomEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "object",
            "properties" : {
              "call_id" : {
                "type" : "string",
                "description" : "A unique identifer for the call."
              },
              "offer" : {
                "type" : "object",
                "title" : "Offer",
                "description" : "The session description object",
                "properties" : {
                  "type" : {
                    "type" : "string",
                    "enum" : [ "offer" ],
                    "description" : "The type of session description."
                  },
                  "sdp" : {
                    "type" : "string",
                    "description" : "The SDP text of the session description."
                  }
                },
                "required" : [ "type", "sdp" ]
              },
              "version" : {
                "type" : "integer",
                "description" : "The version of the VoIP specification this message adheres to. This specification is version 0."
              },
              "lifetime" : {
                "type" : "integer",
                "description" : "The time in milliseconds that the invite is valid for. Once the invite age exceeds this value, clients should discard it. They should also no longer show the call as awaiting an answer in the UI."
              }
            },
            "required" : [ "call_id", "offer", "version", "lifetime" ]
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.call.invite"
    },
    "MDirect" : {
      "type" : "object",
      "description" : "A map of which rooms are considered 'direct' rooms for specific users\nis kept in  ``account_data`` in an event of type ``m.direct``. The\ncontent of this event is an object where the keys are the user IDs\nand values are lists of room ID strings of the 'direct' rooms for\nthat user ID.",
      "x-title" : "Direct Chat Mapping",
      "x-discriminator-value" : "m.direct",
      "allOf" : [ {
        "$ref" : "#/definitions/Event"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "additionalProperties" : {
              "type" : "array",
              "title" : "User ID",
              "items" : {
                "type" : "string"
              }
            },
            "type" : "object"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.direct"
    },
    "MPushRules" : {
      "type" : "object",
      "description" : "Push rules used definition of event pushing from server to consumer",
      "x-title" : "Push Rules",
      "x-discriminator-value" : "m.push_rules",
      "allOf" : [ {
        "$ref" : "#/definitions/Event"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "object",
            "properties" : {
              "device" : {
                "type" : "object"
              },
              "global" : {
                "type" : "object",
                "description" : "The global ruleset.",
                "$ref" : "#/definitions/PushRuleset"
              }
            },
            "required" : [ "global" ]
          }
        }
      } ],
      "required" : [ "type", "content" ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.push_rules"
    },
    "MReceipt" : {
      "type" : "object",
      "description" : "Informs the client of new receipts.",
      "x-title" : "Receipt Event",
      "x-discriminator-value" : "m.receipt",
      "allOf" : [ {
        "$ref" : "#/definitions/Event"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "object",
            "additionalProperties" : {
              "$ref" : "#/definitions/MReceiptEvent"
            }
          },
          "room_id" : {
            "type" : "string"
          }
        }
      } ],
      "required" : [ "room_id", "type", "content" ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.receipt"
    },
    "MRoomAliases" : {
      "type" : "object",
      "description" : "This event is sent by a homeserver directly to inform of changes to the list of aliases it knows about for that room. The ``state_key`` for this event is set to the homeserver which owns the room alias. The entire set of known aliases for the room is the union of all the ``m.room.aliases`` events, one for each homeserver. Clients **should** check the validity of any room alias given in this list before presenting it to the user as trusted fact. The lists given by this event should be considered simply as advice on which aliases might exist, for which the client can perform the lookup to confirm whether it receives the correct room ID.",
      "x-title" : "Informs the room about what room aliases it has been given.",
      "x-discriminator-value" : "m.room.aliases",
      "allOf" : [ {
        "$ref" : "#/definitions/StateEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "aliases" : {
                "description" : "A list of room aliases.",
                "items" : {
                  "type" : "string"
                },
                "type" : "array"
              }
            },
            "required" : [ "aliases" ],
            "type" : "object"
          },
          "state_key" : {
            "description" : "The homeserver domain which owns these room aliases.",
            "type" : "string"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.aliases"
    },
    "MRoomAvatar" : {
      "type" : "object",
      "description" : "A picture that is associated with the room. This can be displayed alongside the room information.",
      "x-title" : "RoomAvatar",
      "x-discriminator-value" : "m.room.avatar",
      "allOf" : [ {
        "$ref" : "#/definitions/StateEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "info" : {
                "$ref" : "#/definitions/ImageInfo",
                "description" : "Metadata about the image referred to in ``url``."
              },
              "url" : {
                "description" : "The URL to the image.",
                "type" : "string"
              }
            },
            "required" : [ "url" ],
            "type" : "object"
          },
          "state_key" : {
            "description" : "A zero-length string.",
            "pattern" : "^$",
            "type" : "string"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.avatar"
    },
    "MRoomCanonicalAlias" : {
      "type" : "object",
      "description" : "This event is used to inform the room about which alias should be\nconsidered the canonical one. This could be for display purposes or as\nsuggestion to users which alias to use to advertise the room.\n\nA room with an ``m.room.canonical_alias`` event with an absent, null, or\nempty ``alias`` field should be treated the same as a room with no\n``m.room.canonical_alias`` event.",
      "x-title" : "Informs the room as to which alias is the canonical one.",
      "x-discriminator-value" : "m.room.canonical_alias",
      "allOf" : [ {
        "$ref" : "#/definitions/StateEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "alias" : {
                "description" : "The canonical alias.",
                "type" : "string"
              }
            },
            "type" : "object",
            "required" : [ "alias" ]
          },
          "state_key" : {
            "description" : "A zero-length string.",
            "pattern" : "^$",
            "type" : "string"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.canonical_alias"
    },
    "MRoomCreate" : {
      "type" : "object",
      "description" : "This is the first event in a room and cannot be changed. It acts as the root of all other events.",
      "x-title" : "The first event in the room.",
      "x-discriminator-value" : "m.room.create",
      "allOf" : [ {
        "$ref" : "#/definitions/StateEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "creator" : {
                "description" : "The ``user_id`` of the room creator. This is set by the homeserver.",
                "type" : "string"
              },
              "m.federate" : {
                "description" : "Whether users on other servers can join this room. Defaults to ``true`` if key does not exist.",
                "type" : "boolean"
              }
            },
            "required" : [ "creator" ],
            "type" : "object"
          },
          "state_key" : {
            "description" : "A zero-length string.",
            "pattern" : "^$",
            "type" : "string"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.create"
    },
    "MRoomGuestAccess" : {
      "type" : "object",
      "description" : "This event controls whether guest users are allowed to join rooms. If this event is absent, servers should act as if it is present and has the guest_access value \"forbidden\".",
      "x-title" : "Controls whether guest users are allowed to join rooms.",
      "x-discriminator-value" : "m.room.guest_access",
      "allOf" : [ {
        "$ref" : "#/definitions/StateEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "guest_access" : {
                "description" : "Whether guests can join the room.",
                "enum" : [ "can_join", "forbidden" ],
                "type" : "string"
              }
            },
            "required" : [ "guest_access" ],
            "type" : "object"
          },
          "state_key" : {
            "description" : "A zero-length string.",
            "pattern" : "^$",
            "type" : "string"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.guest_access"
    },
    "MRoomHistoryVisibility" : {
      "type" : "object",
      "description" : "This event controls whether a user can see the events that happened in a room from before they joined.",
      "x-title" : "Controls visibility of history.",
      "x-discriminator-value" : "m.room.history_visibility",
      "allOf" : [ {
        "$ref" : "#/definitions/StateEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "history_visibility" : {
                "description" : "Who can see the room history.",
                "enum" : [ "invited", "joined", "shared", "world_readable" ],
                "type" : "string"
              }
            },
            "required" : [ "history_visibility" ],
            "type" : "object"
          },
          "state_key" : {
            "description" : "A zero-length string.",
            "pattern" : "^$",
            "type" : "string"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.history_visibility"
    },
    "MRoomJoinRules" : {
      "type" : "object",
      "description" : "A room may be ``public`` meaning anyone can join the room without any prior action. Alternatively, it can be ``invite`` meaning that a user who wishes to join the room must first receive an invite to the room from someone already inside of the room. Currently, ``knock`` and ``private`` are reserved keywords which are not implemented.",
      "x-title" : "Describes how users are allowed to join the room.",
      "x-discriminator-value" : "m.room.join_rules",
      "allOf" : [ {
        "$ref" : "#/definitions/StateEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "join_rule" : {
                "description" : "The type of rules used for users wishing to join this room.",
                "enum" : [ "public", "knock", "invite", "private" ],
                "type" : "string"
              }
            },
            "required" : [ "join_rule" ],
            "type" : "object"
          },
          "state_key" : {
            "description" : "A zero-length string.",
            "pattern" : "^$",
            "type" : "string"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.join_rules"
    },
    "MRoomMessage" : {
      "type" : "object",
      "description" : "This event is used when sending messages in a room. Messages are not limited to be text. The ``msgtype`` key outlines the type of message, e.g. text, audio, image, video, etc. The ``body`` key is text and MUST be used with every kind of ``msgtype`` as a fallback mechanism for when a client cannot render a message. This allows clients to display *something* even if it is just plain text.",
      "x-title" : "Message",
      "x-discriminator-value" : "m.room.message",
      "allOf" : [ {
        "$ref" : "#/definitions/RoomEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "$ref" : "#/definitions/MRoomMessageContent"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.message"
    },
    "MRoomMessageFeedback" : {
      "type" : "object",
      "description" : "**NB: Usage of this event is discouraged in favour of the** `receipts module`_. **Most clients will not recognise this event.** Feedback events are events sent to acknowledge a message in some way. There are two supported acknowledgements: ``delivered`` (sent when the event has been received) and ``read`` (sent when the event has been observed by the end-user). The ``target_event_id`` should reference the ``m.room.message`` event being acknowledged.'",
      "x-title" : "MessageFeedback",
      "x-discriminator-value" : "m.room.message.feedback",
      "allOf" : [ {
        "$ref" : "#/definitions/RoomEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "target_event_id" : {
                "description" : "The event that this feedback is related to.",
                "type" : "string"
              },
              "type" : {
                "description" : "The type of feedback.",
                "enum" : [ "delivered", "read" ],
                "type" : "string"
              }
            },
            "required" : [ "type", "target_event_id" ],
            "type" : "object"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.message.feedback"
    },
    "MRoomMessageMAudio" : {
      "type" : "object",
      "description" : "This message represents a single audio clip.",
      "x-title" : "AudioMessage",
      "x-discriminator-value" : "m.audio",
      "allOf" : [ {
        "$ref" : "#/definitions/RoomEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "body" : {
                "description" : "A description of the audio e.g. 'Bee Gees - Stayin' Alive', or some kind of content description for accessibility e.g. 'audio attachment'.",
                "type" : "string"
              },
              "info" : {
                "description" : "Metadata for the audio clip referred to in ``url``.",
                "properties" : {
                  "duration" : {
                    "description" : "The duration of the audio in milliseconds.",
                    "type" : "integer"
                  },
                  "mimetype" : {
                    "description" : "The mimetype of the audio e.g. ``audio/aac``.",
                    "type" : "string"
                  },
                  "size" : {
                    "description" : "The size of the audio clip in bytes.",
                    "type" : "integer"
                  }
                },
                "title" : "AudioInfo",
                "type" : "object"
              },
              "msgtype" : {
                "enum" : [ "m.audio" ],
                "type" : "string"
              },
              "url" : {
                "description" : "The URL to the audio clip.",
                "type" : "string"
              }
            },
            "required" : [ "msgtype", "body", "url" ],
            "type" : "object"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.message#m.audio"
    },
    "MRoomMessageMEmote" : {
      "type" : "object",
      "description" : "This message is similar to ``m.text`` except that the sender is 'performing' the action contained in the ``body`` key, similar to ``/me`` in IRC. This message should be prefixed by the name of the sender. This message could also be represented in a different colour to distinguish it from regular ``m.text`` messages.",
      "x-title" : "EmoteMessage",
      "x-discriminator-value" : "m.emote",
      "allOf" : [ {
        "$ref" : "#/definitions/MRoomMessageContent"
      }, {
        "type" : "object",
        "properties" : {
          "body" : {
            "description" : "The emote action to perform.",
            "type" : "string"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.message#m.emote"
    },
    "MRoomMessageMFile" : {
      "type" : "object",
      "description" : "This message represents a generic file.",
      "x-title" : "FileMessage",
      "x-discriminator-value" : "m.file",
      "allOf" : [ {
        "$ref" : "#/definitions/MRoomMessageContent"
      }, {
        "type" : "object",
        "properties" : {
          "body" : {
            "description" : "A human-readable description of the file. This is recommended to be the filename of the original upload.",
            "type" : "string"
          },
          "filename" : {
            "description" : "The original filename of the uploaded file.",
            "type" : "string"
          },
          "info" : {
            "description" : "Information about the file referred to in ``url``.",
            "properties" : {
              "mimetype" : {
                "description" : "The mimetype of the file e.g. ``application/msword``.",
                "type" : "string"
              },
              "size" : {
                "description" : "The size of the file in bytes.",
                "type" : "integer"
              },
              "thumbnail_url" : {
                "description" : "The URL to the thumbnail of the file.",
                "type" : "string"
              },
              "thumbnail_info" : {
                "$ref" : "#/definitions/ThumbnailInfo",
                "description" : "Metadata about the image referred to in ``thumbnail_url``."
              }
            },
            "title" : "FileInfo",
            "type" : "object"
          },
          "url" : {
            "description" : "The URL to the file.",
            "type" : "string"
          }
        },
        "required" : [ "msgtype", "body", "url", "filename" ]
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.message#m.file"
    },
    "MRoomMessageMImage" : {
      "type" : "object",
      "description" : "This message represents a single image and an optional thumbnail.",
      "x-title" : "ImageMessage",
      "x-discriminator-value" : "m.image",
      "allOf" : [ {
        "$ref" : "#/definitions/MRoomMessageContent"
      }, {
        "type" : "object",
        "properties" : {
          "body" : {
            "description" : "A textual representation of the image. This could be the alt text of the image, the filename of the image, or some kind of content description for accessibility e.g. 'image attachment'.",
            "type" : "string"
          },
          "info" : {
            "$ref" : "#/definitions/ImageInfo",
            "description" : "Metadata about the image referred to in ``url``."
          },
          "url" : {
            "description" : "The URL to the image.",
            "type" : "string"
          }
        },
        "required" : [ "msgtype", "body", "url" ]
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.message#m.image"
    },
    "MRoomMessageMLocation" : {
      "type" : "object",
      "description" : "This message represents a real-world location.",
      "x-title" : "LocationMessage",
      "x-discriminator-value" : "m.location",
      "allOf" : [ {
        "$ref" : "#/definitions/MRoomMessageContent"
      }, {
        "type" : "object",
        "properties" : {
          "body" : {
            "description" : "A description of the location e.g. 'Big Ben, London, UK', or some kind of content description for accessibility e.g. 'location attachment'.",
            "type" : "string"
          },
          "geo_uri" : {
            "description" : "A geo URI representing this location.",
            "type" : "string"
          },
          "info" : {
            "type" : "object",
            "properties" : {
              "thumbnail_url" : {
                "description" : "The URL to a thumbnail of the location being represented.",
                "type" : "string"
              },
              "thumbnail_info" : {
                "$ref" : "#/definitions/ThumbnailInfo",
                "description" : "Metadata about the image referred to in ``thumbnail_url``."
              }
            },
            "title" : "LocationInfo"
          }
        },
        "required" : [ "msgtype", "body", "geo_uri" ]
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.message#m.location"
    },
    "MRoomMessageMNotice" : {
      "type" : "object",
      "description" : "The ``m.notice`` type is primarily intended for responses from automated clients. An ``m.notice`` message must be treated the same way as a regular ``m.text`` message with two exceptions. Firstly, clients should present ``m.notice`` messages to users in a distinct manner, and secondly, ``m.notice`` messages must never be automatically responded to. This helps to prevent infinite-loop situations where two automated clients continuously exchange messages.",
      "x-title" : "NoticeMessage",
      "x-discriminator-value" : "m.notice",
      "allOf" : [ {
        "$ref" : "#/definitions/MRoomMessageContent"
      }, {
        "type" : "object",
        "properties" : {
          "body" : {
            "description" : "The notice text to send.",
            "type" : "string"
          }
        },
        "required" : [ "msgtype", "body" ]
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.message#m.notice"
    },
    "MRoomMessageMText" : {
      "type" : "object",
      "description" : "This message is the most basic message and is used to represent text.",
      "x-title" : "TextMessage",
      "x-discriminator-value" : "m.text",
      "allOf" : [ {
        "$ref" : "#/definitions/MRoomMessageContent"
      }, {
        "type" : "object",
        "properties" : {
          "body" : {
            "description" : "The body of the message.",
            "type" : "string"
          }
        },
        "required" : [ "msgtype", "body" ]
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.message#m.text"
    },
    "MRoomMessageMVideo" : {
      "type" : "object",
      "description" : "This message represents a single video clip.",
      "x-title" : "VideoMessage",
      "x-discriminator-value" : "m.video",
      "allOf" : [ {
        "$ref" : "#/definitions/MRoomMessageContent"
      }, {
        "type" : "object",
        "properties" : {
          "body" : {
            "description" : "A description of the video e.g. 'Gangnam style', or some kind of content description for accessibility e.g. 'video attachment'.",
            "type" : "string"
          },
          "info" : {
            "description" : "Metadata about the video clip referred to in ``url``.",
            "properties" : {
              "duration" : {
                "description" : "The duration of the video in milliseconds.",
                "type" : "integer"
              },
              "h" : {
                "description" : "The height of the video in pixels.",
                "type" : "integer"
              },
              "w" : {
                "description" : "The width of the video in pixels.",
                "type" : "integer"
              },
              "mimetype" : {
                "description" : "The mimetype of the video e.g. ``video/mp4``.",
                "type" : "string"
              },
              "size" : {
                "description" : "The size of the video in bytes.",
                "type" : "integer"
              },
              "thumbnail_url" : {
                "description" : "The URL to an image thumbnail of the video clip.",
                "type" : "string"
              },
              "thumbnail_info" : {
                "$ref" : "#/definitions/ThumbnailInfo",
                "description" : "Metadata about the image referred to in ``thumbnail_url``."
              }
            },
            "title" : "VideoInfo",
            "type" : "object"
          },
          "url" : {
            "description" : "The URL to the video clip.",
            "type" : "string"
          }
        },
        "required" : [ "msgtype", "body", "url" ]
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.message#m.video"
    },
    "MRoomName" : {
      "type" : "object",
      "description" : "A room has an opaque room ID which is not human-friendly to read. A room\nalias is human-friendly, but not all rooms have room aliases. The room name\nis a human-friendly string designed to be displayed to the end-user. The\nroom name is not unique, as multiple rooms can have the same room name set.\n\nA room with an ``m.room.name`` event with an absent, null, or empty\n``name`` field should be treated the same as a room with no ``m.room.name``\nevent.\n\nAn event of this type is automatically created when creating a room using\n``/createRoom`` with the ``name`` key.",
      "x-title" : "RoomName",
      "x-discriminator-value" : "m.room.name",
      "allOf" : [ {
        "$ref" : "#/definitions/StateEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "name" : {
                "description" : "The name of the room. This MUST NOT exceed 255 bytes.",
                "type" : "string"
              }
            },
            "required" : [ "name" ],
            "type" : "object"
          },
          "state_key" : {
            "description" : "A zero-length string.",
            "pattern" : "^$",
            "type" : "string"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.name"
    },
    "MRoomPowerLevels" : {
      "type" : "object",
      "description" : "This event specifies the minimum level a user must have in order to perform a\ncertain action. It also specifies the levels of each user in the room.\n\nIf a ``user_id`` is in the ``users`` list, then that ``user_id`` has the\nassociated power level. Otherwise they have the default level\n``users_default``. If ``users_default`` is not supplied, it is assumed to be\n0.\n\nThe level required to send a certain event is governed by ``events``,\n``state_default`` and ``events_default``. If an event type is specified in\n``events``, then the user must have at least the level specified in order to\nsend that event. If the event type is not supplied, it defaults to\n``events_default`` for Message Events and ``state_default`` for State\nEvents.\n\nIf there is no ``state_default`` in the ``m.room.power_levels`` event, the\n``state_default`` is 50. If there is no ``events_default`` in the\n``m.room.power_levels`` event, the ``events_default`` is 0. If the room\ncontains no ``m.room.power_levels`` event, *both* the ``state_default`` and\n``events_default`` are 0.\n\nThe power level required to invite a user to the room, kick a user from the\nroom, ban a user from the room, or redact an event, is defined by ``invite``,\n``kick``, ``ban``, and ``redact``, respectively. Each of these levels defaults\nto 50 if they are not specified in the ``m.room.power_levels`` event, or if\nthe room contains no ``m.room.power_levels`` event.",
      "x-title" : "Defines the power levels (privileges) of users in the room.",
      "x-discriminator-value" : "m.room.power_levels",
      "allOf" : [ {
        "$ref" : "#/definitions/StateEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "ban" : {
                "description" : "The level required to ban a user. Defaults to 50 if unspecified.",
                "type" : "number"
              },
              "events" : {
                "additionalProperties" : {
                  "type" : "number"
                },
                "description" : "The level required to send specific event types. This is a mapping from event type to power level required.",
                "title" : "Event power levels",
                "type" : "object"
              },
              "events_default" : {
                "description" : "The default level required to send message events. Can be\noverridden by the ``events`` key.  Defaults to 0 if unspecified.",
                "type" : "number"
              },
              "invite" : {
                "description" : "The level required to invite a user. Defaults to 50 if unspecified.",
                "type" : "number"
              },
              "kick" : {
                "description" : "The level required to kick a user. Defaults to 50 if unspecified.",
                "type" : "number"
              },
              "redact" : {
                "description" : "The level required to redact an event. Defaults to 50 if unspecified.",
                "type" : "number"
              },
              "state_default" : {
                "description" : "The default level required to send state events. Can be overridden\nby the ``events`` key. Defaults to 50 if unspecified, but 0 if\nthere is no ``m.room.power_levels`` event at all.",
                "type" : "number"
              },
              "users" : {
                "additionalProperties" : {
                  "type" : "number"
                },
                "description" : "The power levels for specific users. This is a mapping from ``user_id`` to power level for that user.",
                "title" : "User power levels",
                "type" : "object"
              },
              "users_default" : {
                "description" : "The default power level for every user in the room, unless their\n``user_id`` is mentioned in the ``users`` key. Defaults to 0 if\nunspecified.",
                "type" : "number"
              }
            },
            "type" : "object"
          },
          "state_key" : {
            "description" : "A zero-length string.",
            "pattern" : "^$",
            "type" : "string"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.power_levels"
    },
    "MRoomRedaction" : {
      "type" : "object",
      "description" : "Events can be redacted by either room or server admins. Redacting an event means that all keys not required by the protocol are stripped off, allowing admins to remove offensive or illegal content that may have been attached to any event. This cannot be undone, allowing server owners to physically delete the offending data.  There is also a concept of a moderator hiding a message event, which can be undone, but cannot be applied to state events. The event that has been redacted is specified in the ``redacts`` event level key.",
      "x-title" : "Redaction",
      "x-discriminator-value" : "m.room.redaction",
      "allOf" : [ {
        "$ref" : "#/definitions/RoomEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "reason" : {
                "description" : "The reason for the redaction, if any.",
                "type" : "string"
              }
            },
            "type" : "object"
          },
          "redacts" : {
            "description" : "The event ID that was redacted.",
            "type" : "string"
          }
        }
      } ],
      "required" : [ "redacts" ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.redaction"
    },
    "MRoomThirdPartyInvite" : {
      "type" : "object",
      "description" : "Acts as an ``m.room.member`` invite event, where there isn't a target user_id to invite. This event contains a token and a public key whose private key must be used to sign the token. Any user who can present that signature may use this invitation to join the target room.",
      "x-title" : "An invitation to a room issued to a third party identifier, rather than a matrix user ID.",
      "x-discriminator-value" : "m.room.third_party_invite",
      "allOf" : [ {
        "$ref" : "#/definitions/StateEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "display_name" : {
                "description" : "A user-readable string which represents the user who has been invited. This should not contain the user's third party ID, as otherwise when the invite is accepted it would leak the association between the matrix ID and the third party ID.",
                "type" : "string"
              },
              "key_validity_url" : {
                "description" : "A URL which can be fetched, with querystring public_key=public_key, to validate whether the key has been revoked. The URL must return a JSON object containing a boolean property named 'valid'.",
                "type" : "string"
              },
              "public_key" : {
                "description" : "A base64-encoded ed25519 key with which token must be signed (though a signature from any entry in public_keys is also sufficient). This exists for backwards compatibility.",
                "type" : "string"
              },
              "public_keys" : {
                "description" : "Keys with which the token may be signed.",
                "items" : {
                  "properties" : {
                    "key_validity_url" : {
                      "description" : "An optional URL which can be fetched, with querystring public_key=public_key, to validate whether the key has been revoked. The URL must return a JSON object containing a boolean property named 'valid'. If this URL is absent, the key must be considered valid indefinitely.",
                      "type" : "string"
                    },
                    "public_key" : {
                      "description" : "A base-64 encoded ed25519 key with which token may be signed.",
                      "type" : "string"
                    }
                  },
                  "required" : [ "public_key" ],
                  "title" : "PublicKeys",
                  "type" : "object"
                },
                "type" : "array"
              }
            },
            "required" : [ "display_name", "key_validity_url", "public_key" ],
            "type" : "object"
          },
          "state_key" : {
            "description" : "The token, of which a signature must be produced in order to join the room.",
            "type" : "string"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.third_party_invite"
    },
    "MRoomTopic" : {
      "type" : "object",
      "description" : "A topic is a short message detailing what is currently being discussed in the room.  It can also be used as a way to display extra information about the room, which may not be suitable for the room name. The room topic can also be set when creating a room using ``/createRoom`` with the ``topic`` key.",
      "x-title" : "Topic",
      "x-discriminator-value" : "m.room.topic",
      "allOf" : [ {
        "$ref" : "#/definitions/StateEvent"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "properties" : {
              "topic" : {
                "description" : "The topic text.",
                "type" : "string"
              }
            },
            "required" : [ "topic" ],
            "type" : "object"
          },
          "state_key" : {
            "description" : "A zero-length string.",
            "pattern" : "^$",
            "type" : "string"
          }
        }
      } ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.room.topic"
    },
    "MTag" : {
      "type" : "object",
      "description" : "Informs the client of tags on a room.",
      "x-title" : "Tag Event",
      "x-discriminator-value" : "m.tag",
      "allOf" : [ {
        "$ref" : "#/definitions/Event"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "object",
            "properties" : {
              "tags" : {
                "type" : "object",
                "description" : "The tags on the room and their contents.",
                "additionalProperties" : {
                  "title" : "Tag",
                  "type" : "object"
                }
              }
            }
          }
        }
      } ],
      "required" : [ "type", "content" ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.tag"
    },
    "MTyping" : {
      "type" : "object",
      "description" : "Informs the client of the list of users currently typing.",
      "x-title" : "Typing Event",
      "x-discriminator-value" : "m.typing",
      "allOf" : [ {
        "$ref" : "#/definitions/Event"
      }, {
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "object",
            "properties" : {
              "user_ids" : {
                "type" : "array",
                "items" : {
                  "type" : "string"
                },
                "description" : "The list of user IDs typing in this room, if any."
              }
            },
            "required" : [ "user_ids" ]
          },
          "room_id" : {
            "type" : "string"
          }
        }
      } ],
      "required" : [ "type", "room_id", "content" ],
      "x-origin" : "matrix-doc/event-schemas/schema/m.typing"
    },
    "MReceiptEvent" : {
      "type" : "object",
      "x-pattern" : "$EVENT_ID",
      "description" : "The mapping of event ID to a collection of receipts for this event ID. The event ID is the ID of the event being acknowledged and *not* an ID for the receipt itself.\n",
      "properties" : {
        "m.read" : {
          "type" : "object",
          "title" : "Users",
          "description" : "A collection of users who have sent ``m.read`` receipts for this event.",
          "additionalProperties" : {
            "$ref" : "#/definitions/MReceiptUser"
          }
        }
      },
      "x-origin" : "matrix-doc/event-schemas/schema/m.receipt.event"
    },
    "ImageInfo" : {
      "description" : "Metadata about an image.",
      "x-schema" : "http://json-schema.org/draft-04/schema#",
      "properties" : {
        "h" : {
          "description" : "The height of the image in pixels.",
          "type" : "integer"
        },
        "w" : {
          "description" : "The width of the image in pixels.",
          "type" : "integer"
        },
        "mimetype" : {
          "description" : "The mimetype of the image, e.g. ``image/jpeg``.",
          "type" : "string"
        },
        "size" : {
          "description" : "Size of the image in bytes.",
          "type" : "integer"
        },
        "thumbnail_url" : {
          "description" : "The URL to a thumbnail of the image.",
          "type" : "string"
        },
        "thumbnail_info" : {
          "$ref" : "#/definitions/ThumbnailInfo",
          "description" : "Metadata about the image referred to in ``thumbnail_url``."
        }
      },
      "x-title" : "ImageInfo",
      "type" : "object",
      "x-origin" : "matrix-doc/event-schemas/schema/core-event-schema/msgtype_infos/image_info.yaml"
    },
    "MRoomMessageContent" : {
      "type" : "object",
      "description" : "This message is base for different types of m.room.message",
      "x-title" : "RoomMessageContent",
      "discriminator" : "msgtype",
      "properties" : {
        "body" : {
          "description" : "A description of content, it should always contain text representation of rich media",
          "type" : "string"
        },
        "msgtype" : {
          "type" : "string"
        }
      },
      "required" : [ "body", "msgtype" ],
      "x-origin" : "matrix-doc/event-schemas/schema/core-event-schema/m_room_message_content.yaml"
    },
    "ThumbnailInfo" : {
      "description" : "Metadata about a thumbnail image.",
      "x-schema" : "http://json-schema.org/draft-04/schema#",
      "properties" : {
        "h" : {
          "description" : "The height of the image in pixels.",
          "type" : "integer"
        },
        "w" : {
          "description" : "The width of the image in pixels.",
          "type" : "integer"
        },
        "mimetype" : {
          "description" : "The mimetype of the image, e.g. ``image/jpeg``.",
          "type" : "string"
        },
        "size" : {
          "description" : "Size of the image in bytes.",
          "type" : "integer"
        }
      },
      "x-title" : "ThumbnailInfo",
      "type" : "object",
      "x-origin" : "matrix-doc/event-schemas/schema/core-event-schema/msgtype_infos/thumbnail_info.yaml"
    },
    "MReceiptUser" : {
      "type" : "object",
      "description" : "The mapping of user ID to receipt. The user ID is the entity who sent this receipt.",
      "x-pattern" : "$USER_ID",
      "properties" : {
        "ts" : {
          "type" : "number",
          "description" : "The timestamp the receipt was sent at."
        }
      },
      "x-origin" : "matrix-doc/event-schemas/schema/m.receipt.user"
    }
  },
  "securityDefinitions" : {
    "accessToken" : {
      "type" : "apiKey",
      "description" : "The access_token returned by a call to ``/login`` or ``/register``",
      "name" : "access_token",
      "in" : "query"
    }
  },
  "swagger" : "2.0",
  "info" : {
    "title" : "Matrix Client-Server Client Config API",
    "version" : "1.0.0"
  },
  "consumes" : [ "application/json" ]
}